{
    "docs": [
        {
            "location": "/",
            "text": ">\u5199\u5728\u5f00\u5934\n\u00b6\n\n\n\u9ad8\u901a\u91cf\u6d4b\u5e8f\u6280\u672f\u5df2\u7ecf\u53d1\u5c55\u4e86\u5f88\u591a\u5e74\uff0c\u5e7f\u53d7\u6b22\u8fce\u7684\u5c0f\u578b\u6d4b\u5e8f\u4eea\nMiSeq\n\u548c\nPGM\n\u5df2\u7ecf\u7ecf\u5386\u4f4f\u5e02\u573a\u7684\u8003\u9a8c\u3002\u540c\u65f6\u65b0\u7684\u6280\u672f\u548c\u4eea\u5668\u7684\u51fa\u73b0\u4ecd\u5728\u4e0d\u505c\u63a8\u52a8\u6d4b\u5e8f\u6280\u672f\u9886\u57df\u7684\u5e94\u7528\uff0c\u5982MinIon\u6d4b\u5e8f\u4eea\u7684\u73b0\u573a\u5b9e\u65f6\u6d4b\u5e8f\uff1b\u5982\u4e2d\u75be\u63a7\u5bf9\u534e\u5927\u81ea\u4e3b\u6d4b\u5e8f\u4eea\u7684\u5e94\u7528\u7b49\u7b49\u3002\n\n\n\u968f\u7740Pulsenet China\u7684\u9010\u6e10\u5b8c\u5584\uff0c\u5229\u7528NGS\u6280\u672f\u5bf9\u75c5\u539f\u8fdb\u884c\u7814\u7a76\u7684\u5de5\u4f5c\u8fdf\u65e9\u4f1a\u6210\u4e3a\u4e00\u79cdCDCers\u7684\u65e5\u5e38\u6d3b\u52a8\u3002\u8fd9\u4e2a\u5de5\u4f5c\u5305\u542b\u4e86\u6838\u9178\u63d0\u53d6\u3001\u6587\u5e93\u5236\u5907\u3001\u6d4b\u5e8f\u3001\u6570\u636e\u5206\u6790\u3002\u524d3\u9879\u5bf9\u4e8e\u75be\u63a7\u4e2d\u5fc3\u5b9e\u9a8c\u5ba4\u4eba\u5458\u6765\u8bf4\u5e76\u975e\u96be\u4e8b\uff0c\u4f46\u662f\u6570\u636e\u5206\u6790\u5bf9\u4e8e\u533b\u5b66\u6216\u8005\u751f\u7269\u5b66\u80cc\u666f\u7684CDCers\u6765\u8bf4\u5f80\u5f80\u6210\u4e86\u6700\u5927\u7684\u75db\u70b9\u3002\u5bf9\u4e8e\u79d1\u7814\u5de5\u4f5c\uff0c\u53ef\u4ee5\u4e0e\u4e13\u4e1a\u7684\u751f\u4fe1\u516c\u53f8\u4eba\u5458\u5408\u4f5c\u3002\u4f46\u662f\u5bf9\u4e8e\u65e5\u5e38\u5de5\u4f5c\uff0c\u76ee\u524d\u603b\u4f53\u4e0a\u8fd8\u662f\u7f3a\u4e4f\u5b8c\u5584\u7684\u5de5\u4f5c\u6d41\u3002\u5373\u4f7f\u662f\u90e8\u7f72\u4e0aGUI\u7a0b\u5e8f\u5982\nCLC Workbench\n\uff0c\u6216\u8005\u662f\u7c7b\u4f3c\nGalaxy\n\u8fd9\u6837\u7684web\u5e73\u53f0\u7684\u5e94\u7528\uff0c\u5982\u679c\u7f3a\u4e4f\u5bf9\u6570\u636e\u5206\u6790\u6700\u57fa\u672c\u7684\u6982\u5ff5\uff0c\u90a3\u4e5f\u53ea\u80fd\u662f\u7a7a\u6709\u4e00\u8eab\u88c5\u5907\u5374\u65e0\u6cd5\u53d1\u6325\u3002\n\n\n\u676d\u5dde\u5e02\u75be\u63a7\u4e2d\u5fc3\u7740\u773c\u4e8eNGS\u7684\u53d1\u5c55\uff0c\u65e9\u57282011\u5e74\u5c31\u5f00\u59cb\u8fdb\u884c\u6709\u8ba1\u5212\u7684\u5b66\u4e60\u548c\u8fdb\u4fee\u3002\u7ecf\u8fc7\u957f\u671f\u7684\u8c03\u7814\u548c\u51c6\u5907\uff0c\u7ec8\u4e8e\u57282016\u5e74\u91c7\u8d2d\u4e86\nillumina\n MiSeq\u6d4b\u5e8f\u4eea\u3002\u867d\u7136\u8fdb\u884c\u4e86\u957f\u671f\u7684\u77e5\u8bc6\u50a8\u5907\u548c\u79ef\u7d2f\uff0c\u4f46\u662f\u6211\u4eec\u7684\u5de5\u4f5c\u4eba\u5458\u4e5f\u540c\u6837\u5b58\u5728\u7740\u5bf9\u6570\u636e\u5206\u6790\u7684\u96be\u70b9\u3002\u5bf9\u4e8e\u57fa\u5c42\u75be\u63a7\u4e2d\u5fc3\u5b9e\u9a8c\u5ba4\uff0c\u53d7\u9650\u4e8e\u4eba\u5458\u7f16\u5236\u7b49\u95ee\u9898\uff0c\u8fd9\u4e9b\u56f0\u96be\u5c31\u53ea\u80fd\u7531\u6211\u4eec\u81ea\u5df1\u89e3\u51b3\u3002\u6240\u4ee5\u4e5f\u5c31\u6709\u4e86\u8fd9\u90e8\u6559\u5b66\u5185\u5bb9\u3002\n\n\n\u7b14\u8005\u6bd5\u7adf\u4e0d\u64c5\u957f\u6559\u5b66\uff0c\u56e0\u6b64\u5185\u5bb9\u548c\u7ed3\u6784\u6bd4\u8f83\u6df7\u4e71\uff0c\u53ea\u80fd\u53d6\u540d\u4e3a\u5fc3\u5f97\u7b14\u8bb0\u3002\u5982\u679c\u5bf9\u4e8e\u521a\u8fdb\u5165\u8fd9\u4e2a\u9886\u57df\u7684\u540c\u884c\u5982\u80fd\u6709\u4e00\u70b9\u70b9\u5e2e\u52a9\uff0c\u4e5f\u7b97\u662f\u4e86\u5374\u5fc3\u613f\u4e86\u3002\n\n\n\u7248\u672c\u66f4\u65b0\n\u00b6\n\n\nv0.0.3: 2018.05.15\n\n\n\n\n\u91cd\u65b0\u5f00\u59cb\u66f4\u65b0\n\n\n\n\nv0.0.2: 2017.07.20\n\n\n\n\nedirect \u90e8\u5206\u57fa\u672c\u5b8c\u6210\uff0c\u8fdb\u5165\u77eb\u9519\u548c\u8865\u5145\u72b6\u6001\n\n\nassembly \u90e8\u5206\u5b8c\u6210\u5ea650%\n\n\n\n\nv0.0.1: 2017.04.01\n\n\n\n\n\u5bf9\u539f\u6709\u5185\u5bb9\u505a\u4e86\u9002\u5f53\u8c03\u6574\n\n\n\u91cd\u65b0\u8c03\u6574\u4e86\u7ae0\u8282",
            "title": "\u524d\u8a00"
        },
        {
            "location": "/#_1",
            "text": "\u9ad8\u901a\u91cf\u6d4b\u5e8f\u6280\u672f\u5df2\u7ecf\u53d1\u5c55\u4e86\u5f88\u591a\u5e74\uff0c\u5e7f\u53d7\u6b22\u8fce\u7684\u5c0f\u578b\u6d4b\u5e8f\u4eea MiSeq \u548c PGM \u5df2\u7ecf\u7ecf\u5386\u4f4f\u5e02\u573a\u7684\u8003\u9a8c\u3002\u540c\u65f6\u65b0\u7684\u6280\u672f\u548c\u4eea\u5668\u7684\u51fa\u73b0\u4ecd\u5728\u4e0d\u505c\u63a8\u52a8\u6d4b\u5e8f\u6280\u672f\u9886\u57df\u7684\u5e94\u7528\uff0c\u5982MinIon\u6d4b\u5e8f\u4eea\u7684\u73b0\u573a\u5b9e\u65f6\u6d4b\u5e8f\uff1b\u5982\u4e2d\u75be\u63a7\u5bf9\u534e\u5927\u81ea\u4e3b\u6d4b\u5e8f\u4eea\u7684\u5e94\u7528\u7b49\u7b49\u3002  \u968f\u7740Pulsenet China\u7684\u9010\u6e10\u5b8c\u5584\uff0c\u5229\u7528NGS\u6280\u672f\u5bf9\u75c5\u539f\u8fdb\u884c\u7814\u7a76\u7684\u5de5\u4f5c\u8fdf\u65e9\u4f1a\u6210\u4e3a\u4e00\u79cdCDCers\u7684\u65e5\u5e38\u6d3b\u52a8\u3002\u8fd9\u4e2a\u5de5\u4f5c\u5305\u542b\u4e86\u6838\u9178\u63d0\u53d6\u3001\u6587\u5e93\u5236\u5907\u3001\u6d4b\u5e8f\u3001\u6570\u636e\u5206\u6790\u3002\u524d3\u9879\u5bf9\u4e8e\u75be\u63a7\u4e2d\u5fc3\u5b9e\u9a8c\u5ba4\u4eba\u5458\u6765\u8bf4\u5e76\u975e\u96be\u4e8b\uff0c\u4f46\u662f\u6570\u636e\u5206\u6790\u5bf9\u4e8e\u533b\u5b66\u6216\u8005\u751f\u7269\u5b66\u80cc\u666f\u7684CDCers\u6765\u8bf4\u5f80\u5f80\u6210\u4e86\u6700\u5927\u7684\u75db\u70b9\u3002\u5bf9\u4e8e\u79d1\u7814\u5de5\u4f5c\uff0c\u53ef\u4ee5\u4e0e\u4e13\u4e1a\u7684\u751f\u4fe1\u516c\u53f8\u4eba\u5458\u5408\u4f5c\u3002\u4f46\u662f\u5bf9\u4e8e\u65e5\u5e38\u5de5\u4f5c\uff0c\u76ee\u524d\u603b\u4f53\u4e0a\u8fd8\u662f\u7f3a\u4e4f\u5b8c\u5584\u7684\u5de5\u4f5c\u6d41\u3002\u5373\u4f7f\u662f\u90e8\u7f72\u4e0aGUI\u7a0b\u5e8f\u5982 CLC Workbench \uff0c\u6216\u8005\u662f\u7c7b\u4f3c Galaxy \u8fd9\u6837\u7684web\u5e73\u53f0\u7684\u5e94\u7528\uff0c\u5982\u679c\u7f3a\u4e4f\u5bf9\u6570\u636e\u5206\u6790\u6700\u57fa\u672c\u7684\u6982\u5ff5\uff0c\u90a3\u4e5f\u53ea\u80fd\u662f\u7a7a\u6709\u4e00\u8eab\u88c5\u5907\u5374\u65e0\u6cd5\u53d1\u6325\u3002  \u676d\u5dde\u5e02\u75be\u63a7\u4e2d\u5fc3\u7740\u773c\u4e8eNGS\u7684\u53d1\u5c55\uff0c\u65e9\u57282011\u5e74\u5c31\u5f00\u59cb\u8fdb\u884c\u6709\u8ba1\u5212\u7684\u5b66\u4e60\u548c\u8fdb\u4fee\u3002\u7ecf\u8fc7\u957f\u671f\u7684\u8c03\u7814\u548c\u51c6\u5907\uff0c\u7ec8\u4e8e\u57282016\u5e74\u91c7\u8d2d\u4e86 illumina  MiSeq\u6d4b\u5e8f\u4eea\u3002\u867d\u7136\u8fdb\u884c\u4e86\u957f\u671f\u7684\u77e5\u8bc6\u50a8\u5907\u548c\u79ef\u7d2f\uff0c\u4f46\u662f\u6211\u4eec\u7684\u5de5\u4f5c\u4eba\u5458\u4e5f\u540c\u6837\u5b58\u5728\u7740\u5bf9\u6570\u636e\u5206\u6790\u7684\u96be\u70b9\u3002\u5bf9\u4e8e\u57fa\u5c42\u75be\u63a7\u4e2d\u5fc3\u5b9e\u9a8c\u5ba4\uff0c\u53d7\u9650\u4e8e\u4eba\u5458\u7f16\u5236\u7b49\u95ee\u9898\uff0c\u8fd9\u4e9b\u56f0\u96be\u5c31\u53ea\u80fd\u7531\u6211\u4eec\u81ea\u5df1\u89e3\u51b3\u3002\u6240\u4ee5\u4e5f\u5c31\u6709\u4e86\u8fd9\u90e8\u6559\u5b66\u5185\u5bb9\u3002  \u7b14\u8005\u6bd5\u7adf\u4e0d\u64c5\u957f\u6559\u5b66\uff0c\u56e0\u6b64\u5185\u5bb9\u548c\u7ed3\u6784\u6bd4\u8f83\u6df7\u4e71\uff0c\u53ea\u80fd\u53d6\u540d\u4e3a\u5fc3\u5f97\u7b14\u8bb0\u3002\u5982\u679c\u5bf9\u4e8e\u521a\u8fdb\u5165\u8fd9\u4e2a\u9886\u57df\u7684\u540c\u884c\u5982\u80fd\u6709\u4e00\u70b9\u70b9\u5e2e\u52a9\uff0c\u4e5f\u7b97\u662f\u4e86\u5374\u5fc3\u613f\u4e86\u3002",
            "title": "&gt;\u5199\u5728\u5f00\u5934"
        },
        {
            "location": "/#_2",
            "text": "v0.0.3: 2018.05.15   \u91cd\u65b0\u5f00\u59cb\u66f4\u65b0   v0.0.2: 2017.07.20   edirect \u90e8\u5206\u57fa\u672c\u5b8c\u6210\uff0c\u8fdb\u5165\u77eb\u9519\u548c\u8865\u5145\u72b6\u6001  assembly \u90e8\u5206\u5b8c\u6210\u5ea650%   v0.0.1: 2017.04.01   \u5bf9\u539f\u6709\u5185\u5bb9\u505a\u4e86\u9002\u5f53\u8c03\u6574  \u91cd\u65b0\u8c03\u6574\u4e86\u7ae0\u8282",
            "title": "\u7248\u672c\u66f4\u65b0"
        },
        {
            "location": "/chapter_01/01_basic-cml/",
            "text": "\u57fa\u672c\u547d\u4ee4\n\u00b6\n\n\n\u7b14\u8bb0\u4e2d\u4f7f\u7528\u8bb8\u591a Linux \u547d\u4ee4\u884c\uff0c\u8fd9\u91cc\u505a\u4e00\u4e2a\u5feb\u901f\u7b14\u8bb0\u4ee5\u5907\u67e5\u8be2\u3002\u4ee5 bash \u4e3a\u4f8b\u3002\u5176\u4ed6\u7684 shell \u6bd4\u5982 csh, tcsh \u7b49\u5927\u90e8\u5206\u547d\u4ee4\u548c\u53c2\u6570\u90fd\u662f\u4e00\u81f4\u7684\u3002\n\n\n\u6587\u4ef6\u64cd\u4f5c\n\u00b6\n\n\n\n\nls\n: \u5217\u51fa\u6587\u4ef6\u5939\u7684\u6587\u4ef6\n\n\n\n\n# \u663e\u793a '~/data' \u6587\u4ef6\u5939\u91cc\u7684\u6587\u4ef6\n\n$ ls ~/data\n\n\n# \u663e\u793a\u5305\u62ec\u9690\u542b\u6587\u4ef6\u7684 '~/data' \u6587\u4ef6\u5939\u91cc\u7684\u6240\u6709\u6587\u4ef6\n\n$ ls -la ~/data\n\n\n# \u6587\u4ef6\u6309\u7167\u65f6\u95f4\u6392\u5e8f\n\n$ ls -t ~/data\n\n\n# \u67e5\u770b\u6240\u6709 fastq \u6587\u4ef6\n\n$ ls ~/data/*.fastq\n\n\n\n\n\n\ncd\n: \u6539\u53d8\u6587\u4ef6\u5939\n\n\n\n\n# \u4ece\u5f53\u524d\u6587\u4ef6\u5939 '~/data' \u66f4\u6362\u5230 '~/app' \u6587\u4ef6\u5939\n\n~/data$ \ncd\n ~/app\n\n\n# \u4ece\u4efb\u4f55\u4f4d\u7f6e\u5207\u6362\u56de\u7528\u6237\u4e3b\u76ee\u5f55 '/home/User'\n\n$ \ncd\n\n\n\n# \u56de\u9000\u4e0a\u4e00\u4e2a\u8bbf\u95ee\u76ee\u5f55\n\n$ \ncd\n -\n\n\n# \u8fd4\u56de\u4e0a\u4e00\u7ea7\u76ee\u5f55\n\n$ \ncd\n ..\n\n\n# \u8fd4\u56de\u591a\u7ea7\u76ee\u5f55\u51b0\u524d\u5f80\u53e6\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u8fd9\u91cc '\\' \u662f\u8f6c\u4e49\u7b26\uff0c\u5c06\u7a7a\u683c\u952e\u6b63\u786e\u8f6c\u4e49\n\n$ \ncd\n ../../../new\n\\ \ndirectory\n\n\n\n\n\n\npwd\n: \u663e\u793a\u5f53\u524d\u76ee\u5f55\n\n\n\n\n# \u5f53\u4e0d\u77e5\u9053\u5f53\u524d\u5904\u4e8e\u4ec0\u4e48\u8def\u5f84\u65f6\uff0c\u53ef\u4ee5\u7528\u8fd9\u4e2a\u547d\u4ee4\u663e\u793a\n\n$ \npwd\n\n\n\n\n\n\n\nmkdir\n: \u5efa\u7acb\u65b0\u6587\u4ef6\u5939\n\n\n\n\n# \u5f53\u524d\u8def\u5f84\u4e0b\u65b0\u5efa\u4e00\u4e2a\u540d\u53eb 'new' \u7684\u6587\u4ef6\u5939\n\n$ mkdir new\n\n\n\n\n\n\nrmdir\n: \u5220\u9664\u6587\u4ef6\u5939\n\n\n\n\n# \u5220\u9664\u5f53\u524d\u8def\u5f84\u7684\u6587\u4ef6\u5939 'new'\n\n$ rmdir new\n\n\n\n\n\n\nrm\n: \u5220\u9664\u6587\u4ef6\n\n\n\n\n# \u5220\u9664\u5f53\u524d\u6587\u4ef6\u5939\u7684\u6240\u6709\u540e\u7f00\u662f '.sra' \u7684\u6587\u4ef6\n\n$ rm *.sra\n\n\n# \u5220\u9664\u6587\u4ef6\u5939 'new' \u4ee5\u53ca 'new' \u4e0b\u7684\u6240\u6709\u5b50\u6587\u4ef6\u4e0e\u5b50\u76ee\u5f55\n\n$ rm -R new\n\n\n# \u4e0d\u5f39\u51fa\u5220\u9664\u786e\u8ba4\u63d0\u793a\uff0c\u5220\u9664\u6240\u6709 '.tmp' \u6587\u4ef6\n\n$ rm -f *.tmp\n\n\n\n\n\n\ncp\n: \u590d\u5236\u6587\u4ef6\n\n\n\n\n# \u590d\u5236 'test.txt' \u6587\u4ef6\u5230\u6587\u4ef6\u5939 '~/abc' \u4e2d\n\n$ cp test.txt ~/abc\n\n\n\n\n\n\nmv\n: \u79fb\u52a8\u6587\u4ef6\u6216\u6587\u4ef6\u5939\n\n\n\n\n# \u79fb\u52a8 'test.txt' \u6587\u4ef6\u5230\u6587\u4ef6\u5939 '~/abc' \u4e2d\u5e76\u6539\u540d\u53eb 'test1.txt'\n\n$ mv test.txt ~/abc/test1.txt\n\n\n\n\n\n\nwhich\n: \u67e5\u627e\u53ef\u6267\u884c\u6587\u4ef6\u7684\u7cfb\u7edf\u8def\u5f84\n\n\n\n\n# \u6253\u5370\u51fa\u7cfb\u7edf\u5e26\u7684 python \u7a0b\u5e8f\u7684\u8def\u5f84\n\n$ which python\n\n\n\n\n\n\nwc\n: \u7edf\u8ba1\u4e00\u4e2a\u6587\u4ef6\u7684\u884c\uff0c\u5b57\u7b26\u548c\u5b57\u8282\u6570\n\n\n\n\n# \u8f93\u51fa\u6587\u4ef6 'text.txt' \u7684\u884c\u6570\uff0c\u5b57\u7b26\u6570\u548c\u5b57\u8282\u6570\u3002\n\n$ wc text.txt\n\n\n\n\n\n\nfind\n: \u67e5\u627e\u6587\u4ef6\n\n\n\n\n# \u67e5\u627e\u4e00\u4e2a\u6587\u4ef6\uff0c\u6bd4\u5982 .bashrc, /etc\u8def\u5f84\u4e0b\u7684hosts\u6587\u4ef6\n\n$ find .bashrc\n$ find /etc/hosts\n\n\n# \u67e5\u627e\u5f53\u524d\u76ee\u5f55\u53ca\u5b50\u76ee\u5f55\u540e\u7f00\u4e3agz\u7684\u6587\u4ef6\n\n$ find . -type f -name \n\"*.gz\"\n\n\n\n# \u67e5\u627e\u5b50\u76ee\u5f55\u6df1\u5ea6\u4e3a4\u5c42\u76ee\u5f55\u7684fasta\u6587\u4ef6\n\n$ find . -type f -maxdepth \n4\n -name \n\"*.fasta\"\n\n\n\n# \u67e5\u627e/var/log\u8def\u5f84\u4e0b\u6743\u9650\u4e3a755\u7684\u76ee\u5f55\n\n$ find /var/log -type d -perm \n755\n\n\n\n# \u6309\u7167\u7528\u6237\u67e5\u627e\u7528\u6237\uff0c\u5728tmp\u8def\u5f84\u4e0b\u67e5\u627e\u5c5e\u4e8e\u7528\u6237 nginx \u7684\u6587\u4ef6\n\n$ find /tmp -user nginx\n\n# \u7528\u6237\u4e3bhome\u8def\u5f84\u4e0b\u67e5\u627e\u5c5e\u4e8e root \u6743\u9650\uff0c\u5c5e\u6027\u4e3a644\u7684\u6587\u4ef6\n\n$ find . -user root -perm \n644\n\n\n\n\n\n\n\nps\n: \u67e5\u770b\u7cfb\u7edf\u8fdb\u7a0b\n\n\n\n\n#ps\u4f1a\u5728\u7ec8\u7aef\u6253\u5370\u7cfb\u7edf\u8fdb\u7a0b\uff0c\u5404\u5217\u7684\u542b\u4e49\u662f:\n\n\n* USER: \u8fd0\u884c\u8be5\u8fdb\u7a0b\u7684\u7528\u6237\n* PID: \u8fd0\u884c\u7740\u7684\u547d\u4ee4\n(\nCMD\n)\n\u7684\u8fdb\u7a0b\u7f16\u53f7\n* %CPU: CPU\u5360\u7528\n* %MEM: \u5185\u5b58\u5360\u7528\n* VSC:\n* RSS:\n* TTY: \u547d\u4ee4\u6240\u8fd0\u884c\u7684\u4f4d\u7f6e\uff08\u7ec8\u7aef\uff09\n* STAT:\n* TIME: \u8fd0\u884c\u7740\u7684\u8be5\u547d\u4ee4\u6240\u5360\u7528\u7684CPU\u5904\u7406\u65f6\u95f4\n* COMMAND: \u8be5\u8fdb\u7a0b\u6240\u8fd0\u884c\u7684\u547d\u4ee4\n\n\n\n\n# \u663e\u793a\u8be6\u7ec6\u7684\u8fdb\u7a0b\u4fe1\u606f\n\n$ ps -waux\n\n\n# \u8fc7\u6ee4\u7528\u6237root\u7684\u8fdb\u7a0b\n\n$ ps -u root\n\n\n# \u6839\u636e\u4e0d\u540c\u53c2\u6570\u4f7f\u7528\u6765\u6392\u5e8f\u8fdb\u7a0b\uff0c\u5e76\u53ea\u73b0\u5b9e\u6392\u540d\u524d10\u7684\u8fdb\u7a0b\n\n$ ps -aux --sort -pcpu \n|\n head -n \n11\n\n$ ps -aux --sort -pmem \n|\n head -n \n11\n\n$ ps -aux --sort -pcpu,+pmem \n|\n head -n \n11\n\n\n\n# \u8fc7\u6ee4\u8fdb\u7a0b\u540d\n\n$ ps -f -C chrome\n\n\n# \u6839\u636ePID\u8fc7\u6ee4\n\n$ ps -L \n1000\n\n\n\n# \u6811\u5f62\u73b0\u5b9e\u8fdb\u7a0b\n\n$ ps -axjf\n\n\n\n\n\u8f93\u51fa\u6587\u4ef6\u5934\u5c3e\u90e8\u5185\u5bb9\n\u00b6\n\n\n\u64cd\u4f5c\u5927\u6587\u4ef6\u5982fastq\u6d4b\u5e8f\u539f\u59cb\u6570\u636e\uff0c\u5e38\u5e38\u4e0d\u9700\u8981\u5c06\u51e0\u767eM\u751a\u81f3\u4e0aG\u7684\u6570\u636e\u5168\u90e8\u5199\u5165\u5230\u5185\u5b58\u6253\u5f00\u6587\u4ef6\uff0c\u53ea\u9700\u8981\u4e86\u89e3\u5934\u90e8\u6570\u636e\u5373\u53ef\u3002\u7528head\u5c31\u975e\u5e38\u8f7b\u4fbf\u3002head\u9ed8\u8ba4\u8f93\u51fa\u524d10\u884c\u5185\u5bb9\u3002\n\n\n# \u8f93\u51fa\u6587\u4ef6\u524d5\u884c\u5185\u5bb9\n\n$ head -5 text.txt\n\n\n\n\n\n\ntail\n: \u8f93\u51fa\u6587\u4ef6\u5c3e\u90e8\u5185\u5bb9\n\n\n\n\n# \u8f93\u51fa\u6587\u4ef6\u7684\u6700\u540e5\u884c\u5185\u5bb9\n\n$ tail -5 text.txt\n\n\n\n\n\n\ncat\n: \u8f93\u51fa\u6587\u4ef6\u5185\u5bb9\n\n\n\n\n# \u663e\u793a\u6587\u4ef6 'text.txt' \u5185\u5bb9\n\n$ cat text.txt\n\n\n\n\n\n\nnl\n: \u5c06\u6587\u4ef6\u6807\u884c\n\n\n\n\n$ cat text.txt \n|\n nl\n\n\n\n\n\n\ngrep\n: \u622a\u53d6\u8f93\u5165\u5b57\u7b26\u7684\u9009\u5b9a pattern \u5e76\u8f93\u51fa\u6240\u5728\u7684\u884c\n\n\n\n\n\u867d\u7136\u5f88\u591a\u53d1\u884c\u7248\u7528egrep\u4ee3\u66ffgrep\uff0c\u4f46\u662f\u5176\u5bf9\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u652f\u6301\u8fd8\u662f\u4e0d\u591f\u4f18\u79c0\uff0c\u6240\u4ee5\u5e38\u7528awk\u4ee3\u66ffgrep\u6765\u8fdb\u884c\u6a21\u5f0f\u5339\u914d\u3002\n\n\n# \u663e\u793a\u6587\u4ef6 'text.txt' \u4e2d\u542b\u6709\u5b57\u7b26 'abc' \u7684\u884c\n\n$ cat text.txt \n|\n grep \n'abc'\n\n$ awk \n'/abc/'\n text.txt\n\n\n\n\n\u538b\u7f29/\u89e3\u538b\u7f29\n\u00b6\n\n\n# \u538b\u7f29\u6587\u4ef6 foo \u6216\u8005\u6587\u4ef6\u5939 foo \u6210\u4e3a\u4e00\u4e2a foo.tar.gz \u538b\u7f29\u5305\n\n$ tar -zcf foo.tar.gz foo\n\n\n# \u89e3\u538b\u7f29\u6587\u4ef6 foo.tar.gz\n\n$ tar -zxf foo.tar.gz\n\n\n\n\n\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u7aef\u4ea4\u4e92\n\u00b6\n\n\n\n\nssh \u767b\u5f55\u670d\u52a1\u5668\n\n\n\n\n# server_ip\u4e3a\u6240\u8981\u767b\u5f55\u670d\u52a1\u5668ip\n\n$ ssh user@server_ip\n$ ssh mark@10.44.35.122\n\n\n\n\n\n\n\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u7aef\u62f7\u8d1d\u6587\u4ef6\n\n\n\n\n\u8fd9\u91cc\u4ee5\u5ba2\u6237\u7aef\u64cd\u4f5c\u4e3a\u4f8b\uff0c\u670d\u52a1\u5668ip\u5047\u8bbe\u4e3a10.44.35.122\n\n\n# \u4ece\u670d\u52a1\u5668\u62f7\u8d1d\u6587\u4ef6 /data/1.fasta \u5230\u672c\u5730\n\n$ scp mark@10.44.35.122:/data/1.fasta .\n\n# \u4ece\u672c\u5730\u4e0a\u4f20\u6587\u4ef6 2.fasta \u5230\u670d\u52a1\u5668/data\n\n$ scp \n2\n.fasta mark@10.44.35.122:/data/2.fasta\n\n\n\n\n\u7b80\u5355\u7684\u4f20\u8f93\u5355\u4e2a\u6587\u4ef6\u7528scp\u8fd8\u7b97\u65b9\u4fbf\uff0c\u4f46\u5982\u679c\u9891\u7e41\u4ea4\u4e92\uff0c\u6216\u8005\u9700\u8981\u53ef\u89c6\u5316\u754c\u9762\u6765\u64cd\u4f5c\uff0c\u6211\u4eec\u9700\u8981\u66f4\u65b9\u4fbf\u7684\u5de5\u5177\uff0c\u8fd9\u91cc\u63a8\u8350 sshfs\n\n\n# \u6302\u8f7d\u670d\u52a1\u5668 /data \u5230\u672c\u5730linux\u673a\u5668\u7684 ~/server \u76ee\u5f55\u3002\n\n$ sshfs mark@10.44.35.122:/data ~/server -o \nidmap\n=\nuser -o allow_other\n\n\n\n\n\u5bf9\u4e8ewin\u5e73\u53f0\u7528\u6237\uff0c\u7b80\u5355\u7684ssh\u767b\u5f55\u5de5\u5177\u5e38\u7528\u7684\u5982putty\uff0c\u5982\u679c\u8981\u4e0a\u4e0b\u4f20\u6587\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u642d\u5efaftp\u670d\u52a1\u6765\u5b9e\u73b0\u3002\n\n\n\n\nrsync\n\n\n\n\nrsync\u547d\u4ee4\u662f\u4e00\u4e2a\u8fdc\u7a0b\u6570\u636e\u540c\u6b65\u5de5\u5177\uff0c\u53ef\u5feb\u901f\u540c\u6b65\u591a\u53f0\u4e3b\u673a\u95f4\u7684\u6587\u4ef6\u3002rsync\u4f7f\u7528\u6240\u8c13\u7684\u201crsync\u7b97\u6cd5\u201d\u6765\u4f7f\u672c\u5730\u548c\u8fdc\u7a0b\u4e24\u4e2a\u4e3b\u673a\u4e4b\u95f4\u7684\u6587\u4ef6\u8fbe\u5230\u540c\u6b65\uff0c\u8fd9\u4e2a\u7b97\u6cd5\u53ea\u4f20\u9001\u4e24\u4e2a\u6587\u4ef6\u7684\u4e0d\u540c\u90e8\u5206\uff0c\u800c\u4e0d\u662f\u6bcf\u6b21\u90fd\u6574\u4efd\u4f20\u9001\uff0c\u56e0\u6b64\u901f\u5ea6\u76f8\u5f53\u5feb\u3002\n\n\n$ rsync -avz user@server_ip:/data/* /data\n$ rsync -av ~/test.py user@server_ip::/home/user\n\n\n\n\nReference\n\u00b6\n\n\n\n\nhttp://linoxide.com/how-tos/linux-ps-command-examples/\n\n\nhttps://commandlinefu.cn/",
            "title": "01. Linux \u7cfb\u7edf\u64cd\u4f5c\u57fa\u672c\u547d\u4ee4"
        },
        {
            "location": "/chapter_01/01_basic-cml/#_1",
            "text": "\u7b14\u8bb0\u4e2d\u4f7f\u7528\u8bb8\u591a Linux \u547d\u4ee4\u884c\uff0c\u8fd9\u91cc\u505a\u4e00\u4e2a\u5feb\u901f\u7b14\u8bb0\u4ee5\u5907\u67e5\u8be2\u3002\u4ee5 bash \u4e3a\u4f8b\u3002\u5176\u4ed6\u7684 shell \u6bd4\u5982 csh, tcsh \u7b49\u5927\u90e8\u5206\u547d\u4ee4\u548c\u53c2\u6570\u90fd\u662f\u4e00\u81f4\u7684\u3002",
            "title": "\u57fa\u672c\u547d\u4ee4"
        },
        {
            "location": "/chapter_01/01_basic-cml/#_2",
            "text": "ls : \u5217\u51fa\u6587\u4ef6\u5939\u7684\u6587\u4ef6   # \u663e\u793a '~/data' \u6587\u4ef6\u5939\u91cc\u7684\u6587\u4ef6 \n$ ls ~/data # \u663e\u793a\u5305\u62ec\u9690\u542b\u6587\u4ef6\u7684 '~/data' \u6587\u4ef6\u5939\u91cc\u7684\u6240\u6709\u6587\u4ef6 \n$ ls -la ~/data # \u6587\u4ef6\u6309\u7167\u65f6\u95f4\u6392\u5e8f \n$ ls -t ~/data # \u67e5\u770b\u6240\u6709 fastq \u6587\u4ef6 \n$ ls ~/data/*.fastq   cd : \u6539\u53d8\u6587\u4ef6\u5939   # \u4ece\u5f53\u524d\u6587\u4ef6\u5939 '~/data' \u66f4\u6362\u5230 '~/app' \u6587\u4ef6\u5939 \n~/data$  cd  ~/app # \u4ece\u4efb\u4f55\u4f4d\u7f6e\u5207\u6362\u56de\u7528\u6237\u4e3b\u76ee\u5f55 '/home/User' \n$  cd  # \u56de\u9000\u4e0a\u4e00\u4e2a\u8bbf\u95ee\u76ee\u5f55 \n$  cd  - # \u8fd4\u56de\u4e0a\u4e00\u7ea7\u76ee\u5f55 \n$  cd  .. # \u8fd4\u56de\u591a\u7ea7\u76ee\u5f55\u51b0\u524d\u5f80\u53e6\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u8fd9\u91cc '\\' \u662f\u8f6c\u4e49\u7b26\uff0c\u5c06\u7a7a\u683c\u952e\u6b63\u786e\u8f6c\u4e49 \n$  cd  ../../../new \\  directory   pwd : \u663e\u793a\u5f53\u524d\u76ee\u5f55   # \u5f53\u4e0d\u77e5\u9053\u5f53\u524d\u5904\u4e8e\u4ec0\u4e48\u8def\u5f84\u65f6\uff0c\u53ef\u4ee5\u7528\u8fd9\u4e2a\u547d\u4ee4\u663e\u793a \n$  pwd    mkdir : \u5efa\u7acb\u65b0\u6587\u4ef6\u5939   # \u5f53\u524d\u8def\u5f84\u4e0b\u65b0\u5efa\u4e00\u4e2a\u540d\u53eb 'new' \u7684\u6587\u4ef6\u5939 \n$ mkdir new   rmdir : \u5220\u9664\u6587\u4ef6\u5939   # \u5220\u9664\u5f53\u524d\u8def\u5f84\u7684\u6587\u4ef6\u5939 'new' \n$ rmdir new   rm : \u5220\u9664\u6587\u4ef6   # \u5220\u9664\u5f53\u524d\u6587\u4ef6\u5939\u7684\u6240\u6709\u540e\u7f00\u662f '.sra' \u7684\u6587\u4ef6 \n$ rm *.sra # \u5220\u9664\u6587\u4ef6\u5939 'new' \u4ee5\u53ca 'new' \u4e0b\u7684\u6240\u6709\u5b50\u6587\u4ef6\u4e0e\u5b50\u76ee\u5f55 \n$ rm -R new # \u4e0d\u5f39\u51fa\u5220\u9664\u786e\u8ba4\u63d0\u793a\uff0c\u5220\u9664\u6240\u6709 '.tmp' \u6587\u4ef6 \n$ rm -f *.tmp   cp : \u590d\u5236\u6587\u4ef6   # \u590d\u5236 'test.txt' \u6587\u4ef6\u5230\u6587\u4ef6\u5939 '~/abc' \u4e2d \n$ cp test.txt ~/abc   mv : \u79fb\u52a8\u6587\u4ef6\u6216\u6587\u4ef6\u5939   # \u79fb\u52a8 'test.txt' \u6587\u4ef6\u5230\u6587\u4ef6\u5939 '~/abc' \u4e2d\u5e76\u6539\u540d\u53eb 'test1.txt' \n$ mv test.txt ~/abc/test1.txt   which : \u67e5\u627e\u53ef\u6267\u884c\u6587\u4ef6\u7684\u7cfb\u7edf\u8def\u5f84   # \u6253\u5370\u51fa\u7cfb\u7edf\u5e26\u7684 python \u7a0b\u5e8f\u7684\u8def\u5f84 \n$ which python   wc : \u7edf\u8ba1\u4e00\u4e2a\u6587\u4ef6\u7684\u884c\uff0c\u5b57\u7b26\u548c\u5b57\u8282\u6570   # \u8f93\u51fa\u6587\u4ef6 'text.txt' \u7684\u884c\u6570\uff0c\u5b57\u7b26\u6570\u548c\u5b57\u8282\u6570\u3002 \n$ wc text.txt   find : \u67e5\u627e\u6587\u4ef6   # \u67e5\u627e\u4e00\u4e2a\u6587\u4ef6\uff0c\u6bd4\u5982 .bashrc, /etc\u8def\u5f84\u4e0b\u7684hosts\u6587\u4ef6 \n$ find .bashrc\n$ find /etc/hosts # \u67e5\u627e\u5f53\u524d\u76ee\u5f55\u53ca\u5b50\u76ee\u5f55\u540e\u7f00\u4e3agz\u7684\u6587\u4ef6 \n$ find . -type f -name  \"*.gz\"  # \u67e5\u627e\u5b50\u76ee\u5f55\u6df1\u5ea6\u4e3a4\u5c42\u76ee\u5f55\u7684fasta\u6587\u4ef6 \n$ find . -type f -maxdepth  4  -name  \"*.fasta\"  # \u67e5\u627e/var/log\u8def\u5f84\u4e0b\u6743\u9650\u4e3a755\u7684\u76ee\u5f55 \n$ find /var/log -type d -perm  755  # \u6309\u7167\u7528\u6237\u67e5\u627e\u7528\u6237\uff0c\u5728tmp\u8def\u5f84\u4e0b\u67e5\u627e\u5c5e\u4e8e\u7528\u6237 nginx \u7684\u6587\u4ef6 \n$ find /tmp -user nginx # \u7528\u6237\u4e3bhome\u8def\u5f84\u4e0b\u67e5\u627e\u5c5e\u4e8e root \u6743\u9650\uff0c\u5c5e\u6027\u4e3a644\u7684\u6587\u4ef6 \n$ find . -user root -perm  644    ps : \u67e5\u770b\u7cfb\u7edf\u8fdb\u7a0b   #ps\u4f1a\u5728\u7ec8\u7aef\u6253\u5370\u7cfb\u7edf\u8fdb\u7a0b\uff0c\u5404\u5217\u7684\u542b\u4e49\u662f: \n\n* USER: \u8fd0\u884c\u8be5\u8fdb\u7a0b\u7684\u7528\u6237\n* PID: \u8fd0\u884c\u7740\u7684\u547d\u4ee4 ( CMD ) \u7684\u8fdb\u7a0b\u7f16\u53f7\n* %CPU: CPU\u5360\u7528\n* %MEM: \u5185\u5b58\u5360\u7528\n* VSC:\n* RSS:\n* TTY: \u547d\u4ee4\u6240\u8fd0\u884c\u7684\u4f4d\u7f6e\uff08\u7ec8\u7aef\uff09\n* STAT:\n* TIME: \u8fd0\u884c\u7740\u7684\u8be5\u547d\u4ee4\u6240\u5360\u7528\u7684CPU\u5904\u7406\u65f6\u95f4\n* COMMAND: \u8be5\u8fdb\u7a0b\u6240\u8fd0\u884c\u7684\u547d\u4ee4  # \u663e\u793a\u8be6\u7ec6\u7684\u8fdb\u7a0b\u4fe1\u606f \n$ ps -waux # \u8fc7\u6ee4\u7528\u6237root\u7684\u8fdb\u7a0b \n$ ps -u root # \u6839\u636e\u4e0d\u540c\u53c2\u6570\u4f7f\u7528\u6765\u6392\u5e8f\u8fdb\u7a0b\uff0c\u5e76\u53ea\u73b0\u5b9e\u6392\u540d\u524d10\u7684\u8fdb\u7a0b \n$ ps -aux --sort -pcpu  |  head -n  11 \n$ ps -aux --sort -pmem  |  head -n  11 \n$ ps -aux --sort -pcpu,+pmem  |  head -n  11  # \u8fc7\u6ee4\u8fdb\u7a0b\u540d \n$ ps -f -C chrome # \u6839\u636ePID\u8fc7\u6ee4 \n$ ps -L  1000  # \u6811\u5f62\u73b0\u5b9e\u8fdb\u7a0b \n$ ps -axjf",
            "title": "\u6587\u4ef6\u64cd\u4f5c"
        },
        {
            "location": "/chapter_01/01_basic-cml/#_3",
            "text": "\u64cd\u4f5c\u5927\u6587\u4ef6\u5982fastq\u6d4b\u5e8f\u539f\u59cb\u6570\u636e\uff0c\u5e38\u5e38\u4e0d\u9700\u8981\u5c06\u51e0\u767eM\u751a\u81f3\u4e0aG\u7684\u6570\u636e\u5168\u90e8\u5199\u5165\u5230\u5185\u5b58\u6253\u5f00\u6587\u4ef6\uff0c\u53ea\u9700\u8981\u4e86\u89e3\u5934\u90e8\u6570\u636e\u5373\u53ef\u3002\u7528head\u5c31\u975e\u5e38\u8f7b\u4fbf\u3002head\u9ed8\u8ba4\u8f93\u51fa\u524d10\u884c\u5185\u5bb9\u3002  # \u8f93\u51fa\u6587\u4ef6\u524d5\u884c\u5185\u5bb9 \n$ head -5 text.txt   tail : \u8f93\u51fa\u6587\u4ef6\u5c3e\u90e8\u5185\u5bb9   # \u8f93\u51fa\u6587\u4ef6\u7684\u6700\u540e5\u884c\u5185\u5bb9 \n$ tail -5 text.txt   cat : \u8f93\u51fa\u6587\u4ef6\u5185\u5bb9   # \u663e\u793a\u6587\u4ef6 'text.txt' \u5185\u5bb9 \n$ cat text.txt   nl : \u5c06\u6587\u4ef6\u6807\u884c   $ cat text.txt  |  nl   grep : \u622a\u53d6\u8f93\u5165\u5b57\u7b26\u7684\u9009\u5b9a pattern \u5e76\u8f93\u51fa\u6240\u5728\u7684\u884c   \u867d\u7136\u5f88\u591a\u53d1\u884c\u7248\u7528egrep\u4ee3\u66ffgrep\uff0c\u4f46\u662f\u5176\u5bf9\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u652f\u6301\u8fd8\u662f\u4e0d\u591f\u4f18\u79c0\uff0c\u6240\u4ee5\u5e38\u7528awk\u4ee3\u66ffgrep\u6765\u8fdb\u884c\u6a21\u5f0f\u5339\u914d\u3002  # \u663e\u793a\u6587\u4ef6 'text.txt' \u4e2d\u542b\u6709\u5b57\u7b26 'abc' \u7684\u884c \n$ cat text.txt  |  grep  'abc' \n$ awk  '/abc/'  text.txt",
            "title": "\u8f93\u51fa\u6587\u4ef6\u5934\u5c3e\u90e8\u5185\u5bb9"
        },
        {
            "location": "/chapter_01/01_basic-cml/#_4",
            "text": "# \u538b\u7f29\u6587\u4ef6 foo \u6216\u8005\u6587\u4ef6\u5939 foo \u6210\u4e3a\u4e00\u4e2a foo.tar.gz \u538b\u7f29\u5305 \n$ tar -zcf foo.tar.gz foo # \u89e3\u538b\u7f29\u6587\u4ef6 foo.tar.gz \n$ tar -zxf foo.tar.gz",
            "title": "\u538b\u7f29/\u89e3\u538b\u7f29"
        },
        {
            "location": "/chapter_01/01_basic-cml/#_5",
            "text": "ssh \u767b\u5f55\u670d\u52a1\u5668   # server_ip\u4e3a\u6240\u8981\u767b\u5f55\u670d\u52a1\u5668ip \n$ ssh user@server_ip\n$ ssh mark@10.44.35.122   \u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u7aef\u62f7\u8d1d\u6587\u4ef6   \u8fd9\u91cc\u4ee5\u5ba2\u6237\u7aef\u64cd\u4f5c\u4e3a\u4f8b\uff0c\u670d\u52a1\u5668ip\u5047\u8bbe\u4e3a10.44.35.122  # \u4ece\u670d\u52a1\u5668\u62f7\u8d1d\u6587\u4ef6 /data/1.fasta \u5230\u672c\u5730 \n$ scp mark@10.44.35.122:/data/1.fasta . # \u4ece\u672c\u5730\u4e0a\u4f20\u6587\u4ef6 2.fasta \u5230\u670d\u52a1\u5668/data \n$ scp  2 .fasta mark@10.44.35.122:/data/2.fasta  \u7b80\u5355\u7684\u4f20\u8f93\u5355\u4e2a\u6587\u4ef6\u7528scp\u8fd8\u7b97\u65b9\u4fbf\uff0c\u4f46\u5982\u679c\u9891\u7e41\u4ea4\u4e92\uff0c\u6216\u8005\u9700\u8981\u53ef\u89c6\u5316\u754c\u9762\u6765\u64cd\u4f5c\uff0c\u6211\u4eec\u9700\u8981\u66f4\u65b9\u4fbf\u7684\u5de5\u5177\uff0c\u8fd9\u91cc\u63a8\u8350 sshfs  # \u6302\u8f7d\u670d\u52a1\u5668 /data \u5230\u672c\u5730linux\u673a\u5668\u7684 ~/server \u76ee\u5f55\u3002 \n$ sshfs mark@10.44.35.122:/data ~/server -o  idmap = user -o allow_other  \u5bf9\u4e8ewin\u5e73\u53f0\u7528\u6237\uff0c\u7b80\u5355\u7684ssh\u767b\u5f55\u5de5\u5177\u5e38\u7528\u7684\u5982putty\uff0c\u5982\u679c\u8981\u4e0a\u4e0b\u4f20\u6587\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u642d\u5efaftp\u670d\u52a1\u6765\u5b9e\u73b0\u3002   rsync   rsync\u547d\u4ee4\u662f\u4e00\u4e2a\u8fdc\u7a0b\u6570\u636e\u540c\u6b65\u5de5\u5177\uff0c\u53ef\u5feb\u901f\u540c\u6b65\u591a\u53f0\u4e3b\u673a\u95f4\u7684\u6587\u4ef6\u3002rsync\u4f7f\u7528\u6240\u8c13\u7684\u201crsync\u7b97\u6cd5\u201d\u6765\u4f7f\u672c\u5730\u548c\u8fdc\u7a0b\u4e24\u4e2a\u4e3b\u673a\u4e4b\u95f4\u7684\u6587\u4ef6\u8fbe\u5230\u540c\u6b65\uff0c\u8fd9\u4e2a\u7b97\u6cd5\u53ea\u4f20\u9001\u4e24\u4e2a\u6587\u4ef6\u7684\u4e0d\u540c\u90e8\u5206\uff0c\u800c\u4e0d\u662f\u6bcf\u6b21\u90fd\u6574\u4efd\u4f20\u9001\uff0c\u56e0\u6b64\u901f\u5ea6\u76f8\u5f53\u5feb\u3002  $ rsync -avz user@server_ip:/data/* /data\n$ rsync -av ~/test.py user@server_ip::/home/user",
            "title": "\u5ba2\u6237\u7aef\u4e0e\u670d\u52a1\u5668\u7aef\u4ea4\u4e92"
        },
        {
            "location": "/chapter_01/01_basic-cml/#reference",
            "text": "http://linoxide.com/how-tos/linux-ps-command-examples/  https://commandlinefu.cn/",
            "title": "Reference"
        },
        {
            "location": "/chapter_01/02_linux-installation/",
            "text": "Linux \u5b89\u88c5\n\u00b6\n\n\n\n\n\u5185\u5bb9\u7b80\u4ecb\n\n\n\u672c\u8282\u5c06\u4e4b\u524d\u4e00\u7bc7\u5728\u5c0f\u7c73 15 pro\u7b14\u8bb0\u672c\u4e0a\u5b89\u88c5ArchLinux\u7684\u6559\u7a0b\u4f5c\u4e3a\u4ecb\u7ecdLinux\u5b89\u88c5\u7684\u8303\u4f8b\u3002\u7531\u4e8e\u8bb8\u591a\u7684Linux\u53d1\u884c\u7248\u90fd\u6709\u56fe\u5f62\u5316\u7684\u5b89\u88c5\u754c\u9762\uff0c\u53ea\u8981\u7a0d\u5fae\u5177\u5907\u4e00\u4e9b\u8ba1\u7b97\u673a\u77e5\u8bc6\uff0c\u52a0\u4e0a\u641c\u7d22\u5f15\u64ce\uff0c\u5b89\u88c5\u5b8c\u6210\u96be\u5ea6\u4e0d\u5927\u3002\u4f46\u662f\u5bf9\u4e8e\u8ba1\u7b97\u673a\u3001Linux\u548c\u751f\u7269\u4fe1\u606f\u547d\u4ee4\u7684\u5b66\u4e60\u6765\u8bf4\uff0c\u8fd8\u662fArchLinux\u8fd9\u79cd\u547d\u4ee4\u884c\u5b89\u88c5\u754c\u9762\u66f4\u6709\u5e2e\u52a9\u3002\u4ee5\u6b64\u5b89\u88c5\u4f5c\u4e3a\u5165\u95e8\u8bfb\u7269\uff0c\u5e0c\u671b\u5bf9Linux\u548c\u5b89\u88c5\u6709\u6240\u5e2e\u52a9\u3002\n\n\n\n\n\u5c0f\u7c73 pro 15.6 \u5b89\u88c5 Archlinux \u7b14\u8bb0\n\u00b6\n\n\n\n\n\u64cd\u4f5c\u7cfb\u7edf: ArchLinux\n\n\nWM: i3wm\n\n\nDM: none\n\n\n\n\n\u9009\u62e9\u5c0f\u7c73pro\n\u00b6\n\n\n\u4ed4\u7ec6\u8bc4\u4f30\u4e86\u81ea\u5df1\u7684\u9700\u6c42\uff0c\u6a2a\u5411\u6bd4\u8f83\u4e86dell xps\uff0c\u534e\u4e3amate\uff0c\u5c0f\u7c73pro\u7b49\u51e0\u6b3e\u7b14\u8bb0\u672c\u3002\u6700\u7ec8\u5728\u770b\u5230\u5c0f\u7c73\u65b0\u51fa\u7684\u6e38\u620f\u672c\u5e76\u4e0d\u9002\u5408\u6211\u4e4b\u540e\uff0c\u679c\u65ad\u6dd8\u5b9d\u4e86\u5c0f\u7c73 pro 15.6 \u4f4e\u914d\u7248\uff0c5000\u4ee5\u5185\u53ef\u4ee5\u62ff\u4e0b\u3002\u4e2a\u4eba\u7684\u9700\u6c42\u662f\u4e00\u6b3e\u548c\u513f\u5b50\u5171\u540c\u4f7f\u7528\u7684\u7b14\u8bb0\u672c\u3002\u81ea\u5df1\u4e3b\u8981\u505a\u6570\u636e\u5206\u6790\u548c\u5f00\u53d1\u7528\uff0c\u540c\u65f6\u6559\u513f\u5b50\u7f16\u7a0b\uff0c\u8fd8\u53ef\u4ee5\u73a9\u73a9\u7b80\u5355\u7684\u6e38\u620f\u3002\u52a0\u4e0a\u5c0f\u7c73pro\u6781\u7b80\u5316\u7684\u8bbe\u8ba1\uff0c\u975e\u5e38\u7b26\u5408\u4e2a\u4eba\u7684\u88c5\u903c\u98ce\u683c\uff0c\u56e0\u6b64\u679c\u65ad\u5165\u624b\u3002\u66fe\u7ecf\u5728\u65b0\u6b3e\u5c0f\u7c7313\u548c15.6\u4e2d\u72b9\u8c6b\u8fc7\uff0c\u6700\u7ec8\u5728\u6563\u70ed+\u566a\u97f3 vs \u4fbf\u643a\u6027\u4e2d\u59a5\u534f\u4e86\u524d\u8005\u3002\n\n\n\u786c\u4ef6\u4e0e\u8f6f\u4ef6\n\u00b6\n\n\n\u786c\u4ef6\u914d\u7f6e\uff1a\n\n\n\n\nCPU  i5 8250\n\n\n\u5185\u5b58  8G\n\n\n\u786c\u76d8 256G SSD\n\n\n\u5c4f\u5e55 15.6 1920x1080 IPS 72% \u8272\u57df\n\n\n\n\n\u8f6f\u4ef6\u914d\u7f6e\uff1a\n\n\n\n\n\u64cd\u4f5c\u7cfb\u7edf ArchLinux\n\n\n\u7a97\u53e3\u7ba1\u7406 i3-gaps\n\n\n\u6587\u4ef6\u7ba1\u7406 ranger\n\n\n\u97f3\u4e50\u64ad\u653e mpd\n\n\n\u89c6\u9891\u64ad\u653e mpv\n\n\n\u6587\u672c\u7f16\u8f91 vim\n\n\n\u56fe\u7247\u67e5\u770b w3m\n\n\n\u6587\u6863\u5904\u7406 wps/libreoffice\n\n\n\u56fe\u5f62\u56fe\u50cf\u5904\u7406 wine+photoship/gimp\n\n\n\u5c4f\u5e55\u5f55\u5236\u89c6\u9891 ffmpeg\n\n\n\u6e38\u620f steam\n\n\n\n\n\u5410\u69fd\uff1a\u673a\u5668\u5230\u624b\u57fa\u672c\u6ee1\u610f\u3002\u5c4f\u5e55\u5de6\u4e0a\u89d2\u6709\u4e00\u70b9\u6f0f\u5149\uff0c\u8003\u8651\u5230\u6211\u5927\u90e8\u5206\u662f\u5728\u7ec8\u7aef\u4e0b\u5de5\u4f5c\uff0c\u57fa\u672c\u6ca1\u6709\u5f71\u54cd\u3002\u81f3\u4e8e\u505a\u5de5\uff0c\u603b\u4f53\u611f\u89c9\u662f\u6a21\u4effmac\uff0c\u4f46\u662f\u7531\u4e8e\u6210\u672c\u53d7\u9650\u53ea\u80fd\u505a\u5230\u5927\u6982\u3002\u6bd4\u5982\u673a\u5668\u8fb9\u7f18\u7684\u5272\u624b\u611f\u76f8\u5f53\u5f3a\u70c8\uff0c\u5947\u602a\u600e\u4e48\u5f88\u5c11\u770b\u5230\u8bc4\u6d4b\u91cc\u6709\u4eba\u63d0\u5230\u8fd9\u4e00\u70b9\uff1f\u7531\u4e8e\u6211\u662f\u76f4\u7ebf\u63a7\uff0c\u5bf9\u8fd9\u4e00\u70b9\u76ee\u524d\u8868\u793a\u53ef\u4ee5\u63a5\u53d7\u3002\u8fd8\u6709\u5c31\u662f\u5f88\u591a\u8bf4\u8bf4\u7684B/C\u9762\u7f1d\u9699\u7684\u95ee\u9898\uff0c\u5982\u679c\u662f\u5b8c\u7f8e\u4e3b\u4e49\u8005\u5bf9\u8fd9\u4e00\u70b9\u4f1a\u89c9\u5f97\u5f88\u96be\u53d7\u3002\u4f46\u662f\u65e5\u5e38\u4f7f\u7528\u4e2d\u786e\u5b9e\u6ca1\u6709\u4ec0\u4e48\u5f71\u54cd\u3002\u4f7f\u7528\u624d\u662f\u7b2c\u4e00\u4f4d\u7684\u3002\n\n\nBIOS\u8fc7\u4e8e\u7b80\u964b\u4e86\u3002\u6781\u7b80\u7684\u5916\u5f62\u8bbe\u8ba1\u70b9\u8d5e\uff0c\u4f46\u662f\u5185\u91cc\u4e5f\u8fc7\u4e8e\u7b80\u5355\u4e86\uff0c\u96be\u9053\u5b9a\u4f4d\u5bf9\u8c61\u662f\u5973\u6027\u7b49\u666e\u901a\u7528\u6237\uff1f\u8d77\u59cb\u5c0f\u7c73pro\u914d\u7a0b\u5e8f\u5458\u8fd8\u662f\u633a\u5408\u9002\u7684\u3002\n\n\n\u5c4f\u5e55\u7684\u4f18\u70b9\u662fIPS 72% \u8272\u57df\u7684\uff0c\u786e\u5b9e\u975e\u5e38\u4eae\u4e3d\u3002\u4e0d\u8fc7\u662f\u955c\u9762\u5c4f\uff0c\u8fd9\u4e00\u70b9\u4e0d\u592a\u7b26\u5408\u6211\u7684\u9700\u6c42\u3002\u53e6\u5916\u5206\u8fa8\u7387\u662f1920x1080\uff0c\u5c5e\u4e8e\u5e38\u89c4\u914d\u7f6e\u300215\u5bf8\u76844K\u5c4f\u5e55\u786e\u5b9e\u663e\u793a\u975e\u5e38\u7ec6\u817b\uff0c\u6709\u4e00\u79cd\u77e2\u91cf\u822c\u6cb9\u753b\u7684\u611f\u89c9\u3002\u4f46\u662f4k\u7684\u7f3a\u70b9\u662f\u652f\u6301\u8fd8\u4e0d\u662f\u5f88\u7406\u60f3\uff0c\u6211\u5e38\u7528\u7684\u4e00\u4e9b Java \u8f6f\u4ef6\u5fc5\u987b\u75281.8\u7684JRE\uff0c\u4e0d\u652f\u63014k\u663e\u793a\uff0c\u7528\u8d77\u6765\u4f1a\u5f88\u9ebb\u70e6\u3002\u9ad8\u6e05\u5c4f\uff081920x1080\uff09\u867d\u7136\u9897\u7c92\u611f\u8fd8\u662f\u6bd4\u8f83\u660e\u663e\uff0c\u4f46\u662f\u8f6f\u4ef6\u3001\u6295\u5f71\u7b49\u652f\u6301\u76ee\u524d\u8fd8\u8bf4\u8fd8\u662f\u6bd44K\u66f4\u4fbf\u5229\u4e00\u4e9b\u3002\n\n\n\u5b89\u88c5ArchLinux\n\u00b6\n\n\n\u5c0f\u7c73\u7684BIOS\u754c\u9762\u529f\u80fd\u771f\u662f\u7b80\u5355\uff0c\u770b\u4e86\u4e00\u4e0b\u62ff\u5230\u624b\u7684\u662f0502\u7248BIOS\u3002\u5728windows10\u91cc\u8dd1\u4e86ssd\u6d4b\u8bd5\u3002BIOS \u5fc5\u987b\u8bbe\u7f6e supervisor password \u624d\u80fd\u5c06\u4fee\u6539 secure boot \u4e3a disabled\u3002\u5f00\u673a\u6309F2\u8fdb\u5165BIOS\uff0c\u6309F12\u9009\u62e9\u5f15\u5bfc\u8bbe\u5907\u3002\n\n\n\u5f00\u673a\u6309F12\uff0c\u9009\u62e9U\u76d8\u542f\u52a8\uff0c\u8fdb\u5165Archlinux\u754c\u9762\u3002\u63d2\u4e0a\u4e00\u4e2a\u5927\u5bb9\u91cfU\u76d8\uff0c\u7528\u6765\u5c06\u539f\u786c\u76d8\u5185\u5bb9\u8fdb\u884c\u5907\u4efd\uff0c\u4ee5\u5907\u5c06\u6765\u9700\u8981\u6062\u590d\u65f6\u4f7f\u7528\u3002\u67e5\u770b\u4e00\u4e0b\u5f53\u524d\u78c1\u76d8\u60c5\u51b5\uff1a\n\n\nroot@archiso~ \n# lsblk -f\n\nNAME        FSTYPE      LABEL           UUID                    MOUNTPOINT\nloop0       squashfs                                            /run/archiso/sfs/airrootfs\nsda\n-sda1       vfat        BANQ            C873-E5BF\nsdb         iso9660     ARCH_201803     \n2018\n-03-01-15-13-16-00\n-sdb1       iso9660     ARCH_201803     \n2018\n-03-01-15-13-16-00  /run/archiso/bootmnt\n-sdb2       vfat        ARCHISO_EFI     \n8688\n-0060\nnvme0n1\n-nvme0n1p1  vfat        SYSTEM          E479-B82E\n-nvme0n1p2\n-nvme0n1p3  ntfs        Windows         3ACC7A8CCC7A4265\n-nvme0n1p4  ntfs        Recovery image  C2DE7AF4DE7ADFD9\n\n\n\n\n\u5f53\u524d\u7248\u672c\u7684linux\u5185\u6838\u5df2\u7ecf\u5305\u542b\u4e86\u9a71\u52a8\uff0c\u4e0d\u4f1a\u51fa\u73b0nvme ssd\u786c\u76d8\u627e\u4e0d\u5230\u7684\u60c5\u51b5\u3002\u5c0f\u7c73pro 256G SSD\u786c\u76d8\u4e0a\u67094\u4e2a\u5206\u533a\uff0c\u5206\u522b\u65f6\u7cfb\u7edf\u5f15\u5bfcEFI\u5206\u533a\uff0c\u4fdd\u7559\u5206\u533a\uff0cwin10\u5206\u533a\u548c\u7cfb\u7edf\u6062\u590d\u5206\u533a\u3002\u6211\u60f3\u4fdd\u7559win10\u7684recovery\u533a\uff0c\u627e\u4e00\u4e2aU\u76d8\u6765\u5907\u4efd\u5206\u533a\u5230\u6587\u4ef6\u3002\n\n\nroot@archiso~ \n# mkdir -p /backup\n\nroot@archiso~ \n# mount /dev/sda1 /backup\n\nroot@archiso~ \n# dd if=/dev/nvme0n4 of=/backup/mmipro_recovery.bin bs=64k conv=notrunc,noerror,sync status=progress\n\n\n15680\n+0 records in\n\n15680\n+0 records out\n\n10276604480\n bytes \n(\n1\n.0 GB, \n908\n MiB\n)\n copied, \n0\n.697636 s, \n1\n.5 GB/s\n\n\n\n\n\u8fde\u63a5wifi\u7f51\u7edc\uff0c\u53ef\u4ee5\u76f4\u63a5\u7528wifi-menu\uff0c\u4e5f\u53ef\u4ee5\u7528wpa_supplicant\u547d\u4ee4\u8fde\u63a5\u3002\u8fde\u63a5\u6210\u529f\u540e\u8fd0\u884cdhcpcd\uff0c\u5c31\u53ef\u4ee5\u8bbf\u95ee\u4e92\u8054\u7f51\u7edc\u4e86\u3002\n\n\n# \u7528wifi-menu\n\nroot@archiso~ \n# wifi-menu\n\n\n# \u7528wpa_supplicant\n\nroot@archiso~ \n# wpa_supplicant -i wlp2s0 -c <(wpa_passphrase \"YourSSID\" \"YourKey\") -B\n\n\n# \u8fde\u63a5\u7f51\u7edc\n\nroot@archiso~ \n# dhcpcd\n\nroot@archiso~ \n# ping -c 3 www.archlinux.org\n\n\n\n\n\n\u8003\u8651\u4e86\u5f88\u4e45\u8981\u4e0d\u8981\u52a0\u5bc6\u5b89\u88c5\uff0c\u7531\u4e8e\u662f\u548c\u5b69\u5b50\u4e00\u8d77\u4f7f\u7528\u7684\uff0c\u6709\u52a0\u5bc6\u72d7\u7684\u8bdd\u53ef\u4ee5\u9650\u5236\u5c0f\u5b69\u3002\u4f46\u662f\u8003\u8651\u5230\u53ef\u80fd\u5b58\u5728\u7684\u4e00\u4e9b\u610f\u5916\u60c5\u51b5\uff0c\u5b89\u88c5\u5c31\u91c7\u7528\u666e\u901a\u6a21\u5f0f\u5427\u3002\u5bf9\u5c0f\u5b69\u7684\u4f7f\u7528\u9650\u5236\u5c31\u4ece\u5176\u4ed6\u65b9\u9762\u7740\u624b\u4e86\u3002\n\n\n\u8fd0\u884c blkdiscard \u6e05\u9664\u786c\u76d8\uff0cSSD\u4e0a\u6240\u6709\u6570\u636e\u90fd\u4f1a\u88ab\u6e05\u695a\uff0c\u8bf7\u786e\u8ba4\u51c6\u5907\u5b8c\u6210\u518d\u6267\u884c\u3002\u5206\u533a\u5f88\u7b80\u5355\uff0c\u7528fdisk\u6216\u8005parted\u90fd\u53ef\u4ee5\uff0c\u559c\u6b22\u56fe\u5f62\u5316\u754c\u9762\u7684\u53ef\u4ee5\u7528cgdisk\u3002\n\n\n# \u64e6\u9664SSD\u6570\u636e\n\nroot@archiso~ \n# blkdiscard /dev/nvme0n1\n\n\n# fdisk\u5206\u533a\n\nroot@archiso~ \n# fdisk /dev/nvme0n1\n\n\n\n# \u521b\u5efagpt\u5206\u533a\u8868\n\nCommand \n(\nm \nfor\n \nhelp\n)\n: g\n\n# \u521b\u5efa\u5206\u533a\n\nCommand \n(\nm \nfor\n \nhelp\n)\n: n\nPartition number \n(\n1\n-128, default \n1\n)\n: \n1\n\nFirst sector \n(\n2048\n-500118158, default \n2048\n)\n: \n2048\n\nLast sector, +sector or +size\n{\nK,M,G,T,P\n}\n \n(\n2048\n-500118158, default \n500118158\n)\n: +512M\n\n\n# parted \u5206\u533a\n\nroot@archiso~ \n# parted /dev/nvme0n1\n\n\n\n\n\n\u6302\u8f7d\n/\n\u548c\n/boot\n\u5206\u533a\u5230/mnt\n\n\n# \u6dfb\u52a0\u6302\u8f7dboot\u7684\u8def\u5f84\n\nroot@archiso~ \n# mkdir /mnt/boot\n\nroot@archiso~ \n# mount /dev/nvme0n1p2 /mnt\n\nroot@archiso~ \n# mount /dev/nvme0n1p1 /mnt/boot\n\n\n# \u5b89\u88c5\u57fa\u7840\u7cfb\u7edf\n\nroot@archiso~ \n# pacstrap /mnt base base-devel\n\n\n# \u751f\u6210fstab\n\nroot@archiso~ \n# genfstab -U /mnt >> /mnt/etc/fstab\n\n\n# chroot\u5230\u65b0\u5b89\u88c5\u7684\u7cfb\u7edf\u4e2d\u8fdb\u884c\u64cd\u4f5c\n\nroot@archiso~ \n# arch-chroot /mnt /bin/bash\n\n\n\n\n\n# \u5b89\u88c5\u5fc3\u7cfb\u7edf\u6240\u5fc5\u987b\u7684\u65e0\u7ebf\u7f51\u7edc\u76f8\u5173\u8f6f\u4ef6\n\n\n[\nroot@archiso /\n]\n# pacman -S vim wpa_supplicant networkmanager\n\n\n\n\n\n\u521b\u5efa\u7ba1\u7406\u5458\u5bc6\u7801\uff0c\u65b0\u5efa\u7528\u6237mark\uff0c\u5e76\u5efa\u7acb\u4e3b\u7528\u6237\u76ee\u5f55\u548c\u5bc6\u7801\u3002\u5c06\u7528\u6237mark\u8bbe\u7f6e\u4e3awheel\u7ec4\uff0c\u83b7\u5f97\u7ba1\u7406\u5458\u6743\u9650\u3002\n\n\n[\nroot@archiso /\n]\n# passwd root\n\n\n[\nroot@archiso /\n]\n# useradd -G -m mark\n\n\n\n\n\n\u4ee5\u524d\u7248\u672c\u7684grub\u4e0d\u652f\u6301nvme\uff0c\u4e0d\u786e\u5b9a\u65b0\u7248\u672c\u6216\u8005grub-git\u662f\u5426\u53ef\u4ee5\u5b8c\u7f8e\u652f\u6301\uff0c\u8fd9\u91cc\u6211\u4eec\u5c31\u4e0d\u7528grub\u5f15\u5bfc\u4e86\uff0c\u76f4\u63a5\u7528systemd-boot\u6765\u5f15\u5bfc\u7cfb\u7edf\u3002\n\n\n# \u5b89\u88c5efi\n\n\n[\nroot@archiso /\n]\n# bootctl install\n\n\n[\nroot@archiso /\n]\n# vim /boot/efi/entities/arch.conf\n\n\n\n\n\n\n[\nroot@archiso /\n]\n# vim /boot/efi/load.conf\n\n\n\n\n\n\u5206\u533a\u65f6\u6211\u4eec\u6ca1\u6709\u5efa\u7acbswap\u5206\u533a\uff0c\u56e0\u4e3a\u5728SSD\u4e2d\uff0c\u66f4\u559c\u6b22\u7528\u6587\u4ef6\u65b9\u5f0f\u4f7f\u7528swap\uff0c\u66f4\u4e3a\u7075\u6d3b\u3002\n\n\n# mkdir /swap\n# fallocate -l 2G /swap/swapfile\n# chmod 600 /swap/swapfile\n# mkswap /swap/swapfile\n# swapon /swap/swapfile\n# echo \"/swap/swapfile none swap defaults 0 0\" >> /etc/fstab\n\n\n\n\n\u5b89\u88c5 teminal \u5de5\u5177 urxvt\n\u00b6\n\n\n\u4ece\u526a\u8d34\u677f\u4e2d\u7c98\u8d34\u5185\u5bb9\u5230urxvt\u4e2d\uff0c\u53ef\u4ee5\u7528 shift+insert\uff0c\u6216\u8005\u9f20\u6807\u4e2d\u952e\u3002\u4eceurxvt\u4e2d\u590d\u5236\uff0c\u76f4\u63a5\u7528\u9f20\u6807\u9009\u4e2d\u5373\u53ef\u3002\u590d\u5236\u5230\u5176\u4ed6\u7a0b\u5e8f\u65f6\uff0c\u53ea\u8981\u4f7f\u7528\u9f20\u6807\u4e2d\u952e\u5373\u53ef\u3002\n\n\n# pacman -S xorg xorg-xinit\n\n\n\nlibgl\n\n\n# pacman -S rxvt-unicode urxvt-perls\n\n\n# pacman -S linux-headers\n\n\n# pacman -S sudo\n\n\n# EDITOR=vim visudo\n\n\n%wheel\n \nALL\n=\n(\nALL\n)\n \nALL\n\n\n\n\n\n# useradd mark -g wheel -m\n# passwd mark\nNew password:\nRetype new password:\n\n\n\n\n\u5b57\u4f53\u8bbe\u7f6e\n\u00b6\n\n\n# \u5b89\u88c5\u5b57\u4f53\n$ sudo pacman -S ttf-inconsolata wqy-microhei wqy-microhei-light wyq-zenhei wqy-bitmapfont ttf-font-awesome ttf-arphic-ukai ttf-arphic-uming noto-fonts\n\n$ sudo ln -s /etc/fonts/conf.avail/70-no-bitmaps.conf /etc/fonts/conf.d/\n$ sudo unlink /etc/fonts/conf.d/10-scal-bitmap-fonts.conf\n\n\n\n\n\u8bbe\u7f6e\u65e0\u7ebf\u7f51\u7edc\n\u00b6\n\n\n\u5b89\u88c5 ArchLinux \u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u7528\u8fc7 wifi-menu \u5de5\u5177\u8fde\u63a5\u4e86\u65e0\u7ebf\u7f51\u7edc\u3002\u8fdb\u5165\u5b89\u88c5\u5b8c\u6bd5\u7684\u7cfb\u7edf\uff0c\u4e5f\u53ef\u4ee5\u4ee5\u7ba1\u7406\u5458\u8fd0\u884c wifi-menu \u8fde\u63a5\uff0c\u518d\u8fd0\u884c dhcpcd\uff0c\u5373\u53ef\u4e0a\u7f51\u3002\u5982\u679c\u8981\u542f\u7528\u7f51\u7edc\u670d\u52a1\uff0c\u5f00\u673a\u81ea\u52a8\u8fd0\u884c\u548c\u8fde\u63a5\uff0c\u9700\u8981\u5b89\u88c5 NetworkManager\n\n\n##\n\n$ sudo pacman -S networkmanager\n$ sudo systemctl \nenable\n NetworkManager\n\n\n## \u547d\u4ee4\u884c\u4e0b\u5efa\u7acb wifi \u8fde\u63a5\n\n$ nmcli dev wifi connect \n\"your-wifi-ssid\"\n password \n\"wifi-password\"\n\n\n## netoworkmanager\n\n\n\n\n\n\u8bbe\u7f6e\u97f3\u9891\u8f93\u5165\u8f93\u51fa\n\u00b6\n\n\nArchLinux \u7684\u5185\u6838\u6a21\u5757\u5df2\u7ecf\u5305\u542b ALSA\uff0c\u6ca1\u6709\u58f0\u97f3\u662f\u56e0\u4e3a\u9ed8\u8ba4\u8bbe\u7f6e\u6210\u9759\u97f3\u72b6\u6001\u3002\u63a7\u5236\u58f0\u97f3\uff0c\u8981\u5b89\u88c5\u76f8\u5e94\u7684\u5de5\u5177\u3002\n\n\n## alsa \u5de5\u5177\n\n$ sudo pacman -S alsa-utils alsa-oss\n\n\n## alsamixer \u914d\u7f6e\u58f0\u97f3\uff0c\u901a\u8fc7ncurse\u754c\u9762\u3002\n\n\n## \u8f93\u51faMaster\u4e0b\u65b9\u5982\u679c\u663e\u793a\u662fMM\uff0c\u5219\u5904\u4e8emute\u9759\u97f3\u72b6\u6001\uff0c\u6309m\u952e\u63a5\u89e6\n\n$ alsamixer\n\n\n## amixer \u547d\u4ee4\u884c\u58f0\u97f3\u8bbe\u7f6e\uff0c\u4e0b\u9762\u547d\u4ee4\u89e3\u9664\u9759\u97f3\n\n$ amixer sset Master unmute\n\n\n## \u67e5\u770b\u6240\u6709 mixer\n\n$ amixer scontrols\n\n\n\n\n\u58f0\u97f3\u914d\u7f6e\u6587\u4ef6\uff0c\u7cfb\u7edf\u7ea7\u7684\u5728\n/etc/asound.conf\n\uff0c\u7528\u6237\u7ea7\u7684\u5728`~/.asound.rc\n\n\n\u5c4f\u5e55\u8272\u5f69\u77eb\u6b63\n\u00b6\n\n\nICC\u662f1993\u5e74\u7531\u5305\u62ecAdobe\u3001Apple\u3001Kodak\u3001Microsoft\u5728\u5185\u7684\u6570\u5341\u5bb6\u516c\u53f8\u53d1\u8d77\u5e76\u6210\u7acb\u7684\uff0c\u5168\u79f0\u662f\u56fd\u9645\u8272\u5f69\u8054\u76df\uff08International Color Consortium\uff09\uff0c\u7b80\u79f0ICC\u3002\u8fd9\u4e2a\u7ec4\u7ec7\u7684\u4e3b\u8981\u76ee\u6807\uff0c\u5c31\u662f\u8981\u5728\u5404\u4e2a\u8bbe\u5907\u3001\u8f6f\u4ef6\u4e4b\u95f4\u5f62\u6210\u7edf\u4e00\u7684\u8272\u5f69\u6807\u51c6\uff0c\u5373ICC\u6807\u51c6\u3002\u6700\u7ec8\u7684\u76ee\u6807\u5c31\u662f\u8ba9\u8f93\u5165\u8bbe\u5907\uff08\u5982\u6570\u7801\u76f8\u673a\uff09\u3001\u663e\u793a\u8bbe\u5907\uff08\u5982\u663e\u793a\u5668\uff09\u3001\u8f93\u51fa\u8bbe\u5907\uff08\u5982\u6253\u5370\u673a\uff09\u80fd\u591f\u81ea\u59cb\u81f3\u7ec8\u5f97\u4fdd\u8bc1\u8272\u5f69\u88ab\u51c6\u786e\u91cd\u73b0\u3002\n\n\nICC\u501f\u52a9\u4e8e\u4e00\u4e2a\u72ec\u7acb\u7684\u8272\u5f69\u7a7a\u95f4\u5373\u8bbe\u5907\u8272\u5f69\u7279\u5f81\u63cf\u8ff0\u6587\u4ef6\u8fde\u63a5\u7a7a\u95f4/\u53c2\u8003\u7a7a\u95f4\uff08Profile Connection Space\uff0c\u7f29\u5199PCS\uff09\u4f5c\u4e3a\u8272\u5f69\u7a7a\u95f4\u8f6c\u6362\u7684\u4e2d\u95f4\u8272\u5f69\u7a7a\u95f4\uff0c\u901a\u8fc7\u5f69\u8272\u8bbe\u5907\u8272\u5f69\u7a7a\u95f4\uff08RGB\u6216CMYK\uff09\u548cPCS\u7a7a\u95f4\u4e4b\u95f4\u7684\u8054\u7cfb\u4e3a\u8be5\u8bbe\u5907\u5efa\u7acb\u8bbe\u5907\u7279\u5f81\u63cf\u8ff0\u6587\u4ef6\uff08Profile\uff09\uff0c\u4ece\u800c\u5b9e\u73b0\u4e86\u5bf9\u8272\u5f69\u7684\u5f00\u653e\u6027\u7ba1\u7406\uff0c\u4f7f\u5f97\u8272\u5f69\u4f20\u9012\u4e0d\u4f9d\u8d56\u4e8e\u5f69\u8272\u8bbe\u5907\u3002PCS\u7a7a\u95f4\u662f\u901a\u8fc7XYZ\u7a7a\u95f4\u6216LAB\u7a7a\u95f4\u6765\u5b9a\u4e49\u7684\u3002ICC\u6807\u51c6\u603b\u5171\u89c4\u5b9a\u4e867\u79cd\u7279\u5f81\u63cf\u8ff0\u6587\u4ef6Profile\uff0c\u5176\u4e2d\u5305\u62ec\uff1a3\u79cd\u57fa\u672c\u8bbe\u5907\u7684\u7279\u5f81\u63cf\u8ff0\u6587\u4ef6Profile\uff0c\u5373\u8f93\u5165\u8bbe\u5907Profile\u6587\u4ef6\u3001\u663e\u793a\u8bbe\u5907Profile\u6587\u4ef6\u548c\u8f93\u51fa\u8bbe\u5907Profile\u6587\u4ef6\uff1b4\u4e2a\u9644\u52a0\u7684\u7279\u5f81\u63cf\u8ff0\u6587\u4ef6Profile\uff0c\u5373\u8bbe\u5907\u94fe\u63a5Profile\u3001\u8272\u5f69\u7a7a\u95f4\u8f6c\u6362Profile\u3001\u62bd\u8c61Profile\u548c\u88ab\u547d\u540d\u8272Profile\n\n\n\u5728 Mac \u4e0e Windows \u5e73\u53f0\u4e0a\uff0c\u540d\u79f0\u5206\u522b\u88ab\u81ea\u52a8\u52a0\u4e0a .icc \u4e0e .icm \u7684\u914d\u7f6e\u6587\u4ef6\u6269\u5c55\u540d\u3002.icm \u4e0e .icc \u6269\u5c55\u540d\u53ef\u4ee5\u4e92\u6362\u3002\n\n\nArchLinux\u5b89\u88c5\u5b8c\u540e\uff0c\u9ed8\u8ba4\u7684\u5c4f\u5e55\u8272\u6e29\u504f\u51b7\u3002\u53ef\u4ee5\u7528Win10\u7684icc\u6587\u4ef6\u77eb\u6b63\u3002\u5982\u679c\u6ca1\u6709\u5907\u4efd\u539f\u6709\u8272\u5f69\u6587\u4ef6\uff0c\u53ef\u4ee5\u7528\u4e0b\u9762\u65b9\u6cd5\u6765\u52a0\u8f7d\u3002\u76f8\u5173\u5185\u5bb9\n\u53c2\u89c1\u8fd9\u91cc\n\u3002\n\n\n## \u53ef\u4ee5\u7528 edid-decode \u6765\u67e5\u770b\u5c4f\u5e55\u53c2\u6570\uff0c\u5c0f\u7c73pro\u7684\u5c4f\u5e55\u662f\u4eac\u4e1c\u65b9BOE\n\n\n## \u751f\u4ea7\u7684\u3002\u6211\u7684\u8fd9\u5757\u662f2017\u5e7418\u5468\u51fa\u54c1\u3002\u4e0d\u5173\u5fc3\u53c2\u6570\u7684\u8bdd\u53ef\u4ee5\u8df3\u8fc7\u8fd9\u4e00\u6b65\n\n$ git clone https://aur.archlinux.org/edid-decode-git.git\n$ \ncd\n edid-decode\n$ makepkg -si\n$ edid-decode < /sys/class/drm/card0-eDP-1/edid\nExtracted contents:\nheader:          \n00\n ff ff ff ff ff ff \n00\n\nserial number:   \n09\n e5 \n47\n \n07\n \n00\n \n00\n \n00\n \n00\n \n12\n 1b\nversion:         \n01\n \n04\n\nbasic params:    a5 \n22\n \n13\n \n78\n \n02\n\nchroma info:     1b bb a6 \n58\n \n55\n 9d \n26\n 0e 4f \n55\n\nestablished:     \n00\n \n00\n \n00\n\nstandard:        \n01\n \n01\n \n01\n \n01\n \n01\n \n01\n \n01\n \n01\n \n01\n \n01\n \n01\n \n01\n \n01\n \n01\n \n01\n \n01\n\ndescriptor \n1\n:    9c 3b \n80\n \n36\n \n71\n \n38\n 3c \n40\n \n30\n \n20\n \n36\n \n00\n \n58\n c2 \n10\n \n00\n \n00\n 1a\ndescriptor \n2\n:    fd 2d \n80\n 0e \n71\n \n38\n \n28\n \n40\n \n30\n \n20\n \n36\n \n00\n \n58\n c2 \n10\n \n00\n \n00\n 1a\ndescriptor \n3\n:    \n00\n \n00\n \n00\n fe \n00\n \n42\n 4f \n45\n \n20\n \n43\n \n51\n 0a \n20\n \n20\n \n20\n \n20\n \n20\n \n20\n\ndescriptor \n4\n:    \n00\n \n00\n \n00\n fe \n00\n 4e \n56\n \n31\n \n35\n \n36\n \n46\n \n48\n 4d 2d 4e \n36\n \n31\n 0a\nextensions:      \n00\n\nchecksum:        \n30\n\nEDID version: \n1\n.4\nManufacturer: BOE Model \n747\n Serial Number \n0\n\nMade in week \n18\n of \n2017\n\nDigital display\n\n8\n bits per primary color channel\nDisplayPort interface\nMaximum image size: \n34\n cm x \n19\n cm\nGamma: \n2\n.20\nSupported color formats: RGB \n4\n:4:4\nFirst detailed timing includes the native pixel format and preferred refresh rate\nDisplay x,y Chromaticity:\n  Red:   \n0\n.6484, \n0\n.3447\n  Green: \n0\n.3339, \n0\n.6162\n  Blue:  \n0\n.1503, \n0\n.0576\n  White: \n0\n.3105, \n0\n.3349\nEstablished timings supported:\nStandard timings supported:\nDetailed mode: Clock \n152\n.600 MHz, \n344\n mm x \n194\n mm\n               \n1920\n \n1968\n \n2000\n \n2230\n hborder \n0\n\n               \n1080\n \n1083\n \n1089\n \n1140\n vborder \n0\n\n               +hsync -vsync\n               VertFreq: \n60\n Hz, HorFreq: \n68430\n Hz\nDetailed mode: Clock \n117\n.730 MHz, \n344\n mm x \n194\n mm\n               \n1920\n \n1968\n \n2000\n \n2190\n hborder \n0\n\n               \n1080\n \n1083\n \n1089\n \n1120\n vborder \n0\n\n               +hsync -vsync\n               VertFreq: \n47\n Hz, HorFreq: \n53757\n Hz\nASCII string: BOE CQ\nASCII string: NV156FHM-N61\nChecksum: 0x30 \n(\nvalid\n)\n\nEDID block does NOT conform to EDID \n1\n.4!\n    Missing name descriptor\n    Missing monitor ranges\n\n\n\n\n\u6ca1\u6709\u5907\u4efdicc\u6587\u4ef6\u7684\u8bdd\uff0c\u53ef\u4ee5\u5728\n\u8fd9\u91cc\n\u4e0b\u8f7d\u3002\u901a\u8fc7.xinitrc\u7528\u6237\u7ea7\u65b9\u5f0f\u5728\u8fdb\u5165\u684c\u9762\u7cfb\u7edf\u5e76\u52a0\u8f7d\u3002\n\n\n$ wget https://www.notebookcheck.net/uploads/tx_nbc2/BOE_CQ_______NV156FHM_N61.icm\n$ sudo cp BOE*.icm /usr/local/share/color/icc/BOE_CQ_NV156FHM_N61.icm\n$ git clone https://aur.archlinux.org/xcalib.git\n$ \ncd\n xcalib\n$ makepkg -si\n$ \necho\n \n\"/usr/bin/xcalib -d :0 /usr/local/share/color/icc/BOE_CQ_NV156FHM_N61.icm\"\n >> ~/.xinitrc\n\n\n\n\n\u952e\u76d8\u6309\u952e\u8bbe\u7f6e\n\u00b6\n\n\n\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u4f1a\u53d1\u73b0\u952e\u76d8\u529f\u80fd\u952e\u6ca1\u6709\u542f\u7528\u3002\u7528\nxev | awk -F'[ )]+' '/^KeyPress/ { a[NR+2] } NR in a { printf \"%-3s %s\\n\", $5, $8 }'\n\u6d4b\u8bd5\u53d1\u73b0\u5b9e\u9645\u4e0a\u662fFn+F1\n12\u9ed8\u8ba4\u8bbe\u7f6e\u6210\u4e86F1\uff5e12\u529f\u80fd\u3002\u8fd9\u5728\u4e00\u4e9b\u7b14\u8bb0\u672c\u4e2dBIOS\u53ef\u4ee5\u6539\u3002\u5c0f\u7c73\u7b14\u8bb0\u672c\u5982\u679c\u8981\u5728F1\uff5e12\u548cFn+F1\nF12\u4e4b\u95f4\u5207\u6362\uff0c\u53ea\u8981\u6309\u4e0bFn+Esc\u5373\u53ef\u3002\n\n\n## \u67e5\u770b\u952e\u76d8\u6309\u952e\u5bf9\u5e94\u529f\u80fd\n\n$ xmodmap -pke \n|\n less\n...\n\n\n\n\nF1-F12\u5bf9\u5e94\u6309\u952e\uff1a\n\n\n\n\nF1 121\n\n\nF2 122\n\n\nF3 123\n\n\nF4 232\n\n\nF5 233\n\n\nF6 133\n\n\nF7\n\n\nF8\n\n\nF9\n\n\nF10\n\n\nF11 107\n\n\nF12 118\n\n\n\n\n\u63a7\u5236\u5c4f\u5e55\u4eae\u5ea6\uff0cxbacklight\u4e0d\u8d77\u4f5c\u7528\uff0c\u4f7f\u7528light\u63a7\u5236\n\n\n$ sudo pacman -S light\n\n\n## eidt in .config/.i3/config\n\nbindsym XF86MonBrightnessUp \nexec\n light -A \n10\n\nbindsym XF86MonBrightnessDown \nexec\n light -U \n10\n\n\n\n## \u5982\u679c\u60f3\u67e5\u770b\u5f53\u524d\u4eae\u5ea6\n\n$ light -G\n\n\n\n\n\u63a7\u5236\u58f0\u97f3\uff0c\u8fd9\u91cc\u4f7f\u7528amixer\uff08pactl for pulseAudio\uff09\n\n\n## edit in .config/.i3/config\n\nbindsym XF86AudioRaiseVolume \nexec\n amixer \nset\n Master \n10\n%+\nbindsym XF86AudioLowerVolume \nexec\n amixer \nset\n Master \n10\n%-\nbindsym XF86AudioMute \nexec\n amixer \nset\n Master toggle\n\n\n\n\n\u907f\u514d\u7535\u6e90\u6309\u94ae\u8bef\u89e6\uff0c\u8fdb\u884c\u4ee5\u4e0b\u8bbe\u7f6e\u3002\n\n\n$ sudo \necho\n \n\"HandlePowerKey=ignore\"\n >> /etc/systemd/logind.conf\n\n\n## edit in .config/i3/config\n\nbindsym --release XF86PowerOff mode \n\"\n$power\n\"\n\n\nset\n \n$power\n Say Goodbye? \n[\nL\n]\nogout \n|\n \n[\nS\n]\nhutdown \n|\n \n[\nC\n]\nancel\nmode \n\"\n$power\n\"\n \n{\n\n    bindsym l \nexec\n i3-msg \nexit\n\n    bindsym s \nexec\n systemctl poweroff\n    bindsym c mode \n\"default\"\n\n    bindsym Return mode \n\"default\"\n\n    bindsym Escape mode \n\"default\"\n\n\n}\n\n\n\n\n\n\u8bbe\u7f6e\u89e6\u6478\u677f\n\u00b6\n\n\n$ sudo pacman -S xf86-input-libinput\n$ sudo vim /etc/X11/xorg.conf.d/20-touchpad.conf\nSection \n\"InputClass\"\n\n        Identifier \n\"libinput touchpad\"\n\n        Driver \n\"libinput\"\n\n        MatchIsTouchpad \n\"on\"\n\n        MatchDevicePath \n\"/dev/input/event*\"\n\n        Option \n\"Tapping\"\n \n\"on\"\n\n        Option \n\"ClickMethod\"\n \n\"clickfinger\"\n\n        Option \n\"NaturalScrolling\"\n \n\"true\"\n\nEndSection\n\n\n\n\n\u5b89\u88c5 i3-gaps\n\u00b6\n\n\n$ vim .xinitrc\n$ \nexec\n i3\n\n\n\n\n\u5b89\u88c5polybar\n\u00b6\n\n\n# \u5b89\u88c5\u65e0\u7ebf wifi \u652f\u6301\n\n$ sudo pacman -S wireless_tools\n\n# \u5b89\u88c5 mpd \u652f\u6301\n\n$ sudo pacman -S libmpdclient mpd\n\n#\n\n$ git clone https://\n$ makepkg -si\n\n\n\n\n\u5b89\u88c5\u5e38\u7528\u8f6f\u4ef6\n\u00b6\n\n\n# \u5b89\u88c5\u6d4f\u89c8\u5668\n$ sudo pacman -S chromium firefox pepper-flash ttf-liberation\n\n# \u5b89\u88c5 git\n$ sudo pacman -S git-core\n\n# \u5b89\u88c5 python3 \u4ee5\u53ca python \u865a\u62df\u73af\u5883\n$ sudo pacman -S python python-pipenv\n\n\n\n\n\u5b89\u88c5\u6587\u4ef6\u7ba1\u7406\u5668\n\u00b6\n\n\n\u6211\u4eec\u7528 ranger \u6765\u505a\u4e3a\u6587\u4ef6\u7ba1\u7406\u5668\u3002\n\n\n$ pacman -S ranger\n\n\n\n\n\u4e2d\u6587\u8f93\u5165\n\u00b6\n\n\n## \u5b89\u88c5 fcitx\n\n$ sudo pacman -S fcitx\n$ vim ~/.xinitrc\n\nexport\n \nGTK_IM_MODULE\n=\nfcitx\n\nexport\n \nQT_IM_MODULE\n=\nfcitx\n\nexport\n \nXMODIFIERS\n=\n@im\n=\nfcitx\n\n\n## \u5b89\u88c5 im \u548c\u62fc\u97f3\u8f93\u5165\u6cd5\n\n$ sudo pacman -S fcitx-im\n$ sudo pacman -S fcitx-googlepinyin\n\n\n\n\n\u79d1\u5b66\u4e0a\u7f51\n\u00b6\n\n\n\u4fee\u590d sslocal \u4e0e openssl 1.1 \u51b2\u7a81\uff0c\u4fee\u590d\u65b9\u5f0f\u53c2\u89c1\n\u8fd9\u91cc\n\n\n$ \ncd\n /usr/lib/python3.6/site-packages/shadowsocks/crypto/\n$ sudo cp openssl.py openssl.py.bak\n$ sudo sed \n's/EVP_CIPHER_CTX_cleanup/EVP_CIPHER_CTX_reset/g'\n openssl.py > openssl.py\n\n\n\n\n\u4f7f\u7528shadowsocks\uff0c\u8bbe\u7f6e\u5f00\u673a\u81ea\u52a8\u8fd0\u884c\n\n\n## \u7528\u6237\u7ea7 shadowsocks\n\n$ sudo sslocal -c ~/.config/shadowsocks/server.json -d start --user mark\n\n\n## \u8bbe\u7f6e\u5f00\u673a\u81ea\u52a8\u8fd0\u884c\u7cfb\u7edf\u7ea7shadowsocks\uff0c\u6240\u6709\u4eba\u90fd\u53ef\u4ee5\u4f7f\u7528\n\n$ sudo mkdir /etc/shadowsocks\n$ sudo ln -s ~/.config/shadowsocks/server.json /etc/shadowsocks/\n$ sudo vim /etc/systemd/system/sslocal.service\n\n[\nUnit\n]\n\n\nDescription\n=\nDaemon to start Shadowsocks Client\n\nWants\n=\nnetwork-online.target\n\nAfter\n=\nnetwork.target\n\n[\nService\n]\n\n\nType\n=\nsimple\n\nExecStart\n=\n/usr/bin/sslocal -c /etc/shadowsocks/server.json --pid-file /var/run/sslocal.pid --log-file /var/log/sslocal.log   \n\n[\nInstall\n]\n\n\nWantedBy\n=\nmulti-user.target\n\n\n## systemd \u8bbe\u7f6e\n\n$ sudo systemctl \nenable\n sslocal.service\n$ sudo systemctl start sslocal.service\n$ sudo systemctl stop sslocal.service\n\n\n\n\n\u8bbe\u7f6e\u6d4f\u89c8\u5668\u63d2\u4ef6\n\n\n## SwitchyOmega for Chromium\n\n$ wget https://www.switchyomega.com/static/file/v2.5.6/SwitchyOmega_Chromium.crx\n$ 7z x SwitchyOmega_Chromium -r\nchromium://extensions\nDeveloper mode\nload extensions packs\n\n\n## SwitchOmega for Firefox\n\n$ wget https://www.switchyomega.com/static/file/v2.5.6/SwitchyOmega_Firefox.fx.xpi\nabout:addons\nInstall Add-ons From File\n\n\n\n\n\u672c\u5730\u5f00\u542fbbr\uff0c\u4e0a\u4f20\u6570\u636e\uff08\u5982\u89c6\u9891\uff09\u9632\u963b\u585e\u3002\n\n\n## \u5f00\u542f bbr\n\n$ sudo \necho\n \n\"net.core.default_qdisc=fq\"\n >> /etc/sysctl.d/233-bbr.conf\n$ sudo \necho\n \n\"net.ipv4.tcp_congestion_control=bbr\"\n >> /etc/sysctl.d/233-bbr.conf\n$ lsmod \n|\n grep bbr\ntcp_bbr         \n20480\n   \n1\n\n\n\n\n\n\u53cc\u663e\u5361\u8bbe\u7f6e\u4e0e\u6e38\u620f\n\u00b6\n\n\n\u5c0f\u7c73pro15.6\u53cc\u663e\u5361\u5206\u522b\u662fHD620\u548cMX150\u3002\u540e\u8005\u67092G\u663e\u5b58\u3002\u7535\u8111\u8fd8\u662f\u4ee5\u5de5\u4f5c\u4e3a\u4e3b\uff0c\u5076\u5c14\u548c\u513f\u5b50\u73a9\u4e00\u73a9\u6e38\u620f\u3002\u5c0f\u7c73pro 15.6\u7684BIOS\u91cc\u6ca1\u6709\u53ef\u4ee5\u9009\u62e9\u7684\u663e\u5361\uff0c\u56e0\u6b64\u65e0\u6cd5\u5355\u72ec\u7981\u7528\u67d0\u4e2a\u663e\u5361\u3002\u6211\u4eec\u91c7\u7528\u53cc\u663e\u5361\u7528optimus\u4ea4\u706b\u6765\u5728\u5e94\u7528\u548c\u80fd\u8017\u4e2d\u5bfb\u627e\u5e73\u8861\u3002\n\n\n$ sudo pacman -S bumblebee\n\n# \u6dfb\u52a0\u5f53\u524d\u7528\u6237\u5230\u7ec4 bumblebee\n\n$ sudo gpasswd -a \n`\nwhoami\n`\n bumblebee\n$ sudo systemctl \nenable\n bumblebeed.service\n\n\n# test bumblebee\n\n$ optirun glxgears -info\n\n\n\n\n## \u5b89\u88c5 steam\n\n$ vim /etc/pacman.conf\n\n[\nmultilib\n]\n\n\nInclude\n \n=\n /etc/pacman.d/mirrorlist\n\n$ sudo pacman -Syu\n$ sudo pacman -S steam\n\n\n\n\n\u53f3\u952e\u70b9\u51fb\u6e38\u620f-> Properties\uff0c\u6dfb\u52a0\u53c2\u6570 primusrun\n\n\n\u7535\u6e90\u7ba1\u7406\n\u00b6\n\n\n$ sudo pacman -S tlp\n\n\n\n\n\u8bbe\u7f6e\u7528\u6237\u76ee\u5f55\u8def\u5f84\n\u00b6\n\n\n$ sudo pacman -S xdg-user-dirs\n$ vim ~/.config/user-dirs.dirs\n\n\nXDG_DESKTOP_DIR\n=\n\"\n$HOME\n/desktop\"\n\n\nXDG_DOCUMENTS_DIR\n=\n\"\n$HOME\n/documents\"\n\n\nXDG_DOWNLOAD_DIR\n=\n\"\n$HOME\n/downloads\"\n\n\nXDG_MUSIC_DIR\n=\n\"\n$HOME\n/musics\"\n\n\nXDG_PICTURES_DIR\n=\n\"\n$HOME\n/pictures\"\n\n\nXDG_PUBLICSHARE_DIR\n=\n\"\n$HOME\n/public\"\n\n\nXDG_TEMPLATES_DIR\n=\n\"\n$HOME\n/templates\"\n\n\nXDG_VIDEOS_DIR\n=\n\"\n$HOME\n/videos\"\n\n\n$ xdg-user-dirs-update\n\n\n\n\n\u529e\u516c\u8f6f\u4ef6 wps\n\u00b6\n\n\n$ sudo \necho\n \n\"[archlinuxcn]\"\n >> /etc/pacman.conf\n$ sudo \necho\n \n\"Server = http://repo.archlinuxcn.org/\n$arch\n\"\n >> /etc/pacman.conf\n$ sudo pacman -Syu\n$ sudo pacman -S archlinuxcn-keyring\n$ sudo pacman -S wps-office ttf-wps-fonts\n\n\n# $ git clone https://aur.archlinux.org/ttf-ms-fonts.git\n\n\n# $ cd ttf-ms-fonts && makepkg -si\n\n\n\n\n\nscreen session\n\u00b6\n\n\n\u5e73\u65f6\u5de5\u4f5c\u7ecf\u5e38\u8981\u901a\u8fc7ssh\u8bbf\u95ee\u670d\u52a1\u5668\uff0c\u56e0\u6b64\u4f7f\u7528screen\u662f\u907f\u514d\u4e0d\u4e86\u7684\u3002\n\n\n\u84dd\u7259\n\u00b6\n\n\n\u901a\u8fc7\u914d\u7f6e\uff0c\u5927\u7ea6\u5728\u4e2d\u65ad\u84dd\u7259\u8fde\u63a530\u79d2\u540e\u624d\u80fd\u81ea\u52a8\u94fe\u63a5\u4e0a\u3002\n\n\n$ sudo pacman -S bluez bluez-utils\n$ sudo modprobe btusb\n$ sudo systemctl \nenable\n bluetooth.service\n\n# \u6dfb\u52a0\u5f53\u524d\u7528\u6237\u5230\u7ec4lp\n\n$ sudo gpasswd -a \n`\nwhoami\n`\n lp\n\n\n# \u542f\u52a8 bluetoothd\n\n$ sudo systemctl start bluetooth.service\n\n\n# \u786e\u8ba4 hci0 \u662f\u5426\u88abrfkill\u5173\u95ed\n\n$ rfkill list\n\n\n# \u94fe\u63a5 blue \u8bbe\u5907\n\n$ bluetoothctl\nAgent registered\n\n[\nbluetooth\n]\n\n\n\n# \u5f00\u673a\u84dd\u7259\u81ea\u52a8\u5f00\u542f\uff0c\u5e76\u4e14\u81ea\u52a8\u8fde\u63a5\u4e4b\u524d\u63e1\u624b\u6210\u529f\u7684\u84dd\u7259\u9f20\u6807\u3002\n\n$ sudo vim /etc/bluetooth/main.conf\n\nName\n=\nBlueZ\n\nClass\n=\n0x0000010c\n\nDiscoverableTimeout\n=\n30\n\n\nCache\n=\nalways\n\nReconnectUUIDs\n=\n\n\nRecommectAttempts\n=\n7\n\n\nReconnectIntervals\n=\n1\n,2,4,8,16,32,64\n\nAutoEnable\n=\ntrue\n\n\n\n\n\nConda and Bioconda\n\u00b6\n\n\n$ \ncd\n /tmp\n$ wget https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh\n$ sh Miniconda3-latest-Linux-x86\n...\n\n# change path\n\n\n[\n/home/mark/.conda\n]\n\n\n$ conda config --add channels defaults\n$ conda config --add channels conda-forge\n$ conda config --add channels bioconda\n\n\n\n\nMusic \u64ad\u653e\n\u00b6\n\n\n\u547d\u4ee4\u884c\u4e0b\u7684\u97f3\u4e50\u64ad\u653e\u5668\u4f17\u591a\uff0c\u6bd4\u8f83\u7b26\u5408\u4e2a\u4eba\u559c\u6b22\u7684\u662fcmus/nm\n\n\n\n\n\n\n\n\u6307\u7eb9\u8bc6\u522b\n\u00b6\n\n\n\u7528\nfprintd\n\u9a8c\u8bc1\u65f6\uff0c\u9700\u8981\u5c06\u53f3\u624b\u98df\u6307\u5212\u7b2c\u4e00\u8282\u6162\u6162\u6ed1\u8fc7sensor\uff082\u79d2\u5de6\u53f3\uff095\u6b21\u3002\n\n\n## Archlinux \u6e90\u91cc\u7684\u7248\u672c\u8fd8\u4e0d\u652f\u6301 Elan\u3002github\u4e0b\u8f7d\u6700\u65b0\u6e90\u4ee3\u7801\n\n\n## \u652f\u6301\u4e86\u5c0f\u7c73pro 04f3:0c1a \u7684 Elan Microeletronics \u6307\u7eb9\u8bc6\u522b\u5668\u3002\n\n$ git clone https://github.com/iafilatov/libfprint\n$ \ncd\n libfprint\n$ ./autogen.sh\n$ ./autoconfigure\n$ make \n&&\n sudo make install\n$ sudo ln -s /usr/local/lib/libfprint.so.0 /usr/lib\n\n\n## \u4e0d\u5b89\u88c5 libfprint \u4f9d\u8d56\n\n$ sudo pacman -Sdd fprintd\n\n\n## \u786e\u8ba4fprintd.service\u6b63\u5e38\u8fd0\u884c\uff0c\u5982\u679cfailed\uff0c\u7528`systemctl status fprintd`\u67e5\u770b\u95ee\u9898\n\n$ systemctl \n|\n grep fprinted.service\n\n\n## \u4fee\u6539\u767b\u5f55\u9a8c\u8bc1\u673a\u5236\uff0c\u5982\u679c\u987a\u5e8f\u662ffprintd\u5728\u524d\uff0c\u5219\u767b\u5f55\u65f6\u5148\u7528finger\u9a8c\u8bc1\n\n$ sudo vim /etc/pam.d/system-local-login\nauth      sufficient pam_fprintd.so\nauth      include    system-login\n\n\n## \u5efa\u7acb\u6307\u7eb9\u5e76\u9a8c\u8bc1\n\n$ fprintd-enroll\nUsing device /net/reactivated/Fprint/Device/0\nEnrolling right-index-finger finger.\nEnroll result: enroll-stage-passed\nEnroll result: enroll-stage-passed\nEnroll result: enroll-stage-passed\nEnroll result: enroll-stage-passed\nEnroll result: enroll-completed\n\n\n## \u9a8c\u8bc1\u8fc7\u7a0b\uff0c\u770b\u5230veryify-match\u5373\u8868\u793a\u9a8c\u8bc1\u901a\u8fc7\n\n$ fprintd-verify\nUsing device /net/reactivated/Fprint/Device/0\nListing enrolled fingers:\n - \n#0: right-index-finger\n\nVerify result: verify-match \n(\ndone\n)\n\n\n\n## \u91cd\u542f\uff0c\u7531\u4e8e\u6211\u6ca1\u6709\u7528 Display manager\uff0c\u7528xinit startx\u6765\u542f\u52a8i3\uff0c\n\n\n## \u6240\u4ee5console\u754c\u9762\u8f93\u5165\u7528\u6237\u540d\u540e\u5c31\u4f1a\u63d0\u793a\u201c\u6ed1\u52a8\u624b\u6307\u9a8c\u8bc1\u6307\u7eb9\u767b\u5f55\u201d\n\n$ reboot\n\n\n## i3lock\u6307\u7eb9\u89e3\u9501\u6709\u4e00\u4e2a\u95ee\u9898\u5728\u4e8e\u9700\u8981\u8f93\u95191\u6b21\u5bc6\u7801\u540e\u624d\u80fd\u6b63\u5e38\u6307\u7eb9\u89e3\u9501\u3002\n\n\n## \u53ef\u80fd\u9700\u8981 xss-lock \u7b49\u5176\u4ed6\u65b9\u6cd5\u89e3\u51b3\n\n$ sudo pacman -S i3lock\n$ sudo vim /etc/pam.d/i3lock\nauth include login\n\n\n## \u603b\u7ed3\uff1a\n\n\n## \u5c0f\u7c73\u7684 Elan \u6307\u7eb9\u8bc6\u522b\u5668\u9762\u79ef\u592a\u5c0f\uff0c\u5bfc\u81f4libfprint\u9700\u8981\u6ed1\u52a8\u624d\u80fd\u8bc6\u522b,\n\n\n## \u53e6\u5916\u611f\u89c9\u6307\u7eb9\u8bc6\u522b\u901f\u5ea6\u4e0d\u662f\u7279\u522b\u654f\u9510\uff0c\u626b\u5b8c\u6307\u7eb9\u9700\u89810.5s\u5de6\u53f3\u624d\u80fd\u89e3\u9501\u3002\n\n\n## \u603b\u4f53\u4e0a\u6765\u8bf4\uff0c\u53ef\u7528\u6027\u4e0d\u662f\u592a\u9ad8\u3002\u4e2a\u4eba\u611f\u89c9\u4e0d\u5982\u6444\u50cf\u5934\u4eba\u8138\u8bc6\u522b\u53ef\u7528\u6027\u66f4\u9ad8...\n\n\n\n\n\ni3lock \u53c2\u89c1\n\u8fd9\u91cc\n\n\n\u6444\u50cf\u5934\n\u00b6\n\n\n\u6444\u50cf\u5934\u9ed8\u8ba4\u914d\u7f6e\u597d\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\n\n\n## \u7528ffmpeg\u6d4b\u8bd5\n\n$ ffmpeg -f v4l2 -video_size 640x480 -i /dev/video0 output.mkv\n$ mpv output.mkv\n\n\n\n\nWine\n\u00b6\n\n\n$ sudo pacman -S wine wine-mono wine-tricks wine_gecko\n$ \nWINEPREFIX\n=\n$HOME\n/.wine wineboot -u\n$ \nWINEARCH\n=\nwin64 \nWINEPREFIX\n=\n$HOME\n/.wine64 winetricks \nfontsmooth\n=\nrgb gdiplus vcrun2008 vcrun2010 vcrun2012 vcrun2013 vcrun2015 atmlib msxml3 msxml6 gdiplus corefonts\n\n\n\n\nPhotoshop\n\u00b6\n\n\nAdobe Photoshop CC 2018 v19.1.3.49649\n\n\n$ wget http://209.126.105.33/DownloadBull/Portable_Adobe_Photoshop_CC_2018_v19.0.0.165_x64.zip\n$ 7z e Portable_Adobe_Photoshop_CC_2018_v19.0.0.165_x64.zip\n$ wine64 PhotoshopPortable.exe\n\n\n\n\n\u7f8e\u5316\u5b57\u4f53\u8bbe\u7f6e\n\u00b6\n\n\n\u8bb8\u591a\u53d1\u884c\u7248\u5982Ubuntu\u4f18\u5316\u8fc7\u5b57\u4f53\u6e32\u67d3\u6548\u679c\uff0c\u800c ArchLinux \u4ece\u5934\u5b89\u88c5\u7684\u8bdd\u9700\u8981\u81ea\u5df1\u6765\u914d\u7f6e\u3002\u5bf9\u4e8e\u666e\u901a\u4eba\u6765\u8bf4\u8fd9\u662f\u4e00\u4e2a\u590d\u6742\u800c\u75db\u82e6\u7684\u8fc7\u7a0b\uff0c\u90a3\u4e48\u6700\u7b80\u4fbf\u7684\u65b9\u6cd5\u5c31\u662f\u76f4\u63a5\u5b89\u88c5 Infinality \u5957\u88c5\u83b7\u5f97\u73b0\u6210\u7684\u5b57\u4f53\u4f18\u5316\u6e32\u67d3\u8bbe\u7f6e\u3002\nInfinality\n \u662f\u4e00\u4e2a Freetype \u7684\u4fee\u6539\u7248\uff0c\u5728 Linux \u4e0b\u63d0\u4f9b\u66f4\u597d\u7684\u5b57\u4f53\u6e32\u67d3\u6548\u679c\uff0c\u5e76\u62e5\u6709\u7b80\u4fbf\u7684\u5b9a\u5236\u7279\u6027\u3002\u5b83\u8bbe\u7f6e\u4e86\u5176\u4ed6\u64cd\u4f5c\u7cfb\u7edf\u7684\u5b57\u4f53\u98ce\u683c6\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7684\u5207\u6362\u3002\n\n\n\u5b89\u88c5 fontconfig-infinality-ultimate\n\n\n## \u5b89\u88c5 freetype2-infinality\n\n$ sudo pacman -R freetype2\n$ gpg --keyserver pgp.mit.edu --recv-keys C1A60EACE707FDA5\n$ git clone https://aur.archlinux.org/packages/freetype2-infinality/\n$ \ncd\n freetype2-infinality \n&&\n makepkg -si\n\n\n\n\n## \u5b89\u88c5 fontconfig-infinality-ultimate\n\n\n## \u5148\u5378\u8f7d fontconfig\n\n$ sudo pacman -R fontconfig\n$ git clone https://aur.archlinux.org/fontconfig-infinality-ultimate.git\n$ \ncd\n fontconfig-infinality-ultimate \n&&\n makepkg -si\n\n\n\n\n\u5c4f\u5e55\u4fdd\u62a4\u548c\u9501\u5c4f\n\u00b6\n\n\n\u5982\u679c\u7528 xscreensaver \u6784\u5efa\n\n\nbindsym \n$mod\n+F12 \nexec\n i3lock\n\n\n\n\n\u7f51\u7edc\u5de5\u5177\n\u00b6\n\n\nArchLinux \u7684 net-tools \u5df2\u7ecf\u9ed8\u8ba4 deprecated\uff0c\u539f\u6765\u5e38\u7528 netstat \u547d\u4ee4\u6709\n\u65b0\u4ee3\u66ff\u5de5\u5177\n\u3002\n\n\nvim && Python IDE\n\u00b6\n\n\n$ mv ~/.vim ~/.vim.old\n$ sudo pacman -S python-neovim\n$ sh -c \n\"\n$(\ncurl -fsSL https://raw.githubusercontent.com/jarolrod/vim-python-ide/master/setup.sh\n)\n\"\n\n$\n\n\n\n\n## \u5b89\u88c5 nerd \u5b57\u4f53\n\n$ git clone https://aur.archlinux.org/nerd-fonts-complete.git\n$ \ncd\n nerd-fonts-complete \n&&\n makepkg -si\n$ git clone https://github.com/chriskempson/base16-shell.git ~/.config/base16-shell\n$ \necho\n \n'BASE16_SHELL=$HOME/.config/base16-shell/'\n >> ~/.bashrc\n$ \necho\n \n'[ -n \"$PS1\" ] && [ -s $BASE16_SHELL/profile_helper.sh ] && eval \"$($BASE16_SHELL/profile_helper.sh)\"'\n >> ~/.bashrc\n\n\n\n\n## add these line into .vimrc\nif filereadable(expand(\"~/.vimrc_background\"))\n  let base16colorspace=256\n  source ~/.vimrc_background\nendif\n\n\n\n\n## \u5b89\u88c5 python git module\n\n$ sudo pacman -S python-gitpython\n\n\n\n\n\u56fe\u6807\u7f8e\u5316\n\u00b6\n\n\n$ sudo pacman -S numix-icon-theme-git numix-circle-icon-theme-git numix-gtk-theme\n\n\n\n\n\u52a8\u6001\u58c1\u7eb8\n\u00b6\n\n\nLinux \u4e0b\u53ef\u4ee5\u7528 xwinwraper \u4e4b\u7c7b\u7684\u5de5\u5177\u5c06\u89c6\u9891\u6216 Gif \u52a8\u6001\u56fe\u7247\u4f5c\u4e3a\u58c1\u7eb8\uff0c\u8fbe\u5230\u52a8\u6001\u684c\u9762\u7684\u6548\u679c\u3002\u5f53\u7136\u4ee3\u4ef7\u662f\u727a\u7272\u4e00\u4e9bCPU\u548c\u5185\u5b58\u3002\n\n\n\n\n\u8bbe\u7f6ecompton\n\n\n\u8bbe\u7f6exwinwrap\n\n\n\u51c6\u5907\u89c6\u9891\u6587\u4ef6\uff1a\u5efa\u8bae\u4f7f\u7528\u5ef6\u65f6\u6444\u5f71\u6216\n\n\n\n\n$ youtube-dl --proxy \n`\nsocks server\n`\n -F \n`\nURL\n`\n\n$ youtube-dl --porxy \n`\nsocks server\n`\n -f \n137\n \n`\nURL\n`\n\n\n\n\n\n$ touch run_wallpaper.sh\n\n\n# run_wallpaper.sh\n\n\n#!/bin/sh\n\nmpv \n$1\n --wid\n=\n\"\n$2\n\"\n --loop\n\n\n\n\n$ xwinwrap -fs -argb -ni -un -s -b -st -sp -nf -ov -- run_wallpaper.sh video.mp4 WID\n\n\n\n\n$ cmatrix\n$ ffmpeg -f x11grab -s 1920x1080 -i \n$DISPLAY\n output.mp4\n\n\n\n\n\u6253\u5370\u673a\n\u00b6\n\n\n\u4f7f\u7528CUPS\u7ba1\u7406\u6253\u5370\u673a\u3002\n\n\n$ lp my.doc\n\n\n\n\n\n\n[Infinality]: \nhttp://www.infinality.net/",
            "title": "02. Linux \u5b89\u88c5\u5b9e\u4f8b"
        },
        {
            "location": "/chapter_01/02_linux-installation/#linux",
            "text": "\u5185\u5bb9\u7b80\u4ecb  \u672c\u8282\u5c06\u4e4b\u524d\u4e00\u7bc7\u5728\u5c0f\u7c73 15 pro\u7b14\u8bb0\u672c\u4e0a\u5b89\u88c5ArchLinux\u7684\u6559\u7a0b\u4f5c\u4e3a\u4ecb\u7ecdLinux\u5b89\u88c5\u7684\u8303\u4f8b\u3002\u7531\u4e8e\u8bb8\u591a\u7684Linux\u53d1\u884c\u7248\u90fd\u6709\u56fe\u5f62\u5316\u7684\u5b89\u88c5\u754c\u9762\uff0c\u53ea\u8981\u7a0d\u5fae\u5177\u5907\u4e00\u4e9b\u8ba1\u7b97\u673a\u77e5\u8bc6\uff0c\u52a0\u4e0a\u641c\u7d22\u5f15\u64ce\uff0c\u5b89\u88c5\u5b8c\u6210\u96be\u5ea6\u4e0d\u5927\u3002\u4f46\u662f\u5bf9\u4e8e\u8ba1\u7b97\u673a\u3001Linux\u548c\u751f\u7269\u4fe1\u606f\u547d\u4ee4\u7684\u5b66\u4e60\u6765\u8bf4\uff0c\u8fd8\u662fArchLinux\u8fd9\u79cd\u547d\u4ee4\u884c\u5b89\u88c5\u754c\u9762\u66f4\u6709\u5e2e\u52a9\u3002\u4ee5\u6b64\u5b89\u88c5\u4f5c\u4e3a\u5165\u95e8\u8bfb\u7269\uff0c\u5e0c\u671b\u5bf9Linux\u548c\u5b89\u88c5\u6709\u6240\u5e2e\u52a9\u3002",
            "title": "Linux \u5b89\u88c5"
        },
        {
            "location": "/chapter_01/02_linux-installation/#pro-156-archlinux",
            "text": "\u64cd\u4f5c\u7cfb\u7edf: ArchLinux  WM: i3wm  DM: none",
            "title": "\u5c0f\u7c73 pro 15.6 \u5b89\u88c5 Archlinux \u7b14\u8bb0"
        },
        {
            "location": "/chapter_01/02_linux-installation/#pro",
            "text": "\u4ed4\u7ec6\u8bc4\u4f30\u4e86\u81ea\u5df1\u7684\u9700\u6c42\uff0c\u6a2a\u5411\u6bd4\u8f83\u4e86dell xps\uff0c\u534e\u4e3amate\uff0c\u5c0f\u7c73pro\u7b49\u51e0\u6b3e\u7b14\u8bb0\u672c\u3002\u6700\u7ec8\u5728\u770b\u5230\u5c0f\u7c73\u65b0\u51fa\u7684\u6e38\u620f\u672c\u5e76\u4e0d\u9002\u5408\u6211\u4e4b\u540e\uff0c\u679c\u65ad\u6dd8\u5b9d\u4e86\u5c0f\u7c73 pro 15.6 \u4f4e\u914d\u7248\uff0c5000\u4ee5\u5185\u53ef\u4ee5\u62ff\u4e0b\u3002\u4e2a\u4eba\u7684\u9700\u6c42\u662f\u4e00\u6b3e\u548c\u513f\u5b50\u5171\u540c\u4f7f\u7528\u7684\u7b14\u8bb0\u672c\u3002\u81ea\u5df1\u4e3b\u8981\u505a\u6570\u636e\u5206\u6790\u548c\u5f00\u53d1\u7528\uff0c\u540c\u65f6\u6559\u513f\u5b50\u7f16\u7a0b\uff0c\u8fd8\u53ef\u4ee5\u73a9\u73a9\u7b80\u5355\u7684\u6e38\u620f\u3002\u52a0\u4e0a\u5c0f\u7c73pro\u6781\u7b80\u5316\u7684\u8bbe\u8ba1\uff0c\u975e\u5e38\u7b26\u5408\u4e2a\u4eba\u7684\u88c5\u903c\u98ce\u683c\uff0c\u56e0\u6b64\u679c\u65ad\u5165\u624b\u3002\u66fe\u7ecf\u5728\u65b0\u6b3e\u5c0f\u7c7313\u548c15.6\u4e2d\u72b9\u8c6b\u8fc7\uff0c\u6700\u7ec8\u5728\u6563\u70ed+\u566a\u97f3 vs \u4fbf\u643a\u6027\u4e2d\u59a5\u534f\u4e86\u524d\u8005\u3002",
            "title": "\u9009\u62e9\u5c0f\u7c73pro"
        },
        {
            "location": "/chapter_01/02_linux-installation/#_1",
            "text": "\u786c\u4ef6\u914d\u7f6e\uff1a   CPU  i5 8250  \u5185\u5b58  8G  \u786c\u76d8 256G SSD  \u5c4f\u5e55 15.6 1920x1080 IPS 72% \u8272\u57df   \u8f6f\u4ef6\u914d\u7f6e\uff1a   \u64cd\u4f5c\u7cfb\u7edf ArchLinux  \u7a97\u53e3\u7ba1\u7406 i3-gaps  \u6587\u4ef6\u7ba1\u7406 ranger  \u97f3\u4e50\u64ad\u653e mpd  \u89c6\u9891\u64ad\u653e mpv  \u6587\u672c\u7f16\u8f91 vim  \u56fe\u7247\u67e5\u770b w3m  \u6587\u6863\u5904\u7406 wps/libreoffice  \u56fe\u5f62\u56fe\u50cf\u5904\u7406 wine+photoship/gimp  \u5c4f\u5e55\u5f55\u5236\u89c6\u9891 ffmpeg  \u6e38\u620f steam   \u5410\u69fd\uff1a\u673a\u5668\u5230\u624b\u57fa\u672c\u6ee1\u610f\u3002\u5c4f\u5e55\u5de6\u4e0a\u89d2\u6709\u4e00\u70b9\u6f0f\u5149\uff0c\u8003\u8651\u5230\u6211\u5927\u90e8\u5206\u662f\u5728\u7ec8\u7aef\u4e0b\u5de5\u4f5c\uff0c\u57fa\u672c\u6ca1\u6709\u5f71\u54cd\u3002\u81f3\u4e8e\u505a\u5de5\uff0c\u603b\u4f53\u611f\u89c9\u662f\u6a21\u4effmac\uff0c\u4f46\u662f\u7531\u4e8e\u6210\u672c\u53d7\u9650\u53ea\u80fd\u505a\u5230\u5927\u6982\u3002\u6bd4\u5982\u673a\u5668\u8fb9\u7f18\u7684\u5272\u624b\u611f\u76f8\u5f53\u5f3a\u70c8\uff0c\u5947\u602a\u600e\u4e48\u5f88\u5c11\u770b\u5230\u8bc4\u6d4b\u91cc\u6709\u4eba\u63d0\u5230\u8fd9\u4e00\u70b9\uff1f\u7531\u4e8e\u6211\u662f\u76f4\u7ebf\u63a7\uff0c\u5bf9\u8fd9\u4e00\u70b9\u76ee\u524d\u8868\u793a\u53ef\u4ee5\u63a5\u53d7\u3002\u8fd8\u6709\u5c31\u662f\u5f88\u591a\u8bf4\u8bf4\u7684B/C\u9762\u7f1d\u9699\u7684\u95ee\u9898\uff0c\u5982\u679c\u662f\u5b8c\u7f8e\u4e3b\u4e49\u8005\u5bf9\u8fd9\u4e00\u70b9\u4f1a\u89c9\u5f97\u5f88\u96be\u53d7\u3002\u4f46\u662f\u65e5\u5e38\u4f7f\u7528\u4e2d\u786e\u5b9e\u6ca1\u6709\u4ec0\u4e48\u5f71\u54cd\u3002\u4f7f\u7528\u624d\u662f\u7b2c\u4e00\u4f4d\u7684\u3002  BIOS\u8fc7\u4e8e\u7b80\u964b\u4e86\u3002\u6781\u7b80\u7684\u5916\u5f62\u8bbe\u8ba1\u70b9\u8d5e\uff0c\u4f46\u662f\u5185\u91cc\u4e5f\u8fc7\u4e8e\u7b80\u5355\u4e86\uff0c\u96be\u9053\u5b9a\u4f4d\u5bf9\u8c61\u662f\u5973\u6027\u7b49\u666e\u901a\u7528\u6237\uff1f\u8d77\u59cb\u5c0f\u7c73pro\u914d\u7a0b\u5e8f\u5458\u8fd8\u662f\u633a\u5408\u9002\u7684\u3002  \u5c4f\u5e55\u7684\u4f18\u70b9\u662fIPS 72% \u8272\u57df\u7684\uff0c\u786e\u5b9e\u975e\u5e38\u4eae\u4e3d\u3002\u4e0d\u8fc7\u662f\u955c\u9762\u5c4f\uff0c\u8fd9\u4e00\u70b9\u4e0d\u592a\u7b26\u5408\u6211\u7684\u9700\u6c42\u3002\u53e6\u5916\u5206\u8fa8\u7387\u662f1920x1080\uff0c\u5c5e\u4e8e\u5e38\u89c4\u914d\u7f6e\u300215\u5bf8\u76844K\u5c4f\u5e55\u786e\u5b9e\u663e\u793a\u975e\u5e38\u7ec6\u817b\uff0c\u6709\u4e00\u79cd\u77e2\u91cf\u822c\u6cb9\u753b\u7684\u611f\u89c9\u3002\u4f46\u662f4k\u7684\u7f3a\u70b9\u662f\u652f\u6301\u8fd8\u4e0d\u662f\u5f88\u7406\u60f3\uff0c\u6211\u5e38\u7528\u7684\u4e00\u4e9b Java \u8f6f\u4ef6\u5fc5\u987b\u75281.8\u7684JRE\uff0c\u4e0d\u652f\u63014k\u663e\u793a\uff0c\u7528\u8d77\u6765\u4f1a\u5f88\u9ebb\u70e6\u3002\u9ad8\u6e05\u5c4f\uff081920x1080\uff09\u867d\u7136\u9897\u7c92\u611f\u8fd8\u662f\u6bd4\u8f83\u660e\u663e\uff0c\u4f46\u662f\u8f6f\u4ef6\u3001\u6295\u5f71\u7b49\u652f\u6301\u76ee\u524d\u8fd8\u8bf4\u8fd8\u662f\u6bd44K\u66f4\u4fbf\u5229\u4e00\u4e9b\u3002",
            "title": "\u786c\u4ef6\u4e0e\u8f6f\u4ef6"
        },
        {
            "location": "/chapter_01/02_linux-installation/#archlinux",
            "text": "\u5c0f\u7c73\u7684BIOS\u754c\u9762\u529f\u80fd\u771f\u662f\u7b80\u5355\uff0c\u770b\u4e86\u4e00\u4e0b\u62ff\u5230\u624b\u7684\u662f0502\u7248BIOS\u3002\u5728windows10\u91cc\u8dd1\u4e86ssd\u6d4b\u8bd5\u3002BIOS \u5fc5\u987b\u8bbe\u7f6e supervisor password \u624d\u80fd\u5c06\u4fee\u6539 secure boot \u4e3a disabled\u3002\u5f00\u673a\u6309F2\u8fdb\u5165BIOS\uff0c\u6309F12\u9009\u62e9\u5f15\u5bfc\u8bbe\u5907\u3002  \u5f00\u673a\u6309F12\uff0c\u9009\u62e9U\u76d8\u542f\u52a8\uff0c\u8fdb\u5165Archlinux\u754c\u9762\u3002\u63d2\u4e0a\u4e00\u4e2a\u5927\u5bb9\u91cfU\u76d8\uff0c\u7528\u6765\u5c06\u539f\u786c\u76d8\u5185\u5bb9\u8fdb\u884c\u5907\u4efd\uff0c\u4ee5\u5907\u5c06\u6765\u9700\u8981\u6062\u590d\u65f6\u4f7f\u7528\u3002\u67e5\u770b\u4e00\u4e0b\u5f53\u524d\u78c1\u76d8\u60c5\u51b5\uff1a  root@archiso~  # lsblk -f \nNAME        FSTYPE      LABEL           UUID                    MOUNTPOINT\nloop0       squashfs                                            /run/archiso/sfs/airrootfs\nsda\n-sda1       vfat        BANQ            C873-E5BF\nsdb         iso9660     ARCH_201803      2018 -03-01-15-13-16-00\n-sdb1       iso9660     ARCH_201803      2018 -03-01-15-13-16-00  /run/archiso/bootmnt\n-sdb2       vfat        ARCHISO_EFI      8688 -0060\nnvme0n1\n-nvme0n1p1  vfat        SYSTEM          E479-B82E\n-nvme0n1p2\n-nvme0n1p3  ntfs        Windows         3ACC7A8CCC7A4265\n-nvme0n1p4  ntfs        Recovery image  C2DE7AF4DE7ADFD9  \u5f53\u524d\u7248\u672c\u7684linux\u5185\u6838\u5df2\u7ecf\u5305\u542b\u4e86\u9a71\u52a8\uff0c\u4e0d\u4f1a\u51fa\u73b0nvme ssd\u786c\u76d8\u627e\u4e0d\u5230\u7684\u60c5\u51b5\u3002\u5c0f\u7c73pro 256G SSD\u786c\u76d8\u4e0a\u67094\u4e2a\u5206\u533a\uff0c\u5206\u522b\u65f6\u7cfb\u7edf\u5f15\u5bfcEFI\u5206\u533a\uff0c\u4fdd\u7559\u5206\u533a\uff0cwin10\u5206\u533a\u548c\u7cfb\u7edf\u6062\u590d\u5206\u533a\u3002\u6211\u60f3\u4fdd\u7559win10\u7684recovery\u533a\uff0c\u627e\u4e00\u4e2aU\u76d8\u6765\u5907\u4efd\u5206\u533a\u5230\u6587\u4ef6\u3002  root@archiso~  # mkdir -p /backup \nroot@archiso~  # mount /dev/sda1 /backup \nroot@archiso~  # dd if=/dev/nvme0n4 of=/backup/mmipro_recovery.bin bs=64k conv=notrunc,noerror,sync status=progress  15680 +0 records in 15680 +0 records out 10276604480  bytes  ( 1 .0 GB,  908  MiB )  copied,  0 .697636 s,  1 .5 GB/s  \u8fde\u63a5wifi\u7f51\u7edc\uff0c\u53ef\u4ee5\u76f4\u63a5\u7528wifi-menu\uff0c\u4e5f\u53ef\u4ee5\u7528wpa_supplicant\u547d\u4ee4\u8fde\u63a5\u3002\u8fde\u63a5\u6210\u529f\u540e\u8fd0\u884cdhcpcd\uff0c\u5c31\u53ef\u4ee5\u8bbf\u95ee\u4e92\u8054\u7f51\u7edc\u4e86\u3002  # \u7528wifi-menu \nroot@archiso~  # wifi-menu  # \u7528wpa_supplicant \nroot@archiso~  # wpa_supplicant -i wlp2s0 -c <(wpa_passphrase \"YourSSID\" \"YourKey\") -B  # \u8fde\u63a5\u7f51\u7edc \nroot@archiso~  # dhcpcd \nroot@archiso~  # ping -c 3 www.archlinux.org   \u8003\u8651\u4e86\u5f88\u4e45\u8981\u4e0d\u8981\u52a0\u5bc6\u5b89\u88c5\uff0c\u7531\u4e8e\u662f\u548c\u5b69\u5b50\u4e00\u8d77\u4f7f\u7528\u7684\uff0c\u6709\u52a0\u5bc6\u72d7\u7684\u8bdd\u53ef\u4ee5\u9650\u5236\u5c0f\u5b69\u3002\u4f46\u662f\u8003\u8651\u5230\u53ef\u80fd\u5b58\u5728\u7684\u4e00\u4e9b\u610f\u5916\u60c5\u51b5\uff0c\u5b89\u88c5\u5c31\u91c7\u7528\u666e\u901a\u6a21\u5f0f\u5427\u3002\u5bf9\u5c0f\u5b69\u7684\u4f7f\u7528\u9650\u5236\u5c31\u4ece\u5176\u4ed6\u65b9\u9762\u7740\u624b\u4e86\u3002  \u8fd0\u884c blkdiscard \u6e05\u9664\u786c\u76d8\uff0cSSD\u4e0a\u6240\u6709\u6570\u636e\u90fd\u4f1a\u88ab\u6e05\u695a\uff0c\u8bf7\u786e\u8ba4\u51c6\u5907\u5b8c\u6210\u518d\u6267\u884c\u3002\u5206\u533a\u5f88\u7b80\u5355\uff0c\u7528fdisk\u6216\u8005parted\u90fd\u53ef\u4ee5\uff0c\u559c\u6b22\u56fe\u5f62\u5316\u754c\u9762\u7684\u53ef\u4ee5\u7528cgdisk\u3002  # \u64e6\u9664SSD\u6570\u636e \nroot@archiso~  # blkdiscard /dev/nvme0n1  # fdisk\u5206\u533a \nroot@archiso~  # fdisk /dev/nvme0n1  # \u521b\u5efagpt\u5206\u533a\u8868 \nCommand  ( m  for   help ) : g # \u521b\u5efa\u5206\u533a \nCommand  ( m  for   help ) : n\nPartition number  ( 1 -128, default  1 ) :  1 \nFirst sector  ( 2048 -500118158, default  2048 ) :  2048 \nLast sector, +sector or +size { K,M,G,T,P }   ( 2048 -500118158, default  500118158 ) : +512M # parted \u5206\u533a \nroot@archiso~  # parted /dev/nvme0n1   \u6302\u8f7d / \u548c /boot \u5206\u533a\u5230/mnt  # \u6dfb\u52a0\u6302\u8f7dboot\u7684\u8def\u5f84 \nroot@archiso~  # mkdir /mnt/boot \nroot@archiso~  # mount /dev/nvme0n1p2 /mnt \nroot@archiso~  # mount /dev/nvme0n1p1 /mnt/boot  # \u5b89\u88c5\u57fa\u7840\u7cfb\u7edf \nroot@archiso~  # pacstrap /mnt base base-devel  # \u751f\u6210fstab \nroot@archiso~  # genfstab -U /mnt >> /mnt/etc/fstab  # chroot\u5230\u65b0\u5b89\u88c5\u7684\u7cfb\u7edf\u4e2d\u8fdb\u884c\u64cd\u4f5c \nroot@archiso~  # arch-chroot /mnt /bin/bash   # \u5b89\u88c5\u5fc3\u7cfb\u7edf\u6240\u5fc5\u987b\u7684\u65e0\u7ebf\u7f51\u7edc\u76f8\u5173\u8f6f\u4ef6  [ root@archiso / ] # pacman -S vim wpa_supplicant networkmanager   \u521b\u5efa\u7ba1\u7406\u5458\u5bc6\u7801\uff0c\u65b0\u5efa\u7528\u6237mark\uff0c\u5e76\u5efa\u7acb\u4e3b\u7528\u6237\u76ee\u5f55\u548c\u5bc6\u7801\u3002\u5c06\u7528\u6237mark\u8bbe\u7f6e\u4e3awheel\u7ec4\uff0c\u83b7\u5f97\u7ba1\u7406\u5458\u6743\u9650\u3002  [ root@archiso / ] # passwd root  [ root@archiso / ] # useradd -G -m mark   \u4ee5\u524d\u7248\u672c\u7684grub\u4e0d\u652f\u6301nvme\uff0c\u4e0d\u786e\u5b9a\u65b0\u7248\u672c\u6216\u8005grub-git\u662f\u5426\u53ef\u4ee5\u5b8c\u7f8e\u652f\u6301\uff0c\u8fd9\u91cc\u6211\u4eec\u5c31\u4e0d\u7528grub\u5f15\u5bfc\u4e86\uff0c\u76f4\u63a5\u7528systemd-boot\u6765\u5f15\u5bfc\u7cfb\u7edf\u3002  # \u5b89\u88c5efi  [ root@archiso / ] # bootctl install  [ root@archiso / ] # vim /boot/efi/entities/arch.conf  [ root@archiso / ] # vim /boot/efi/load.conf   \u5206\u533a\u65f6\u6211\u4eec\u6ca1\u6709\u5efa\u7acbswap\u5206\u533a\uff0c\u56e0\u4e3a\u5728SSD\u4e2d\uff0c\u66f4\u559c\u6b22\u7528\u6587\u4ef6\u65b9\u5f0f\u4f7f\u7528swap\uff0c\u66f4\u4e3a\u7075\u6d3b\u3002  # mkdir /swap\n# fallocate -l 2G /swap/swapfile\n# chmod 600 /swap/swapfile\n# mkswap /swap/swapfile\n# swapon /swap/swapfile\n# echo \"/swap/swapfile none swap defaults 0 0\" >> /etc/fstab",
            "title": "\u5b89\u88c5ArchLinux"
        },
        {
            "location": "/chapter_01/02_linux-installation/#teminal-urxvt",
            "text": "\u4ece\u526a\u8d34\u677f\u4e2d\u7c98\u8d34\u5185\u5bb9\u5230urxvt\u4e2d\uff0c\u53ef\u4ee5\u7528 shift+insert\uff0c\u6216\u8005\u9f20\u6807\u4e2d\u952e\u3002\u4eceurxvt\u4e2d\u590d\u5236\uff0c\u76f4\u63a5\u7528\u9f20\u6807\u9009\u4e2d\u5373\u53ef\u3002\u590d\u5236\u5230\u5176\u4ed6\u7a0b\u5e8f\u65f6\uff0c\u53ea\u8981\u4f7f\u7528\u9f20\u6807\u4e2d\u952e\u5373\u53ef\u3002  # pacman -S xorg xorg-xinit  libgl  # pacman -S rxvt-unicode urxvt-perls  # pacman -S linux-headers  # pacman -S sudo  # EDITOR=vim visudo  %wheel   ALL = ( ALL )   ALL   # useradd mark -g wheel -m\n# passwd mark\nNew password:\nRetype new password:",
            "title": "\u5b89\u88c5 teminal \u5de5\u5177 urxvt"
        },
        {
            "location": "/chapter_01/02_linux-installation/#_2",
            "text": "# \u5b89\u88c5\u5b57\u4f53\n$ sudo pacman -S ttf-inconsolata wqy-microhei wqy-microhei-light wyq-zenhei wqy-bitmapfont ttf-font-awesome ttf-arphic-ukai ttf-arphic-uming noto-fonts\n\n$ sudo ln -s /etc/fonts/conf.avail/70-no-bitmaps.conf /etc/fonts/conf.d/\n$ sudo unlink /etc/fonts/conf.d/10-scal-bitmap-fonts.conf",
            "title": "\u5b57\u4f53\u8bbe\u7f6e"
        },
        {
            "location": "/chapter_01/02_linux-installation/#_3",
            "text": "\u5b89\u88c5 ArchLinux \u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u7528\u8fc7 wifi-menu \u5de5\u5177\u8fde\u63a5\u4e86\u65e0\u7ebf\u7f51\u7edc\u3002\u8fdb\u5165\u5b89\u88c5\u5b8c\u6bd5\u7684\u7cfb\u7edf\uff0c\u4e5f\u53ef\u4ee5\u4ee5\u7ba1\u7406\u5458\u8fd0\u884c wifi-menu \u8fde\u63a5\uff0c\u518d\u8fd0\u884c dhcpcd\uff0c\u5373\u53ef\u4e0a\u7f51\u3002\u5982\u679c\u8981\u542f\u7528\u7f51\u7edc\u670d\u52a1\uff0c\u5f00\u673a\u81ea\u52a8\u8fd0\u884c\u548c\u8fde\u63a5\uff0c\u9700\u8981\u5b89\u88c5 NetworkManager  ## \n$ sudo pacman -S networkmanager\n$ sudo systemctl  enable  NetworkManager ## \u547d\u4ee4\u884c\u4e0b\u5efa\u7acb wifi \u8fde\u63a5 \n$ nmcli dev wifi connect  \"your-wifi-ssid\"  password  \"wifi-password\"  ## netoworkmanager",
            "title": "\u8bbe\u7f6e\u65e0\u7ebf\u7f51\u7edc"
        },
        {
            "location": "/chapter_01/02_linux-installation/#_4",
            "text": "ArchLinux \u7684\u5185\u6838\u6a21\u5757\u5df2\u7ecf\u5305\u542b ALSA\uff0c\u6ca1\u6709\u58f0\u97f3\u662f\u56e0\u4e3a\u9ed8\u8ba4\u8bbe\u7f6e\u6210\u9759\u97f3\u72b6\u6001\u3002\u63a7\u5236\u58f0\u97f3\uff0c\u8981\u5b89\u88c5\u76f8\u5e94\u7684\u5de5\u5177\u3002  ## alsa \u5de5\u5177 \n$ sudo pacman -S alsa-utils alsa-oss ## alsamixer \u914d\u7f6e\u58f0\u97f3\uff0c\u901a\u8fc7ncurse\u754c\u9762\u3002  ## \u8f93\u51faMaster\u4e0b\u65b9\u5982\u679c\u663e\u793a\u662fMM\uff0c\u5219\u5904\u4e8emute\u9759\u97f3\u72b6\u6001\uff0c\u6309m\u952e\u63a5\u89e6 \n$ alsamixer ## amixer \u547d\u4ee4\u884c\u58f0\u97f3\u8bbe\u7f6e\uff0c\u4e0b\u9762\u547d\u4ee4\u89e3\u9664\u9759\u97f3 \n$ amixer sset Master unmute ## \u67e5\u770b\u6240\u6709 mixer \n$ amixer scontrols  \u58f0\u97f3\u914d\u7f6e\u6587\u4ef6\uff0c\u7cfb\u7edf\u7ea7\u7684\u5728 /etc/asound.conf \uff0c\u7528\u6237\u7ea7\u7684\u5728`~/.asound.rc",
            "title": "\u8bbe\u7f6e\u97f3\u9891\u8f93\u5165\u8f93\u51fa"
        },
        {
            "location": "/chapter_01/02_linux-installation/#_5",
            "text": "ICC\u662f1993\u5e74\u7531\u5305\u62ecAdobe\u3001Apple\u3001Kodak\u3001Microsoft\u5728\u5185\u7684\u6570\u5341\u5bb6\u516c\u53f8\u53d1\u8d77\u5e76\u6210\u7acb\u7684\uff0c\u5168\u79f0\u662f\u56fd\u9645\u8272\u5f69\u8054\u76df\uff08International Color Consortium\uff09\uff0c\u7b80\u79f0ICC\u3002\u8fd9\u4e2a\u7ec4\u7ec7\u7684\u4e3b\u8981\u76ee\u6807\uff0c\u5c31\u662f\u8981\u5728\u5404\u4e2a\u8bbe\u5907\u3001\u8f6f\u4ef6\u4e4b\u95f4\u5f62\u6210\u7edf\u4e00\u7684\u8272\u5f69\u6807\u51c6\uff0c\u5373ICC\u6807\u51c6\u3002\u6700\u7ec8\u7684\u76ee\u6807\u5c31\u662f\u8ba9\u8f93\u5165\u8bbe\u5907\uff08\u5982\u6570\u7801\u76f8\u673a\uff09\u3001\u663e\u793a\u8bbe\u5907\uff08\u5982\u663e\u793a\u5668\uff09\u3001\u8f93\u51fa\u8bbe\u5907\uff08\u5982\u6253\u5370\u673a\uff09\u80fd\u591f\u81ea\u59cb\u81f3\u7ec8\u5f97\u4fdd\u8bc1\u8272\u5f69\u88ab\u51c6\u786e\u91cd\u73b0\u3002  ICC\u501f\u52a9\u4e8e\u4e00\u4e2a\u72ec\u7acb\u7684\u8272\u5f69\u7a7a\u95f4\u5373\u8bbe\u5907\u8272\u5f69\u7279\u5f81\u63cf\u8ff0\u6587\u4ef6\u8fde\u63a5\u7a7a\u95f4/\u53c2\u8003\u7a7a\u95f4\uff08Profile Connection Space\uff0c\u7f29\u5199PCS\uff09\u4f5c\u4e3a\u8272\u5f69\u7a7a\u95f4\u8f6c\u6362\u7684\u4e2d\u95f4\u8272\u5f69\u7a7a\u95f4\uff0c\u901a\u8fc7\u5f69\u8272\u8bbe\u5907\u8272\u5f69\u7a7a\u95f4\uff08RGB\u6216CMYK\uff09\u548cPCS\u7a7a\u95f4\u4e4b\u95f4\u7684\u8054\u7cfb\u4e3a\u8be5\u8bbe\u5907\u5efa\u7acb\u8bbe\u5907\u7279\u5f81\u63cf\u8ff0\u6587\u4ef6\uff08Profile\uff09\uff0c\u4ece\u800c\u5b9e\u73b0\u4e86\u5bf9\u8272\u5f69\u7684\u5f00\u653e\u6027\u7ba1\u7406\uff0c\u4f7f\u5f97\u8272\u5f69\u4f20\u9012\u4e0d\u4f9d\u8d56\u4e8e\u5f69\u8272\u8bbe\u5907\u3002PCS\u7a7a\u95f4\u662f\u901a\u8fc7XYZ\u7a7a\u95f4\u6216LAB\u7a7a\u95f4\u6765\u5b9a\u4e49\u7684\u3002ICC\u6807\u51c6\u603b\u5171\u89c4\u5b9a\u4e867\u79cd\u7279\u5f81\u63cf\u8ff0\u6587\u4ef6Profile\uff0c\u5176\u4e2d\u5305\u62ec\uff1a3\u79cd\u57fa\u672c\u8bbe\u5907\u7684\u7279\u5f81\u63cf\u8ff0\u6587\u4ef6Profile\uff0c\u5373\u8f93\u5165\u8bbe\u5907Profile\u6587\u4ef6\u3001\u663e\u793a\u8bbe\u5907Profile\u6587\u4ef6\u548c\u8f93\u51fa\u8bbe\u5907Profile\u6587\u4ef6\uff1b4\u4e2a\u9644\u52a0\u7684\u7279\u5f81\u63cf\u8ff0\u6587\u4ef6Profile\uff0c\u5373\u8bbe\u5907\u94fe\u63a5Profile\u3001\u8272\u5f69\u7a7a\u95f4\u8f6c\u6362Profile\u3001\u62bd\u8c61Profile\u548c\u88ab\u547d\u540d\u8272Profile  \u5728 Mac \u4e0e Windows \u5e73\u53f0\u4e0a\uff0c\u540d\u79f0\u5206\u522b\u88ab\u81ea\u52a8\u52a0\u4e0a .icc \u4e0e .icm \u7684\u914d\u7f6e\u6587\u4ef6\u6269\u5c55\u540d\u3002.icm \u4e0e .icc \u6269\u5c55\u540d\u53ef\u4ee5\u4e92\u6362\u3002  ArchLinux\u5b89\u88c5\u5b8c\u540e\uff0c\u9ed8\u8ba4\u7684\u5c4f\u5e55\u8272\u6e29\u504f\u51b7\u3002\u53ef\u4ee5\u7528Win10\u7684icc\u6587\u4ef6\u77eb\u6b63\u3002\u5982\u679c\u6ca1\u6709\u5907\u4efd\u539f\u6709\u8272\u5f69\u6587\u4ef6\uff0c\u53ef\u4ee5\u7528\u4e0b\u9762\u65b9\u6cd5\u6765\u52a0\u8f7d\u3002\u76f8\u5173\u5185\u5bb9 \u53c2\u89c1\u8fd9\u91cc \u3002  ## \u53ef\u4ee5\u7528 edid-decode \u6765\u67e5\u770b\u5c4f\u5e55\u53c2\u6570\uff0c\u5c0f\u7c73pro\u7684\u5c4f\u5e55\u662f\u4eac\u4e1c\u65b9BOE  ## \u751f\u4ea7\u7684\u3002\u6211\u7684\u8fd9\u5757\u662f2017\u5e7418\u5468\u51fa\u54c1\u3002\u4e0d\u5173\u5fc3\u53c2\u6570\u7684\u8bdd\u53ef\u4ee5\u8df3\u8fc7\u8fd9\u4e00\u6b65 \n$ git clone https://aur.archlinux.org/edid-decode-git.git\n$  cd  edid-decode\n$ makepkg -si\n$ edid-decode < /sys/class/drm/card0-eDP-1/edid\nExtracted contents:\nheader:           00  ff ff ff ff ff ff  00 \nserial number:    09  e5  47   07   00   00   00   00   12  1b\nversion:          01   04 \nbasic params:    a5  22   13   78   02 \nchroma info:     1b bb a6  58   55  9d  26  0e 4f  55 \nestablished:      00   00   00 \nstandard:         01   01   01   01   01   01   01   01   01   01   01   01   01   01   01   01 \ndescriptor  1 :    9c 3b  80   36   71   38  3c  40   30   20   36   00   58  c2  10   00   00  1a\ndescriptor  2 :    fd 2d  80  0e  71   38   28   40   30   20   36   00   58  c2  10   00   00  1a\ndescriptor  3 :     00   00   00  fe  00   42  4f  45   20   43   51  0a  20   20   20   20   20   20 \ndescriptor  4 :     00   00   00  fe  00  4e  56   31   35   36   46   48  4d 2d 4e  36   31  0a\nextensions:       00 \nchecksum:         30 \nEDID version:  1 .4\nManufacturer: BOE Model  747  Serial Number  0 \nMade in week  18  of  2017 \nDigital display 8  bits per primary color channel\nDisplayPort interface\nMaximum image size:  34  cm x  19  cm\nGamma:  2 .20\nSupported color formats: RGB  4 :4:4\nFirst detailed timing includes the native pixel format and preferred refresh rate\nDisplay x,y Chromaticity:\n  Red:    0 .6484,  0 .3447\n  Green:  0 .3339,  0 .6162\n  Blue:   0 .1503,  0 .0576\n  White:  0 .3105,  0 .3349\nEstablished timings supported:\nStandard timings supported:\nDetailed mode: Clock  152 .600 MHz,  344  mm x  194  mm\n                1920   1968   2000   2230  hborder  0 \n                1080   1083   1089   1140  vborder  0 \n               +hsync -vsync\n               VertFreq:  60  Hz, HorFreq:  68430  Hz\nDetailed mode: Clock  117 .730 MHz,  344  mm x  194  mm\n                1920   1968   2000   2190  hborder  0 \n                1080   1083   1089   1120  vborder  0 \n               +hsync -vsync\n               VertFreq:  47  Hz, HorFreq:  53757  Hz\nASCII string: BOE CQ\nASCII string: NV156FHM-N61\nChecksum: 0x30  ( valid ) \nEDID block does NOT conform to EDID  1 .4!\n    Missing name descriptor\n    Missing monitor ranges  \u6ca1\u6709\u5907\u4efdicc\u6587\u4ef6\u7684\u8bdd\uff0c\u53ef\u4ee5\u5728 \u8fd9\u91cc \u4e0b\u8f7d\u3002\u901a\u8fc7.xinitrc\u7528\u6237\u7ea7\u65b9\u5f0f\u5728\u8fdb\u5165\u684c\u9762\u7cfb\u7edf\u5e76\u52a0\u8f7d\u3002  $ wget https://www.notebookcheck.net/uploads/tx_nbc2/BOE_CQ_______NV156FHM_N61.icm\n$ sudo cp BOE*.icm /usr/local/share/color/icc/BOE_CQ_NV156FHM_N61.icm\n$ git clone https://aur.archlinux.org/xcalib.git\n$  cd  xcalib\n$ makepkg -si\n$  echo   \"/usr/bin/xcalib -d :0 /usr/local/share/color/icc/BOE_CQ_NV156FHM_N61.icm\"  >> ~/.xinitrc",
            "title": "\u5c4f\u5e55\u8272\u5f69\u77eb\u6b63"
        },
        {
            "location": "/chapter_01/02_linux-installation/#_6",
            "text": "\u5b89\u88c5\u5b8c\u6210\u540e\uff0c\u4f1a\u53d1\u73b0\u952e\u76d8\u529f\u80fd\u952e\u6ca1\u6709\u542f\u7528\u3002\u7528 xev | awk -F'[ )]+' '/^KeyPress/ { a[NR+2] } NR in a { printf \"%-3s %s\\n\", $5, $8 }' \u6d4b\u8bd5\u53d1\u73b0\u5b9e\u9645\u4e0a\u662fFn+F1 12\u9ed8\u8ba4\u8bbe\u7f6e\u6210\u4e86F1\uff5e12\u529f\u80fd\u3002\u8fd9\u5728\u4e00\u4e9b\u7b14\u8bb0\u672c\u4e2dBIOS\u53ef\u4ee5\u6539\u3002\u5c0f\u7c73\u7b14\u8bb0\u672c\u5982\u679c\u8981\u5728F1\uff5e12\u548cFn+F1 F12\u4e4b\u95f4\u5207\u6362\uff0c\u53ea\u8981\u6309\u4e0bFn+Esc\u5373\u53ef\u3002  ## \u67e5\u770b\u952e\u76d8\u6309\u952e\u5bf9\u5e94\u529f\u80fd \n$ xmodmap -pke  |  less\n...  F1-F12\u5bf9\u5e94\u6309\u952e\uff1a   F1 121  F2 122  F3 123  F4 232  F5 233  F6 133  F7  F8  F9  F10  F11 107  F12 118   \u63a7\u5236\u5c4f\u5e55\u4eae\u5ea6\uff0cxbacklight\u4e0d\u8d77\u4f5c\u7528\uff0c\u4f7f\u7528light\u63a7\u5236  $ sudo pacman -S light ## eidt in .config/.i3/config \nbindsym XF86MonBrightnessUp  exec  light -A  10 \nbindsym XF86MonBrightnessDown  exec  light -U  10  ## \u5982\u679c\u60f3\u67e5\u770b\u5f53\u524d\u4eae\u5ea6 \n$ light -G  \u63a7\u5236\u58f0\u97f3\uff0c\u8fd9\u91cc\u4f7f\u7528amixer\uff08pactl for pulseAudio\uff09  ## edit in .config/.i3/config \nbindsym XF86AudioRaiseVolume  exec  amixer  set  Master  10 %+\nbindsym XF86AudioLowerVolume  exec  amixer  set  Master  10 %-\nbindsym XF86AudioMute  exec  amixer  set  Master toggle  \u907f\u514d\u7535\u6e90\u6309\u94ae\u8bef\u89e6\uff0c\u8fdb\u884c\u4ee5\u4e0b\u8bbe\u7f6e\u3002  $ sudo  echo   \"HandlePowerKey=ignore\"  >> /etc/systemd/logind.conf ## edit in .config/i3/config \nbindsym --release XF86PowerOff mode  \" $power \"  set   $power  Say Goodbye?  [ L ] ogout  |   [ S ] hutdown  |   [ C ] ancel\nmode  \" $power \"   { \n    bindsym l  exec  i3-msg  exit \n    bindsym s  exec  systemctl poweroff\n    bindsym c mode  \"default\" \n    bindsym Return mode  \"default\" \n    bindsym Escape mode  \"default\"  }",
            "title": "\u952e\u76d8\u6309\u952e\u8bbe\u7f6e"
        },
        {
            "location": "/chapter_01/02_linux-installation/#_7",
            "text": "$ sudo pacman -S xf86-input-libinput\n$ sudo vim /etc/X11/xorg.conf.d/20-touchpad.conf\nSection  \"InputClass\" \n        Identifier  \"libinput touchpad\" \n        Driver  \"libinput\" \n        MatchIsTouchpad  \"on\" \n        MatchDevicePath  \"/dev/input/event*\" \n        Option  \"Tapping\"   \"on\" \n        Option  \"ClickMethod\"   \"clickfinger\" \n        Option  \"NaturalScrolling\"   \"true\" \nEndSection",
            "title": "\u8bbe\u7f6e\u89e6\u6478\u677f"
        },
        {
            "location": "/chapter_01/02_linux-installation/#i3-gaps",
            "text": "$ vim .xinitrc\n$  exec  i3",
            "title": "\u5b89\u88c5 i3-gaps"
        },
        {
            "location": "/chapter_01/02_linux-installation/#polybar",
            "text": "# \u5b89\u88c5\u65e0\u7ebf wifi \u652f\u6301 \n$ sudo pacman -S wireless_tools # \u5b89\u88c5 mpd \u652f\u6301 \n$ sudo pacman -S libmpdclient mpd # \n$ git clone https://\n$ makepkg -si",
            "title": "\u5b89\u88c5polybar"
        },
        {
            "location": "/chapter_01/02_linux-installation/#_8",
            "text": "# \u5b89\u88c5\u6d4f\u89c8\u5668\n$ sudo pacman -S chromium firefox pepper-flash ttf-liberation\n\n# \u5b89\u88c5 git\n$ sudo pacman -S git-core\n\n# \u5b89\u88c5 python3 \u4ee5\u53ca python \u865a\u62df\u73af\u5883\n$ sudo pacman -S python python-pipenv",
            "title": "\u5b89\u88c5\u5e38\u7528\u8f6f\u4ef6"
        },
        {
            "location": "/chapter_01/02_linux-installation/#_9",
            "text": "\u6211\u4eec\u7528 ranger \u6765\u505a\u4e3a\u6587\u4ef6\u7ba1\u7406\u5668\u3002  $ pacman -S ranger",
            "title": "\u5b89\u88c5\u6587\u4ef6\u7ba1\u7406\u5668"
        },
        {
            "location": "/chapter_01/02_linux-installation/#_10",
            "text": "## \u5b89\u88c5 fcitx \n$ sudo pacman -S fcitx\n$ vim ~/.xinitrc export   GTK_IM_MODULE = fcitx export   QT_IM_MODULE = fcitx export   XMODIFIERS = @im = fcitx ## \u5b89\u88c5 im \u548c\u62fc\u97f3\u8f93\u5165\u6cd5 \n$ sudo pacman -S fcitx-im\n$ sudo pacman -S fcitx-googlepinyin",
            "title": "\u4e2d\u6587\u8f93\u5165"
        },
        {
            "location": "/chapter_01/02_linux-installation/#_11",
            "text": "\u4fee\u590d sslocal \u4e0e openssl 1.1 \u51b2\u7a81\uff0c\u4fee\u590d\u65b9\u5f0f\u53c2\u89c1 \u8fd9\u91cc  $  cd  /usr/lib/python3.6/site-packages/shadowsocks/crypto/\n$ sudo cp openssl.py openssl.py.bak\n$ sudo sed  's/EVP_CIPHER_CTX_cleanup/EVP_CIPHER_CTX_reset/g'  openssl.py > openssl.py  \u4f7f\u7528shadowsocks\uff0c\u8bbe\u7f6e\u5f00\u673a\u81ea\u52a8\u8fd0\u884c  ## \u7528\u6237\u7ea7 shadowsocks \n$ sudo sslocal -c ~/.config/shadowsocks/server.json -d start --user mark ## \u8bbe\u7f6e\u5f00\u673a\u81ea\u52a8\u8fd0\u884c\u7cfb\u7edf\u7ea7shadowsocks\uff0c\u6240\u6709\u4eba\u90fd\u53ef\u4ee5\u4f7f\u7528 \n$ sudo mkdir /etc/shadowsocks\n$ sudo ln -s ~/.config/shadowsocks/server.json /etc/shadowsocks/\n$ sudo vim /etc/systemd/system/sslocal.service [ Unit ]  Description = Daemon to start Shadowsocks Client Wants = network-online.target After = network.target [ Service ]  Type = simple ExecStart = /usr/bin/sslocal -c /etc/shadowsocks/server.json --pid-file /var/run/sslocal.pid --log-file /var/log/sslocal.log    [ Install ]  WantedBy = multi-user.target ## systemd \u8bbe\u7f6e \n$ sudo systemctl  enable  sslocal.service\n$ sudo systemctl start sslocal.service\n$ sudo systemctl stop sslocal.service  \u8bbe\u7f6e\u6d4f\u89c8\u5668\u63d2\u4ef6  ## SwitchyOmega for Chromium \n$ wget https://www.switchyomega.com/static/file/v2.5.6/SwitchyOmega_Chromium.crx\n$ 7z x SwitchyOmega_Chromium -r\nchromium://extensions\nDeveloper mode\nload extensions packs ## SwitchOmega for Firefox \n$ wget https://www.switchyomega.com/static/file/v2.5.6/SwitchyOmega_Firefox.fx.xpi\nabout:addons\nInstall Add-ons From File  \u672c\u5730\u5f00\u542fbbr\uff0c\u4e0a\u4f20\u6570\u636e\uff08\u5982\u89c6\u9891\uff09\u9632\u963b\u585e\u3002  ## \u5f00\u542f bbr \n$ sudo  echo   \"net.core.default_qdisc=fq\"  >> /etc/sysctl.d/233-bbr.conf\n$ sudo  echo   \"net.ipv4.tcp_congestion_control=bbr\"  >> /etc/sysctl.d/233-bbr.conf\n$ lsmod  |  grep bbr\ntcp_bbr          20480     1",
            "title": "\u79d1\u5b66\u4e0a\u7f51"
        },
        {
            "location": "/chapter_01/02_linux-installation/#_12",
            "text": "\u5c0f\u7c73pro15.6\u53cc\u663e\u5361\u5206\u522b\u662fHD620\u548cMX150\u3002\u540e\u8005\u67092G\u663e\u5b58\u3002\u7535\u8111\u8fd8\u662f\u4ee5\u5de5\u4f5c\u4e3a\u4e3b\uff0c\u5076\u5c14\u548c\u513f\u5b50\u73a9\u4e00\u73a9\u6e38\u620f\u3002\u5c0f\u7c73pro 15.6\u7684BIOS\u91cc\u6ca1\u6709\u53ef\u4ee5\u9009\u62e9\u7684\u663e\u5361\uff0c\u56e0\u6b64\u65e0\u6cd5\u5355\u72ec\u7981\u7528\u67d0\u4e2a\u663e\u5361\u3002\u6211\u4eec\u91c7\u7528\u53cc\u663e\u5361\u7528optimus\u4ea4\u706b\u6765\u5728\u5e94\u7528\u548c\u80fd\u8017\u4e2d\u5bfb\u627e\u5e73\u8861\u3002  $ sudo pacman -S bumblebee # \u6dfb\u52a0\u5f53\u524d\u7528\u6237\u5230\u7ec4 bumblebee \n$ sudo gpasswd -a  ` whoami `  bumblebee\n$ sudo systemctl  enable  bumblebeed.service # test bumblebee \n$ optirun glxgears -info  ## \u5b89\u88c5 steam \n$ vim /etc/pacman.conf [ multilib ]  Include   =  /etc/pacman.d/mirrorlist\n\n$ sudo pacman -Syu\n$ sudo pacman -S steam  \u53f3\u952e\u70b9\u51fb\u6e38\u620f-> Properties\uff0c\u6dfb\u52a0\u53c2\u6570 primusrun",
            "title": "\u53cc\u663e\u5361\u8bbe\u7f6e\u4e0e\u6e38\u620f"
        },
        {
            "location": "/chapter_01/02_linux-installation/#_13",
            "text": "$ sudo pacman -S tlp",
            "title": "\u7535\u6e90\u7ba1\u7406"
        },
        {
            "location": "/chapter_01/02_linux-installation/#_14",
            "text": "$ sudo pacman -S xdg-user-dirs\n$ vim ~/.config/user-dirs.dirs XDG_DESKTOP_DIR = \" $HOME /desktop\"  XDG_DOCUMENTS_DIR = \" $HOME /documents\"  XDG_DOWNLOAD_DIR = \" $HOME /downloads\"  XDG_MUSIC_DIR = \" $HOME /musics\"  XDG_PICTURES_DIR = \" $HOME /pictures\"  XDG_PUBLICSHARE_DIR = \" $HOME /public\"  XDG_TEMPLATES_DIR = \" $HOME /templates\"  XDG_VIDEOS_DIR = \" $HOME /videos\" \n\n$ xdg-user-dirs-update",
            "title": "\u8bbe\u7f6e\u7528\u6237\u76ee\u5f55\u8def\u5f84"
        },
        {
            "location": "/chapter_01/02_linux-installation/#wps",
            "text": "$ sudo  echo   \"[archlinuxcn]\"  >> /etc/pacman.conf\n$ sudo  echo   \"Server = http://repo.archlinuxcn.org/ $arch \"  >> /etc/pacman.conf\n$ sudo pacman -Syu\n$ sudo pacman -S archlinuxcn-keyring\n$ sudo pacman -S wps-office ttf-wps-fonts # $ git clone https://aur.archlinux.org/ttf-ms-fonts.git  # $ cd ttf-ms-fonts && makepkg -si",
            "title": "\u529e\u516c\u8f6f\u4ef6 wps"
        },
        {
            "location": "/chapter_01/02_linux-installation/#screen-session",
            "text": "\u5e73\u65f6\u5de5\u4f5c\u7ecf\u5e38\u8981\u901a\u8fc7ssh\u8bbf\u95ee\u670d\u52a1\u5668\uff0c\u56e0\u6b64\u4f7f\u7528screen\u662f\u907f\u514d\u4e0d\u4e86\u7684\u3002",
            "title": "screen session"
        },
        {
            "location": "/chapter_01/02_linux-installation/#_15",
            "text": "\u901a\u8fc7\u914d\u7f6e\uff0c\u5927\u7ea6\u5728\u4e2d\u65ad\u84dd\u7259\u8fde\u63a530\u79d2\u540e\u624d\u80fd\u81ea\u52a8\u94fe\u63a5\u4e0a\u3002  $ sudo pacman -S bluez bluez-utils\n$ sudo modprobe btusb\n$ sudo systemctl  enable  bluetooth.service # \u6dfb\u52a0\u5f53\u524d\u7528\u6237\u5230\u7ec4lp \n$ sudo gpasswd -a  ` whoami `  lp # \u542f\u52a8 bluetoothd \n$ sudo systemctl start bluetooth.service # \u786e\u8ba4 hci0 \u662f\u5426\u88abrfkill\u5173\u95ed \n$ rfkill list # \u94fe\u63a5 blue \u8bbe\u5907 \n$ bluetoothctl\nAgent registered [ bluetooth ]  # \u5f00\u673a\u84dd\u7259\u81ea\u52a8\u5f00\u542f\uff0c\u5e76\u4e14\u81ea\u52a8\u8fde\u63a5\u4e4b\u524d\u63e1\u624b\u6210\u529f\u7684\u84dd\u7259\u9f20\u6807\u3002 \n$ sudo vim /etc/bluetooth/main.conf Name = BlueZ Class = 0x0000010c DiscoverableTimeout = 30  Cache = always ReconnectUUIDs =  RecommectAttempts = 7  ReconnectIntervals = 1 ,2,4,8,16,32,64 AutoEnable = true",
            "title": "\u84dd\u7259"
        },
        {
            "location": "/chapter_01/02_linux-installation/#conda-and-bioconda",
            "text": "$  cd  /tmp\n$ wget https://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh\n$ sh Miniconda3-latest-Linux-x86\n... # change path  [ /home/mark/.conda ] \n\n$ conda config --add channels defaults\n$ conda config --add channels conda-forge\n$ conda config --add channels bioconda",
            "title": "Conda and Bioconda"
        },
        {
            "location": "/chapter_01/02_linux-installation/#music",
            "text": "\u547d\u4ee4\u884c\u4e0b\u7684\u97f3\u4e50\u64ad\u653e\u5668\u4f17\u591a\uff0c\u6bd4\u8f83\u7b26\u5408\u4e2a\u4eba\u559c\u6b22\u7684\u662fcmus/nm",
            "title": "Music \u64ad\u653e"
        },
        {
            "location": "/chapter_01/02_linux-installation/#_16",
            "text": "\u7528 fprintd \u9a8c\u8bc1\u65f6\uff0c\u9700\u8981\u5c06\u53f3\u624b\u98df\u6307\u5212\u7b2c\u4e00\u8282\u6162\u6162\u6ed1\u8fc7sensor\uff082\u79d2\u5de6\u53f3\uff095\u6b21\u3002  ## Archlinux \u6e90\u91cc\u7684\u7248\u672c\u8fd8\u4e0d\u652f\u6301 Elan\u3002github\u4e0b\u8f7d\u6700\u65b0\u6e90\u4ee3\u7801  ## \u652f\u6301\u4e86\u5c0f\u7c73pro 04f3:0c1a \u7684 Elan Microeletronics \u6307\u7eb9\u8bc6\u522b\u5668\u3002 \n$ git clone https://github.com/iafilatov/libfprint\n$  cd  libfprint\n$ ./autogen.sh\n$ ./autoconfigure\n$ make  &&  sudo make install\n$ sudo ln -s /usr/local/lib/libfprint.so.0 /usr/lib ## \u4e0d\u5b89\u88c5 libfprint \u4f9d\u8d56 \n$ sudo pacman -Sdd fprintd ## \u786e\u8ba4fprintd.service\u6b63\u5e38\u8fd0\u884c\uff0c\u5982\u679cfailed\uff0c\u7528`systemctl status fprintd`\u67e5\u770b\u95ee\u9898 \n$ systemctl  |  grep fprinted.service ## \u4fee\u6539\u767b\u5f55\u9a8c\u8bc1\u673a\u5236\uff0c\u5982\u679c\u987a\u5e8f\u662ffprintd\u5728\u524d\uff0c\u5219\u767b\u5f55\u65f6\u5148\u7528finger\u9a8c\u8bc1 \n$ sudo vim /etc/pam.d/system-local-login\nauth      sufficient pam_fprintd.so\nauth      include    system-login ## \u5efa\u7acb\u6307\u7eb9\u5e76\u9a8c\u8bc1 \n$ fprintd-enroll\nUsing device /net/reactivated/Fprint/Device/0\nEnrolling right-index-finger finger.\nEnroll result: enroll-stage-passed\nEnroll result: enroll-stage-passed\nEnroll result: enroll-stage-passed\nEnroll result: enroll-stage-passed\nEnroll result: enroll-completed ## \u9a8c\u8bc1\u8fc7\u7a0b\uff0c\u770b\u5230veryify-match\u5373\u8868\u793a\u9a8c\u8bc1\u901a\u8fc7 \n$ fprintd-verify\nUsing device /net/reactivated/Fprint/Device/0\nListing enrolled fingers:\n -  #0: right-index-finger \nVerify result: verify-match  ( done )  ## \u91cd\u542f\uff0c\u7531\u4e8e\u6211\u6ca1\u6709\u7528 Display manager\uff0c\u7528xinit startx\u6765\u542f\u52a8i3\uff0c  ## \u6240\u4ee5console\u754c\u9762\u8f93\u5165\u7528\u6237\u540d\u540e\u5c31\u4f1a\u63d0\u793a\u201c\u6ed1\u52a8\u624b\u6307\u9a8c\u8bc1\u6307\u7eb9\u767b\u5f55\u201d \n$ reboot ## i3lock\u6307\u7eb9\u89e3\u9501\u6709\u4e00\u4e2a\u95ee\u9898\u5728\u4e8e\u9700\u8981\u8f93\u95191\u6b21\u5bc6\u7801\u540e\u624d\u80fd\u6b63\u5e38\u6307\u7eb9\u89e3\u9501\u3002  ## \u53ef\u80fd\u9700\u8981 xss-lock \u7b49\u5176\u4ed6\u65b9\u6cd5\u89e3\u51b3 \n$ sudo pacman -S i3lock\n$ sudo vim /etc/pam.d/i3lock\nauth include login ## \u603b\u7ed3\uff1a  ## \u5c0f\u7c73\u7684 Elan \u6307\u7eb9\u8bc6\u522b\u5668\u9762\u79ef\u592a\u5c0f\uff0c\u5bfc\u81f4libfprint\u9700\u8981\u6ed1\u52a8\u624d\u80fd\u8bc6\u522b,  ## \u53e6\u5916\u611f\u89c9\u6307\u7eb9\u8bc6\u522b\u901f\u5ea6\u4e0d\u662f\u7279\u522b\u654f\u9510\uff0c\u626b\u5b8c\u6307\u7eb9\u9700\u89810.5s\u5de6\u53f3\u624d\u80fd\u89e3\u9501\u3002  ## \u603b\u4f53\u4e0a\u6765\u8bf4\uff0c\u53ef\u7528\u6027\u4e0d\u662f\u592a\u9ad8\u3002\u4e2a\u4eba\u611f\u89c9\u4e0d\u5982\u6444\u50cf\u5934\u4eba\u8138\u8bc6\u522b\u53ef\u7528\u6027\u66f4\u9ad8...   i3lock \u53c2\u89c1 \u8fd9\u91cc",
            "title": "\u6307\u7eb9\u8bc6\u522b"
        },
        {
            "location": "/chapter_01/02_linux-installation/#_17",
            "text": "\u6444\u50cf\u5934\u9ed8\u8ba4\u914d\u7f6e\u597d\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528  ## \u7528ffmpeg\u6d4b\u8bd5 \n$ ffmpeg -f v4l2 -video_size 640x480 -i /dev/video0 output.mkv\n$ mpv output.mkv",
            "title": "\u6444\u50cf\u5934"
        },
        {
            "location": "/chapter_01/02_linux-installation/#wine",
            "text": "$ sudo pacman -S wine wine-mono wine-tricks wine_gecko\n$  WINEPREFIX = $HOME /.wine wineboot -u\n$  WINEARCH = win64  WINEPREFIX = $HOME /.wine64 winetricks  fontsmooth = rgb gdiplus vcrun2008 vcrun2010 vcrun2012 vcrun2013 vcrun2015 atmlib msxml3 msxml6 gdiplus corefonts",
            "title": "Wine"
        },
        {
            "location": "/chapter_01/02_linux-installation/#photoshop",
            "text": "Adobe Photoshop CC 2018 v19.1.3.49649  $ wget http://209.126.105.33/DownloadBull/Portable_Adobe_Photoshop_CC_2018_v19.0.0.165_x64.zip\n$ 7z e Portable_Adobe_Photoshop_CC_2018_v19.0.0.165_x64.zip\n$ wine64 PhotoshopPortable.exe",
            "title": "Photoshop"
        },
        {
            "location": "/chapter_01/02_linux-installation/#_18",
            "text": "\u8bb8\u591a\u53d1\u884c\u7248\u5982Ubuntu\u4f18\u5316\u8fc7\u5b57\u4f53\u6e32\u67d3\u6548\u679c\uff0c\u800c ArchLinux \u4ece\u5934\u5b89\u88c5\u7684\u8bdd\u9700\u8981\u81ea\u5df1\u6765\u914d\u7f6e\u3002\u5bf9\u4e8e\u666e\u901a\u4eba\u6765\u8bf4\u8fd9\u662f\u4e00\u4e2a\u590d\u6742\u800c\u75db\u82e6\u7684\u8fc7\u7a0b\uff0c\u90a3\u4e48\u6700\u7b80\u4fbf\u7684\u65b9\u6cd5\u5c31\u662f\u76f4\u63a5\u5b89\u88c5 Infinality \u5957\u88c5\u83b7\u5f97\u73b0\u6210\u7684\u5b57\u4f53\u4f18\u5316\u6e32\u67d3\u8bbe\u7f6e\u3002 Infinality  \u662f\u4e00\u4e2a Freetype \u7684\u4fee\u6539\u7248\uff0c\u5728 Linux \u4e0b\u63d0\u4f9b\u66f4\u597d\u7684\u5b57\u4f53\u6e32\u67d3\u6548\u679c\uff0c\u5e76\u62e5\u6709\u7b80\u4fbf\u7684\u5b9a\u5236\u7279\u6027\u3002\u5b83\u8bbe\u7f6e\u4e86\u5176\u4ed6\u64cd\u4f5c\u7cfb\u7edf\u7684\u5b57\u4f53\u98ce\u683c6\uff0c\u53ef\u4ee5\u65b9\u4fbf\u7684\u5207\u6362\u3002  \u5b89\u88c5 fontconfig-infinality-ultimate  ## \u5b89\u88c5 freetype2-infinality \n$ sudo pacman -R freetype2\n$ gpg --keyserver pgp.mit.edu --recv-keys C1A60EACE707FDA5\n$ git clone https://aur.archlinux.org/packages/freetype2-infinality/\n$  cd  freetype2-infinality  &&  makepkg -si  ## \u5b89\u88c5 fontconfig-infinality-ultimate  ## \u5148\u5378\u8f7d fontconfig \n$ sudo pacman -R fontconfig\n$ git clone https://aur.archlinux.org/fontconfig-infinality-ultimate.git\n$  cd  fontconfig-infinality-ultimate  &&  makepkg -si",
            "title": "\u7f8e\u5316\u5b57\u4f53\u8bbe\u7f6e"
        },
        {
            "location": "/chapter_01/02_linux-installation/#_19",
            "text": "\u5982\u679c\u7528 xscreensaver \u6784\u5efa  bindsym  $mod +F12  exec  i3lock",
            "title": "\u5c4f\u5e55\u4fdd\u62a4\u548c\u9501\u5c4f"
        },
        {
            "location": "/chapter_01/02_linux-installation/#_20",
            "text": "ArchLinux \u7684 net-tools \u5df2\u7ecf\u9ed8\u8ba4 deprecated\uff0c\u539f\u6765\u5e38\u7528 netstat \u547d\u4ee4\u6709 \u65b0\u4ee3\u66ff\u5de5\u5177 \u3002",
            "title": "\u7f51\u7edc\u5de5\u5177"
        },
        {
            "location": "/chapter_01/02_linux-installation/#vim-python-ide",
            "text": "$ mv ~/.vim ~/.vim.old\n$ sudo pacman -S python-neovim\n$ sh -c  \" $( curl -fsSL https://raw.githubusercontent.com/jarolrod/vim-python-ide/master/setup.sh ) \" \n$  ## \u5b89\u88c5 nerd \u5b57\u4f53 \n$ git clone https://aur.archlinux.org/nerd-fonts-complete.git\n$  cd  nerd-fonts-complete  &&  makepkg -si\n$ git clone https://github.com/chriskempson/base16-shell.git ~/.config/base16-shell\n$  echo   'BASE16_SHELL=$HOME/.config/base16-shell/'  >> ~/.bashrc\n$  echo   '[ -n \"$PS1\" ] && [ -s $BASE16_SHELL/profile_helper.sh ] && eval \"$($BASE16_SHELL/profile_helper.sh)\"'  >> ~/.bashrc  ## add these line into .vimrc\nif filereadable(expand(\"~/.vimrc_background\"))\n  let base16colorspace=256\n  source ~/.vimrc_background\nendif  ## \u5b89\u88c5 python git module \n$ sudo pacman -S python-gitpython",
            "title": "vim &amp;&amp; Python IDE"
        },
        {
            "location": "/chapter_01/02_linux-installation/#_21",
            "text": "$ sudo pacman -S numix-icon-theme-git numix-circle-icon-theme-git numix-gtk-theme",
            "title": "\u56fe\u6807\u7f8e\u5316"
        },
        {
            "location": "/chapter_01/02_linux-installation/#_22",
            "text": "Linux \u4e0b\u53ef\u4ee5\u7528 xwinwraper \u4e4b\u7c7b\u7684\u5de5\u5177\u5c06\u89c6\u9891\u6216 Gif \u52a8\u6001\u56fe\u7247\u4f5c\u4e3a\u58c1\u7eb8\uff0c\u8fbe\u5230\u52a8\u6001\u684c\u9762\u7684\u6548\u679c\u3002\u5f53\u7136\u4ee3\u4ef7\u662f\u727a\u7272\u4e00\u4e9bCPU\u548c\u5185\u5b58\u3002   \u8bbe\u7f6ecompton  \u8bbe\u7f6exwinwrap  \u51c6\u5907\u89c6\u9891\u6587\u4ef6\uff1a\u5efa\u8bae\u4f7f\u7528\u5ef6\u65f6\u6444\u5f71\u6216   $ youtube-dl --proxy  ` socks server `  -F  ` URL ` \n$ youtube-dl --porxy  ` socks server `  -f  137   ` URL `   $ touch run_wallpaper.sh # run_wallpaper.sh  #!/bin/sh \nmpv  $1  --wid = \" $2 \"  --loop  $ xwinwrap -fs -argb -ni -un -s -b -st -sp -nf -ov -- run_wallpaper.sh video.mp4 WID  $ cmatrix\n$ ffmpeg -f x11grab -s 1920x1080 -i  $DISPLAY  output.mp4",
            "title": "\u52a8\u6001\u58c1\u7eb8"
        },
        {
            "location": "/chapter_01/02_linux-installation/#_23",
            "text": "\u4f7f\u7528CUPS\u7ba1\u7406\u6253\u5370\u673a\u3002  $ lp my.doc   [Infinality]:  http://www.infinality.net/",
            "title": "\u6253\u5370\u673a"
        },
        {
            "location": "/chapter_01/03_linux-administration/",
            "text": "Linux \u7cfb\u7edf\u7ba1\u7406\n\u00b6\n\n\n\u5728\u4e2a\u4ebaLinux\u4e0a\u8fd0\u884c\u548c\u7ba1\u7406\u76f8\u5bf9\u6bd4\u8f83\u7b80\u5355\u3002\u4f46\u5728\u670d\u52a1\u5668\u4e0a\u8981\u60f3\u505a\u597d\u591a\u7528\u6237\u7ba1\u7406\u5219\u8981\u590d\u6742\u8bb8\u591a\u3002\u5982\u679c\u8981\u8fd0\u884c\u4e00\u4e9b\u8d1f\u8f7d\u5747\u8861\u6216\u8005\u8fd0\u884c\u5982Galaxy\u5b9e\u4f8b\uff0c\u5219\u9700\u8981\u7ba1\u7406\u5458\u5177\u5907\u76f8\u5f53\u4e30\u5bcc\u7684\u7ecf\u9a8c\u548c\u6280\u672f\u3002\u8fd9\u4e9b\u6280\u672f\u5927\u90e8\u5206\u90fd\u662f\u4e0e\u8ba1\u7b97\u673a\u76f8\u5173\uff0c\u672c\u8282\u53ea\u7b80\u5355\u8ba8\u8bba\u4e00\u4e0b\u4e0e\u751f\u7269\u8f6f\u4ef6\u8fd0\u884c\u76f8\u5173\u7684Linux\u7cfb\u7edf\u7ba1\u7406\u3002",
            "title": "03. Linux \u7cfb\u7edf\u7ba1\u7406"
        },
        {
            "location": "/chapter_01/03_linux-administration/#linux",
            "text": "\u5728\u4e2a\u4ebaLinux\u4e0a\u8fd0\u884c\u548c\u7ba1\u7406\u76f8\u5bf9\u6bd4\u8f83\u7b80\u5355\u3002\u4f46\u5728\u670d\u52a1\u5668\u4e0a\u8981\u60f3\u505a\u597d\u591a\u7528\u6237\u7ba1\u7406\u5219\u8981\u590d\u6742\u8bb8\u591a\u3002\u5982\u679c\u8981\u8fd0\u884c\u4e00\u4e9b\u8d1f\u8f7d\u5747\u8861\u6216\u8005\u8fd0\u884c\u5982Galaxy\u5b9e\u4f8b\uff0c\u5219\u9700\u8981\u7ba1\u7406\u5458\u5177\u5907\u76f8\u5f53\u4e30\u5bcc\u7684\u7ecf\u9a8c\u548c\u6280\u672f\u3002\u8fd9\u4e9b\u6280\u672f\u5927\u90e8\u5206\u90fd\u662f\u4e0e\u8ba1\u7b97\u673a\u76f8\u5173\uff0c\u672c\u8282\u53ea\u7b80\u5355\u8ba8\u8bba\u4e00\u4e0b\u4e0e\u751f\u7269\u8f6f\u4ef6\u8fd0\u884c\u76f8\u5173\u7684Linux\u7cfb\u7edf\u7ba1\u7406\u3002",
            "title": "Linux \u7cfb\u7edf\u7ba1\u7406"
        },
        {
            "location": "/chapter_01/04_awk/",
            "text": "\u7528 awk \u5904\u7406 NGS \u6570\u636e\n\u00b6\n\n\nawk \u5de5\u5177\u5e38\u7528\u6765\u5bf9\u6587\u4ef6\u5185\u5bb9\u6309\u884c\u8fdb\u884c\u5339\u914d\u641c\u7d22\uff0c\u4e00\u65e6\u67d0\u4e00\u884c\u4e2d\u7684\u5185\u5bb9\u4e0e\u641c\u7d22\u6761\u4ef6\u5339\u914d\uff0c\u5219\u5bf9\u8be5\u5185\u5bb9\u505a\u8fdb\u4e00\u6b65\u64cd\u4f5c\u3002\u672c\u8d28\u4e0a\u8bb2\uff0cawk \u5c5e\u4e8e\u6570\u636e\u9a71\u52a8\u7684\u7a0b\u5e8f\uff0c\u56e0\u6b64 awk \u7a0b\u5e8f\u4e5f\u975e\u5e38\u5bb9\u6613\u7f16\u5199\u4e0e\u9605\u8bfb\u3002\u9ad8\u901a\u91cf\u6d4b\u5e8f\u6280\u672f\u5e26\u6765\u5927\u91cf\u7684\u6570\u636e\uff0c\u800c\u751f\u7269\u5b66\u5206\u6790\u5f80\u5f80\u76f4\u9700\u8981\u5176\u4e2d\u7279\u5b9a\u7684\u90e8\u5206\uff0c\u8fd9\u65f6 awk \u5c31\u53ef\u4ee5\u5927\u663e\u8eab\u624b\u4e3a\u6d4b\u5e8f\u6570\u636e\u7684\u8f6c\u6362\u4e0e\u5206\u6790\u63d0\u4f9b\u5e2e\u52a9\u3002\u6211\u4eec\u9996\u5148\u6765\u770b\u4e00\u4e2a\u6700\u7b80\u5355\u7684 awk \u547d\u4ee4\u7a0b\u5e8f\uff1a\n\n\n# \u5c06contigs.fasta\u6587\u4ef6\u4e2d\u5e8f\u5217ID\u6253\u5370\u5230\u7ec8\u7aef\n\n\n# contigs.fasta\u5185\u5982\uff1a\n\n\n# >seq1\n\n\n# ATGGGGTCCGATTACCG\n\n\n# >seq2\n\n\n# CGGNTTACCGYGACAGT\n\n\n$ awk \n'/>/'\n contigs.fasta\n\n\n# \u5c4f\u5e55\u4e0a\u4f1a\u8f93\u51fa\uff1a\n\n>seq1\n>seq2\n\n$ awk \n'/^ATG/'\n contigs.fasta\u5185\u5982\n\n\n#\u5c4f\u5e55\u4e0a\u4f1a\u8f93\u51fa\uff1a\n\nATGGGGTCCGATTACCG\n\n\n\n\n\u8fd9\u4e2a\u547d\u4ee4\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u5c06 fasta \u6587\u4ef6\u4e2d\u5305\u542b '>' \u5b57\u7b26\u7684\u884c\u8f93\u51fa\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f\u5c06\u6240\u6709\u7684\u5e8f\u5217\u5934\u5185\u5bb9\u8f93\u51fa\u3002\u4f5c\u7528\u7c7b\u4f3c\ngrep \">\"\n\u3002\n\n\nawk \u7a0b\u5e8f\u4e3b\u4f53\u4e3b\u8981\u5305\u62ec pattern\uff0caction\u548cinput file\uff1a\n\n\n\n\npattern \u8868\u793a\u6240\u8981\u641c\u7d22\u7684\u5185\u5bb9\uff0c\u53ef\u4ee5\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u3002\n\n\n{ action } \u5219\u8868\u793a\u641c\u7d22\u5339\u914d\u540e\u8981\u505a\u7684\u64cd\u4f5c\u3002\n\n\ninput file\uff1a\u6240\u8981\u641c\u7d22\u7684\u8f93\u5165\u5185\u5bb9\uff0c\u6bd4\u5982\u524d\u9762\u4f8b\u5b50\u7684 contigs.fasta\n\n\n\n\nawk\u53ef\u4ee5\u5728shell\u91cc\u76f4\u63a5\u8fd0\u884c\uff1a\n\n\n$ awk \n'pattern { action }'\n input_file\n\n\n\n\n\u4e5f\u53ef\u4ee5\u5199\u6210awk\u7a0b\u5e8f\u6765\u8fd0\u884c\u3002\u4e00\u4e2a awk \u7a0b\u5e8f\u5f80\u5f80\u5982\u4e0b\u6240\u793a\uff1a\n\n\n#!/usr/bin/awk -f\n\n\npattern\n \n{\n \naction\n \n}\n\n\n\n\n\nawk \u53ef\u4ee5\u4e0d\u9700\u8981\u8f93\u5165\u6587\u4ef6\uff1b\u5bf9\u4e8epattern\u548caction\u6765\u8bf4\uff0c2\u8005\u81f3\u5c11\u8981\u6709\u4e00\u4e2a\u624d\u80fd\u8fd0\u884c\u3002\u5982\u679c\u6ca1\u6709pattern\uff0c\u5219\u9ed8\u8ba4\u5339\u914d\u4efb\u4f55\u8f93\u5165\uff0c\u6309\u884c\u8f93\u51fa\u5e76\u6267\u884caction\u3002\u5982\u679c\u6ca1\u6709action\uff0c\u5219\u5339\u914dpattern\u5e76\u6309\u884c\u8f93\u51fa\u4e0d\u505a\u989d\u5916\u64cd\u4f5c\u3002\n\n\n# \u5c1d\u8bd5\u4ee5\u4e0b\u8bed\u53e5\uff0c\u5728\u7ec8\u7aef\u6253\u5370`hello world`\u3002\u8fd9\u91ccBEGIN\u662fpattern\uff0c{ print \"hello world\" } \u662faction\n\n$ awk \n'BEGIN { print \"hello world\" }'\n\n\n\n# \u6a21\u62dfcat\u8f93\u51fa\u7ec8\u7aef\u8f93\u5165\u7684\u5b57\u7b26\u3002\u8fd9\u91cc\u7701\u7565\u4e86pattern\n\n$ awk \n'{ print }'\n\n\n\n\n\n\u4e0a\u9762\u8fd9\u4e2a\u4f8b\u5b50\u53ef\u4ee5\u4fdd\u5b58\u6210\u6587\u4ef6\uff08\u5982\nhello_world\n\uff09\u6765\u8fd0\u884c\uff0c\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a\n\n\n#!/usr/bin/awk -f\n\n\n# \u6ce8\u610f\u4e0d\u540c\u53d1\u884c\u7248\u7684linux\uff0cawk\u8def\u5f84\u6709\u6240\u533a\u522b\n\n\n\nBEGIN\n \n{\n \nprint\n \n\"hello world\"\n \n}\n\n\n\n\n\n\u8fd0\u884c\u8fd9\u4e2a\u7a0b\u5e8f\uff1a\n\n\n$ chmod +x hello_world\n$ ./hello_world\n\n\n\n\n1. \u4e86\u89e3 awk \u57fa\u672c\u7528\u6cd5\n\u00b6\n\n\n$ awk \n'$1~/gene1/ { print $2 }'\n input_data\n\n\n\n\n\u4f5c\u7528\u4e0e cat + grep + sed \u7c7b\u4f3c\n\n\n$ cat input_data \n|\n grep gene1 \n|\n sed \n{\n$1\n}\n\n\n\n\n\n2. awk \u57fa\u672c\u8bed\u6cd5\n\u00b6\n\n\n2.1 Pattern\n\u00b6\n\n\n2.1.1 \u6b63\u5219\u8868\u8fbe\u5f0f\n\u00b6\n\n\npattern \u53ef\u4ee5\u91c7\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u5339\u914d\u5185\u5bb9\u3002\u7528\n/ regular expression /\n\u6765\u8868\u793a\u3002\n\n\n\u51e0\u4e2a\u7279\u6b8a\u7684Patterns\uff1a\n\n\n\n\nBEGIN:\n\n\nEND:\n\n\nBEGINFILE:\n\n\nENDFILE:\n\n\n\n\n2.1.2 \u8bed\u53e5\u8868\u8fbe\n\u00b6\n\n\n$ awk \n'$1 == \"gene\" { print $2 }'\n genes.list\n\n\n\n\n2.2 Action\n\u00b6\n\n\n2.2.1 if...else\n\u00b6\n\n\n# if block\n\n$ awk \n'{if(condition) print $1}'\n input\n\n\n# if else block\n\n$ awk \n'{if(condition)\n\n\n>     print $1\n\n\n> else\n\n\n>     print $2\n\n\n> }'\n input\n\n\n\n\n2.2.2 while\n\u00b6\n\n\nwhile \u63a7\u5236\u8bed\u53e5\u8981\u6362\u884c\uff0c\u75284\u4e2a\u7a7a\u683c\u5212\u5206\u63a7\u5236\u5757\u3002\n\n\n$ awk \n'{ i = 1\n\n\n>     while (i <= 3) {\n\n\n>         print $i\n\n\n>         i++\n\n\n>     }\n\n\n> }'\n input\n\n\n\n\n2.3. \u5185\u5efa\u53d8\u91cf\n\u00b6\n\n\n2.3.1 \u63a7\u5236 awk \u7684\u53d8\u91cf\n\u00b6\n\n\n\n\nBINMODE #\n\n\nCONVFMT\n\n\nFIELDWIDTHS #\n\n\nFPAT #\n\n\nFS\n\n\nIGNORECASE #\n\n\nLINT #\n\n\nOFMT\n\n\nOFS\n\n\nORS\n\n\nPREC #\n\n\nROUNDMODE #\n\n\nRS\n\n\nSUBSEP\n\n\nTEXTDOMAIN #\n\n\n\n\n2.3.2 \u4f20\u9012\u4fe1\u606f\u7684\u53d8\u91cf\n\u00b6\n\n\n\n\nARGC , ARGV\n\n\nARGIND #\n\n\nENVIRON\n\n\nERRNO #\n\n\nFILENAME\n\n\nFNR\n\n\nNF\n\n\nFUNCTAB #\n\n\nNR\n\n\nPROCINFO #\n\n\nRLENGTH\n\n\nRSTART\n\n\nRT #\n\n\nSYMTAB #\n\n\n\n\n2.4. \u5185\u5efa\u51fd\u6570\n\u00b6\n\n\n2.4.1 \u6570\u5b66\u51fd\u6570\n\u00b6\n\n\n\n\natan2(y, x)\n\n\ncos(x)\n\n\nexp(x)\n\n\nint(x)\n\n\nlog(x)\n\n\nrand()\n\n\nsin(x)\n\n\nsqrt(x)\n\n\nsrand([ x ])\n\n\n\n\n2.4.2 \u5b57\u7b26\u4e32\u51fd\u6570\n\u00b6\n\n\n\n\nasort(source [ , dest [ , how ] ] ) #\n\n\nasorti(source [ , dest [ , how ] ] ) #\n\n\ngensub(regexp, replacement, how [ , target ] ) #\n\n\ngsub(regexp, replacement [ , target ] )\n\n\nindex(in, find)\n\n\nlength( [ string ] )\n\n\nmatch(string, regexp [ , array ] )\n\n\npatsplit(string, array [ , fieldpat [ , seps ] ] ) #\n\n\nsplit(string, array [ , fieldsep [ , seps ] ] )\n\n\nsprintf(format, expression1, ...)\n\n\nstrtonum(str) #\n\n\nsub(regexp, replacement [ , target ] )\n\n\nsubstr(string, start [ , length ] )\n\n\ntolower(string)\n\n\ntoupper(string)\n\n\n\n\n2.4.3 \u8f93\u5165\u8f93\u51fa\u51fd\u6570\n\u00b6\n\n\n\n\nclose(filename [ , how ] )\n\n\nfflush( [ filename ] )\n\n\nsystem(command)\n\n\n\n\n2.4.4 \u65f6\u95f4\u51fd\u6570\n\u00b6\n\n\n\n\nmktime(datespec)\n\n\nstrftime( [ format [ , timestamp [ , utc-flag ] ] ] )\n\n\nsystime()\n\n\n\n\n2.4.5 Bit\u64cd\u4f5c\u51fd\u6570\n\u00b6\n\n\n\n\nand(v1, v2 [, ...])\n\n\ncompl(val)\n\n\nlshift(val, count)\n\n\nor(v1, v2 [, ...])\n\n\nrshift(val, count)\n\n\nxor(v1, v2 [, ...])\n\n\n\n\n2.4.6 \u5176\u4ed6\n\u00b6\n\n\n\n\nisarray(x)\n\n\nbindtextdomain(directory [ , domain ] )\n\n\ndcgettext(string [ , domain [ , category ] ] )\n\n\ndcngettext(string1, string2, number [ , domain [ , category ] ] )\n\n\n\n\n3. \u793a\u4f8b\n\u00b6\n\n\n\u793a\u4f8b\u90e8\u5206\u4ecb\u7ecd awk \u5728\u65e5\u5e38\u4e2d\uff0c\u7279\u522b\u662f\u5904\u7406 ngs \u6570\u636e\u65f6\u7684\u4e00\u4e9b\u4f8b\u5b50\u3002\n\n\n3.1 \u5bf9\u5217\u7684\u64cd\u4f5c\n\u00b6\n\n\n\u8c03\u6574\u5217\u987a\u5e8f\n\uff1a\u5728\u6709GUI\u7684\u64cd\u4f5c\u7cfb\u7edf\u91cc\uff0c\u4e00\u822c\u91c7\u7528\u7c7b\u4f3c excel, calc \u4e4b\u7c7b\u7684\u8f6f\u4ef6\u5bfc\u5165\u6570\u636e\u6587\u4ef6\uff0c\u7136\u540e\u526a\u5207\u5404\u5217\u8c03\u6574\u987a\u5e8f\u3002\u5982\u679c\u7528 awk \u6765\u89e3\u51b3\u4e5f\u5f88\u65b9\u4fbf\uff0c\u4f60\u53ea\u9700\u8981\u8003\u8651\u597d\u8c03\u6574\u7684\u5404\u5217\u987a\u5e8f\u5373\u53ef\uff0caction \u91cc\u7684{ print ...}\u987a\u5e8f\u5c31\u662f\u91cd\u65b0\u8c03\u6574\u540e\u7684\u5404\u5217\u987a\u5e8f\uff1a\n\n\n$ awk \n'{ print $3, $5, $7, $2, $1, $4, $6 }'\n infile.txt > outfile.txt\n\n\n\n\u63d2\u5165\u5217\n\uff1a\u6709\u65f6\u5019\u8981\u63d2\u5165\u4e00\u5217\u6570\u636e\uff0c\u7528awk\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u5b9e\u73b0\uff1a\n\n\n$ awk \n'{ print $1, $2 \"gene expression\", $3}'\n infile.txt > outfile.txt\n\n\n\n\n3.2 \u5bf9\u884c\u7684\u64cd\u4f5c\n\u00b6\n\n\n\u53bb\u9664\u91cd\u590d\u7684\u884c\n\uff1a\u6709\u65f6\u5019\u6570\u636e\u91cc\u542b\u6709\u91cd\u590d\u7684\u884c\uff0c\u800c\u5f53\u4f60\u53ea\u9700\u8981\u552f\u4e00\u6027\u6570\u636e\u65f6\uff0c\u5c31\u53ef\u4ee5\u7528\u8fd9\u884c\u7a0b\u5e8f\uff0c\u53ea\u4fdd\u7559\u5177\u6709\u552f\u4e00\u6027\u7684\u6570\u636e\u884c\u3002\n\n\n$ awk \n'!x[$0]++'\n infile.txt > outfile.txt\n\n\n\n\n3.3 \u683c\u5f0f\u5316\u8f93\u51fa\n\u00b6\n\n\n$ awk -F\n\":\"\n \n'BEGIN { printf \"%-8s %-3s\", \"User\", \"UID\" } \\\n\n\n> NR==1,NR==20 { printf \"%-8s %-3d\", $1, $3 }'\n /etc/passwd\n\n\n\n\n3.4 \u5408\u5e76\u6587\u4ef6\n\u00b6\n\n\n# \u641c\u7d22\u5f53\u524d\u76ee\u5f55\u4e0b\u6240\u6709\u5305\u542b\u5e8f\u5217ATCCGGA\u7684fasta\u6587\u4ef6\uff0c\u5e76\u8f93\u51fa\u6587\u4ef6\u540d\u548c\u884c\u53f7\u4ee5\u53ca\u5e8f\u5217\n\n$ find . -type f -name \n\"*.fasta\"\n -exec awk \n'/ATCCCGGA/ {print FILENAME, NR, $0}'\n \n{}\n \n\\+",
            "title": "04. \u6570\u636e\u5904\u7406\u5e38\u7528\u5de5\u5177\u4e4b awk"
        },
        {
            "location": "/chapter_01/04_awk/#awk-ngs",
            "text": "awk \u5de5\u5177\u5e38\u7528\u6765\u5bf9\u6587\u4ef6\u5185\u5bb9\u6309\u884c\u8fdb\u884c\u5339\u914d\u641c\u7d22\uff0c\u4e00\u65e6\u67d0\u4e00\u884c\u4e2d\u7684\u5185\u5bb9\u4e0e\u641c\u7d22\u6761\u4ef6\u5339\u914d\uff0c\u5219\u5bf9\u8be5\u5185\u5bb9\u505a\u8fdb\u4e00\u6b65\u64cd\u4f5c\u3002\u672c\u8d28\u4e0a\u8bb2\uff0cawk \u5c5e\u4e8e\u6570\u636e\u9a71\u52a8\u7684\u7a0b\u5e8f\uff0c\u56e0\u6b64 awk \u7a0b\u5e8f\u4e5f\u975e\u5e38\u5bb9\u6613\u7f16\u5199\u4e0e\u9605\u8bfb\u3002\u9ad8\u901a\u91cf\u6d4b\u5e8f\u6280\u672f\u5e26\u6765\u5927\u91cf\u7684\u6570\u636e\uff0c\u800c\u751f\u7269\u5b66\u5206\u6790\u5f80\u5f80\u76f4\u9700\u8981\u5176\u4e2d\u7279\u5b9a\u7684\u90e8\u5206\uff0c\u8fd9\u65f6 awk \u5c31\u53ef\u4ee5\u5927\u663e\u8eab\u624b\u4e3a\u6d4b\u5e8f\u6570\u636e\u7684\u8f6c\u6362\u4e0e\u5206\u6790\u63d0\u4f9b\u5e2e\u52a9\u3002\u6211\u4eec\u9996\u5148\u6765\u770b\u4e00\u4e2a\u6700\u7b80\u5355\u7684 awk \u547d\u4ee4\u7a0b\u5e8f\uff1a  # \u5c06contigs.fasta\u6587\u4ef6\u4e2d\u5e8f\u5217ID\u6253\u5370\u5230\u7ec8\u7aef  # contigs.fasta\u5185\u5982\uff1a  # >seq1  # ATGGGGTCCGATTACCG  # >seq2  # CGGNTTACCGYGACAGT \n\n$ awk  '/>/'  contigs.fasta # \u5c4f\u5e55\u4e0a\u4f1a\u8f93\u51fa\uff1a \n>seq1\n>seq2\n\n$ awk  '/^ATG/'  contigs.fasta\u5185\u5982 #\u5c4f\u5e55\u4e0a\u4f1a\u8f93\u51fa\uff1a \nATGGGGTCCGATTACCG  \u8fd9\u4e2a\u547d\u4ee4\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u5c06 fasta \u6587\u4ef6\u4e2d\u5305\u542b '>' \u5b57\u7b26\u7684\u884c\u8f93\u51fa\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f\u5c06\u6240\u6709\u7684\u5e8f\u5217\u5934\u5185\u5bb9\u8f93\u51fa\u3002\u4f5c\u7528\u7c7b\u4f3c grep \">\" \u3002  awk \u7a0b\u5e8f\u4e3b\u4f53\u4e3b\u8981\u5305\u62ec pattern\uff0caction\u548cinput file\uff1a   pattern \u8868\u793a\u6240\u8981\u641c\u7d22\u7684\u5185\u5bb9\uff0c\u53ef\u4ee5\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u3002  { action } \u5219\u8868\u793a\u641c\u7d22\u5339\u914d\u540e\u8981\u505a\u7684\u64cd\u4f5c\u3002  input file\uff1a\u6240\u8981\u641c\u7d22\u7684\u8f93\u5165\u5185\u5bb9\uff0c\u6bd4\u5982\u524d\u9762\u4f8b\u5b50\u7684 contigs.fasta   awk\u53ef\u4ee5\u5728shell\u91cc\u76f4\u63a5\u8fd0\u884c\uff1a  $ awk  'pattern { action }'  input_file  \u4e5f\u53ef\u4ee5\u5199\u6210awk\u7a0b\u5e8f\u6765\u8fd0\u884c\u3002\u4e00\u4e2a awk \u7a0b\u5e8f\u5f80\u5f80\u5982\u4e0b\u6240\u793a\uff1a  #!/usr/bin/awk -f  pattern   {   action   }   awk \u53ef\u4ee5\u4e0d\u9700\u8981\u8f93\u5165\u6587\u4ef6\uff1b\u5bf9\u4e8epattern\u548caction\u6765\u8bf4\uff0c2\u8005\u81f3\u5c11\u8981\u6709\u4e00\u4e2a\u624d\u80fd\u8fd0\u884c\u3002\u5982\u679c\u6ca1\u6709pattern\uff0c\u5219\u9ed8\u8ba4\u5339\u914d\u4efb\u4f55\u8f93\u5165\uff0c\u6309\u884c\u8f93\u51fa\u5e76\u6267\u884caction\u3002\u5982\u679c\u6ca1\u6709action\uff0c\u5219\u5339\u914dpattern\u5e76\u6309\u884c\u8f93\u51fa\u4e0d\u505a\u989d\u5916\u64cd\u4f5c\u3002  # \u5c1d\u8bd5\u4ee5\u4e0b\u8bed\u53e5\uff0c\u5728\u7ec8\u7aef\u6253\u5370`hello world`\u3002\u8fd9\u91ccBEGIN\u662fpattern\uff0c{ print \"hello world\" } \u662faction \n$ awk  'BEGIN { print \"hello world\" }'  # \u6a21\u62dfcat\u8f93\u51fa\u7ec8\u7aef\u8f93\u5165\u7684\u5b57\u7b26\u3002\u8fd9\u91cc\u7701\u7565\u4e86pattern \n$ awk  '{ print }'   \u4e0a\u9762\u8fd9\u4e2a\u4f8b\u5b50\u53ef\u4ee5\u4fdd\u5b58\u6210\u6587\u4ef6\uff08\u5982 hello_world \uff09\u6765\u8fd0\u884c\uff0c\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a  #!/usr/bin/awk -f  # \u6ce8\u610f\u4e0d\u540c\u53d1\u884c\u7248\u7684linux\uff0cawk\u8def\u5f84\u6709\u6240\u533a\u522b  BEGIN   {   print   \"hello world\"   }   \u8fd0\u884c\u8fd9\u4e2a\u7a0b\u5e8f\uff1a  $ chmod +x hello_world\n$ ./hello_world",
            "title": "\u7528 awk \u5904\u7406 NGS \u6570\u636e"
        },
        {
            "location": "/chapter_01/04_awk/#1-awk",
            "text": "$ awk  '$1~/gene1/ { print $2 }'  input_data  \u4f5c\u7528\u4e0e cat + grep + sed \u7c7b\u4f3c  $ cat input_data  |  grep gene1  |  sed  { $1 }",
            "title": "1. \u4e86\u89e3 awk \u57fa\u672c\u7528\u6cd5"
        },
        {
            "location": "/chapter_01/04_awk/#2-awk",
            "text": "",
            "title": "2. awk \u57fa\u672c\u8bed\u6cd5"
        },
        {
            "location": "/chapter_01/04_awk/#21-pattern",
            "text": "",
            "title": "2.1 Pattern"
        },
        {
            "location": "/chapter_01/04_awk/#211",
            "text": "pattern \u53ef\u4ee5\u91c7\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u6765\u5339\u914d\u5185\u5bb9\u3002\u7528 / regular expression / \u6765\u8868\u793a\u3002  \u51e0\u4e2a\u7279\u6b8a\u7684Patterns\uff1a   BEGIN:  END:  BEGINFILE:  ENDFILE:",
            "title": "2.1.1 \u6b63\u5219\u8868\u8fbe\u5f0f"
        },
        {
            "location": "/chapter_01/04_awk/#212",
            "text": "$ awk  '$1 == \"gene\" { print $2 }'  genes.list",
            "title": "2.1.2 \u8bed\u53e5\u8868\u8fbe"
        },
        {
            "location": "/chapter_01/04_awk/#22-action",
            "text": "",
            "title": "2.2 Action"
        },
        {
            "location": "/chapter_01/04_awk/#221-ifelse",
            "text": "# if block \n$ awk  '{if(condition) print $1}'  input # if else block \n$ awk  '{if(condition)  >     print $1  > else  >     print $2  > }'  input",
            "title": "2.2.1 if...else"
        },
        {
            "location": "/chapter_01/04_awk/#222-while",
            "text": "while \u63a7\u5236\u8bed\u53e5\u8981\u6362\u884c\uff0c\u75284\u4e2a\u7a7a\u683c\u5212\u5206\u63a7\u5236\u5757\u3002  $ awk  '{ i = 1  >     while (i <= 3) {  >         print $i  >         i++  >     }  > }'  input",
            "title": "2.2.2 while"
        },
        {
            "location": "/chapter_01/04_awk/#23",
            "text": "",
            "title": "2.3. \u5185\u5efa\u53d8\u91cf"
        },
        {
            "location": "/chapter_01/04_awk/#231-awk",
            "text": "BINMODE #  CONVFMT  FIELDWIDTHS #  FPAT #  FS  IGNORECASE #  LINT #  OFMT  OFS  ORS  PREC #  ROUNDMODE #  RS  SUBSEP  TEXTDOMAIN #",
            "title": "2.3.1 \u63a7\u5236 awk \u7684\u53d8\u91cf"
        },
        {
            "location": "/chapter_01/04_awk/#232",
            "text": "ARGC , ARGV  ARGIND #  ENVIRON  ERRNO #  FILENAME  FNR  NF  FUNCTAB #  NR  PROCINFO #  RLENGTH  RSTART  RT #  SYMTAB #",
            "title": "2.3.2 \u4f20\u9012\u4fe1\u606f\u7684\u53d8\u91cf"
        },
        {
            "location": "/chapter_01/04_awk/#24",
            "text": "",
            "title": "2.4. \u5185\u5efa\u51fd\u6570"
        },
        {
            "location": "/chapter_01/04_awk/#241",
            "text": "atan2(y, x)  cos(x)  exp(x)  int(x)  log(x)  rand()  sin(x)  sqrt(x)  srand([ x ])",
            "title": "2.4.1 \u6570\u5b66\u51fd\u6570"
        },
        {
            "location": "/chapter_01/04_awk/#242",
            "text": "asort(source [ , dest [ , how ] ] ) #  asorti(source [ , dest [ , how ] ] ) #  gensub(regexp, replacement, how [ , target ] ) #  gsub(regexp, replacement [ , target ] )  index(in, find)  length( [ string ] )  match(string, regexp [ , array ] )  patsplit(string, array [ , fieldpat [ , seps ] ] ) #  split(string, array [ , fieldsep [ , seps ] ] )  sprintf(format, expression1, ...)  strtonum(str) #  sub(regexp, replacement [ , target ] )  substr(string, start [ , length ] )  tolower(string)  toupper(string)",
            "title": "2.4.2 \u5b57\u7b26\u4e32\u51fd\u6570"
        },
        {
            "location": "/chapter_01/04_awk/#243",
            "text": "close(filename [ , how ] )  fflush( [ filename ] )  system(command)",
            "title": "2.4.3 \u8f93\u5165\u8f93\u51fa\u51fd\u6570"
        },
        {
            "location": "/chapter_01/04_awk/#244",
            "text": "mktime(datespec)  strftime( [ format [ , timestamp [ , utc-flag ] ] ] )  systime()",
            "title": "2.4.4 \u65f6\u95f4\u51fd\u6570"
        },
        {
            "location": "/chapter_01/04_awk/#245-bit",
            "text": "and(v1, v2 [, ...])  compl(val)  lshift(val, count)  or(v1, v2 [, ...])  rshift(val, count)  xor(v1, v2 [, ...])",
            "title": "2.4.5 Bit\u64cd\u4f5c\u51fd\u6570"
        },
        {
            "location": "/chapter_01/04_awk/#246",
            "text": "isarray(x)  bindtextdomain(directory [ , domain ] )  dcgettext(string [ , domain [ , category ] ] )  dcngettext(string1, string2, number [ , domain [ , category ] ] )",
            "title": "2.4.6 \u5176\u4ed6"
        },
        {
            "location": "/chapter_01/04_awk/#3",
            "text": "\u793a\u4f8b\u90e8\u5206\u4ecb\u7ecd awk \u5728\u65e5\u5e38\u4e2d\uff0c\u7279\u522b\u662f\u5904\u7406 ngs \u6570\u636e\u65f6\u7684\u4e00\u4e9b\u4f8b\u5b50\u3002",
            "title": "3. \u793a\u4f8b"
        },
        {
            "location": "/chapter_01/04_awk/#31",
            "text": "\u8c03\u6574\u5217\u987a\u5e8f \uff1a\u5728\u6709GUI\u7684\u64cd\u4f5c\u7cfb\u7edf\u91cc\uff0c\u4e00\u822c\u91c7\u7528\u7c7b\u4f3c excel, calc \u4e4b\u7c7b\u7684\u8f6f\u4ef6\u5bfc\u5165\u6570\u636e\u6587\u4ef6\uff0c\u7136\u540e\u526a\u5207\u5404\u5217\u8c03\u6574\u987a\u5e8f\u3002\u5982\u679c\u7528 awk \u6765\u89e3\u51b3\u4e5f\u5f88\u65b9\u4fbf\uff0c\u4f60\u53ea\u9700\u8981\u8003\u8651\u597d\u8c03\u6574\u7684\u5404\u5217\u987a\u5e8f\u5373\u53ef\uff0caction \u91cc\u7684{ print ...}\u987a\u5e8f\u5c31\u662f\u91cd\u65b0\u8c03\u6574\u540e\u7684\u5404\u5217\u987a\u5e8f\uff1a  $ awk  '{ print $3, $5, $7, $2, $1, $4, $6 }'  infile.txt > outfile.txt  \u63d2\u5165\u5217 \uff1a\u6709\u65f6\u5019\u8981\u63d2\u5165\u4e00\u5217\u6570\u636e\uff0c\u7528awk\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u5b9e\u73b0\uff1a  $ awk  '{ print $1, $2 \"gene expression\", $3}'  infile.txt > outfile.txt",
            "title": "3.1 \u5bf9\u5217\u7684\u64cd\u4f5c"
        },
        {
            "location": "/chapter_01/04_awk/#32",
            "text": "\u53bb\u9664\u91cd\u590d\u7684\u884c \uff1a\u6709\u65f6\u5019\u6570\u636e\u91cc\u542b\u6709\u91cd\u590d\u7684\u884c\uff0c\u800c\u5f53\u4f60\u53ea\u9700\u8981\u552f\u4e00\u6027\u6570\u636e\u65f6\uff0c\u5c31\u53ef\u4ee5\u7528\u8fd9\u884c\u7a0b\u5e8f\uff0c\u53ea\u4fdd\u7559\u5177\u6709\u552f\u4e00\u6027\u7684\u6570\u636e\u884c\u3002  $ awk  '!x[$0]++'  infile.txt > outfile.txt",
            "title": "3.2 \u5bf9\u884c\u7684\u64cd\u4f5c"
        },
        {
            "location": "/chapter_01/04_awk/#33",
            "text": "$ awk -F \":\"   'BEGIN { printf \"%-8s %-3s\", \"User\", \"UID\" } \\  > NR==1,NR==20 { printf \"%-8s %-3d\", $1, $3 }'  /etc/passwd",
            "title": "3.3 \u683c\u5f0f\u5316\u8f93\u51fa"
        },
        {
            "location": "/chapter_01/04_awk/#34",
            "text": "# \u641c\u7d22\u5f53\u524d\u76ee\u5f55\u4e0b\u6240\u6709\u5305\u542b\u5e8f\u5217ATCCGGA\u7684fasta\u6587\u4ef6\uff0c\u5e76\u8f93\u51fa\u6587\u4ef6\u540d\u548c\u884c\u53f7\u4ee5\u53ca\u5e8f\u5217 \n$ find . -type f -name  \"*.fasta\"  -exec awk  '/ATCCCGGA/ {print FILENAME, NR, $0}'   {}   \\+",
            "title": "3.4 \u5408\u5e76\u6587\u4ef6"
        },
        {
            "location": "/chapter_01/05_bioawk/",
            "text": "Bioawk\n\u00b6\n\n\nBioawk\n \u662f Heng Li \u5f00\u53d1\u7684 awk \u6269\u5c55\u5de5\u5177\uff0c\u589e\u52a0\u4e86\u5bf9\u538b\u7f29\u7684 BED, GFF, SAM, VCF, FASTA/Q \u7b49\u6587\u4ef6\u683c\u5f0f\u7684\u652f\u6301\uff0c\u5e76\u5185\u5efa\u4e00\u4e9b\u51fd\u6570\uff0c\u9002\u7528\u4e8eNGS\u6570\u636e\u7684\u5feb\u901f\u8f93\u5165\u8f93\u51fa\u3002\n\n\n\n\ngc($seq) Returns the GC percentage of a sequence.\n\n\nmeanqual($seq) Returns the average quality of the fastq sequence.\n\n\nreverse($seq) Returns the reverse of the sequence.\n\n\nrevcomp($seq) Returns the reverse complement of the sequence.\n\n\nqualcount($qual, threshold) Returns the number of quality values above the threshold parameter.\n\n\ntrimq(qual, beg, end, param) Trims the quality string qual in the Sanger scale using Richard Mott's algorithm (used in Phred). The 0-based beginning and ending positions are written back to beg and end, respectively. The last argument param is the single parameter used in the algorithm, which is optional and defaults 0.05.\n\n\nand(x, y) bit AND operation (& in C)\n\n\nor(x, y) bit OR operation (| in C)\n\n\nxor(x, y) bit XOR operation (^ in C)\n\n\n\n\n1. \u5b89\u88c5\n\u00b6\n\n\n$ sudo apt-get install bison\n$ git clone https://github.com/lh3/bioawk\n$ \ncd\n bioawk \n&&\n make\n$ sudo cp bioawk /usr/local/sbin\n\n\n\n\n2. \u4f7f\u7528\n\u00b6\n\n\n\u6784\u5efa\u6d4b\u5e8f\u6570\u636e\u5206\u6790\u7684 workflow \u65f6\uff0c\u5f53 fastq \u6570\u636e\u5728\u505a\u5b8c trimming \u540e\uff0c\u6211\u4eec\u5f80\u5f80\u8981\u5173\u6ce8\u5269\u4e0b\u591a\u5c11 reads\uff0c\u53ef\u4ee5\u7528 Bioawk \u8fdb\u884c\u5feb\u901f\u7edf\u8ba1\u3002\n\n\n# \u5feb\u901f\u7edf\u8ba1fastq\u91cc\u7684reads\u6570\u91cf\n\n$ bioawk -c fastx \n'END { print NR }'\n my_fastq.tar.gz\n\n\n\n\n\u5728\u4e00\u4e9b\u7279\u6b8a\u573a\u5408\u91cc\uff0c\u9700\u8981\u5206\u6790 reads \u7cfb\u5217\uff0c\u7528 Bioawk \u53ef\u4ee5\u5f88\u65b9\u4fbf\u5feb\u901f\u6765\u5b8c\u6210\u3002\u6bd4\u5982\u7edf\u8ba1\u7279\u6b8a\u78b1\u57fa\u5f00\u5934\u7684 reads \u6570\u3002\n\n\n# \u7edf\u8ba1\u4ee5GATTAC\u5f00\u5934\u7684reads\u7684\u6570\u91cf\n\n$ bioawk -c fastx \n'$seq~/^GATTAC/ {++n} END { print n }'\n my_fastq.tar.gz\n\n\n\n\n\u5982\u679c\u60f3\u770bGC\u542b\u91cf\u5927\u4e8e60%\u7684reads\u7684\u8d28\u91cf\u60c5\u51b5\uff0c\u53ef\u4ee5\u7528\u4e0b\u9762\u65b9\u6cd5\uff1a\n\n\n$ bioawk -c fastx \n'{if (gc($seq)>0.6) printf \"%s\\n%s\\n\\n\", $seq, $qual}'\n my_fastq.tar.gz\n\n\n\n\n\u751f\u6210reads\u7684\u5e73\u5747Q\u503c\n\n\n$  bioawk -c fastx \n'{print $name, meanqual($seq)}'\n my_fastq.tar.gz > meanqual.txt",
            "title": "05. \u6d4b\u5e8f\u6570\u636e\u5de5\u5177 bioawk"
        },
        {
            "location": "/chapter_01/05_bioawk/#bioawk",
            "text": "Bioawk  \u662f Heng Li \u5f00\u53d1\u7684 awk \u6269\u5c55\u5de5\u5177\uff0c\u589e\u52a0\u4e86\u5bf9\u538b\u7f29\u7684 BED, GFF, SAM, VCF, FASTA/Q \u7b49\u6587\u4ef6\u683c\u5f0f\u7684\u652f\u6301\uff0c\u5e76\u5185\u5efa\u4e00\u4e9b\u51fd\u6570\uff0c\u9002\u7528\u4e8eNGS\u6570\u636e\u7684\u5feb\u901f\u8f93\u5165\u8f93\u51fa\u3002   gc($seq) Returns the GC percentage of a sequence.  meanqual($seq) Returns the average quality of the fastq sequence.  reverse($seq) Returns the reverse of the sequence.  revcomp($seq) Returns the reverse complement of the sequence.  qualcount($qual, threshold) Returns the number of quality values above the threshold parameter.  trimq(qual, beg, end, param) Trims the quality string qual in the Sanger scale using Richard Mott's algorithm (used in Phred). The 0-based beginning and ending positions are written back to beg and end, respectively. The last argument param is the single parameter used in the algorithm, which is optional and defaults 0.05.  and(x, y) bit AND operation (& in C)  or(x, y) bit OR operation (| in C)  xor(x, y) bit XOR operation (^ in C)",
            "title": "Bioawk"
        },
        {
            "location": "/chapter_01/05_bioawk/#1",
            "text": "$ sudo apt-get install bison\n$ git clone https://github.com/lh3/bioawk\n$  cd  bioawk  &&  make\n$ sudo cp bioawk /usr/local/sbin",
            "title": "1. \u5b89\u88c5"
        },
        {
            "location": "/chapter_01/05_bioawk/#2",
            "text": "\u6784\u5efa\u6d4b\u5e8f\u6570\u636e\u5206\u6790\u7684 workflow \u65f6\uff0c\u5f53 fastq \u6570\u636e\u5728\u505a\u5b8c trimming \u540e\uff0c\u6211\u4eec\u5f80\u5f80\u8981\u5173\u6ce8\u5269\u4e0b\u591a\u5c11 reads\uff0c\u53ef\u4ee5\u7528 Bioawk \u8fdb\u884c\u5feb\u901f\u7edf\u8ba1\u3002  # \u5feb\u901f\u7edf\u8ba1fastq\u91cc\u7684reads\u6570\u91cf \n$ bioawk -c fastx  'END { print NR }'  my_fastq.tar.gz  \u5728\u4e00\u4e9b\u7279\u6b8a\u573a\u5408\u91cc\uff0c\u9700\u8981\u5206\u6790 reads \u7cfb\u5217\uff0c\u7528 Bioawk \u53ef\u4ee5\u5f88\u65b9\u4fbf\u5feb\u901f\u6765\u5b8c\u6210\u3002\u6bd4\u5982\u7edf\u8ba1\u7279\u6b8a\u78b1\u57fa\u5f00\u5934\u7684 reads \u6570\u3002  # \u7edf\u8ba1\u4ee5GATTAC\u5f00\u5934\u7684reads\u7684\u6570\u91cf \n$ bioawk -c fastx  '$seq~/^GATTAC/ {++n} END { print n }'  my_fastq.tar.gz  \u5982\u679c\u60f3\u770bGC\u542b\u91cf\u5927\u4e8e60%\u7684reads\u7684\u8d28\u91cf\u60c5\u51b5\uff0c\u53ef\u4ee5\u7528\u4e0b\u9762\u65b9\u6cd5\uff1a  $ bioawk -c fastx  '{if (gc($seq)>0.6) printf \"%s\\n%s\\n\\n\", $seq, $qual}'  my_fastq.tar.gz  \u751f\u6210reads\u7684\u5e73\u5747Q\u503c  $  bioawk -c fastx  '{print $name, meanqual($seq)}'  my_fastq.tar.gz > meanqual.txt",
            "title": "2. \u4f7f\u7528"
        },
        {
            "location": "/chapter_01/06_python/",
            "text": "",
            "title": "06. \u4e86\u89e3 Python \u751f\u6d3b\u8f7b\u677e\u4e00\u70b9"
        },
        {
            "location": "/chapter_01/07_shell/",
            "text": "Shell\n\u00b6\n\n\n\u5b57\u7b26\u4e32\u53d8\u91cf\u5904\u7406\n\u00b6\n\n\n\u5b57\u7b26\u4e32\u53d8\u91cf\u5185\u7f6e\u7b26\u64cd\u4f5c\u6bd4\u7528\u5916\u90e8\u547d\u4ee4\u5982 expr, awk, sed \u7b49\u8981\u5feb\uff0c\u6240\u4ee5\u80fd\u5185\u7f6e\u7b26\u53f7\u64cd\u4f5c\u7684\u9700\u6c42\uff0c\u5c3d\u53ef\u80fd\u7528\u5b83\u6765\u5b8c\u6210\u3002\n\n\n# \u5b57\u7b26\u4e32\u8d4b\u503c\n\n$ \na\n=\n\"R1.fastq.gz\"\n\n$ \necho\n \n$a\n\nR1.fastq.gz\n\n\n\n\n# \u7ed9\u53d8\u91cf\u8d4b\u4e88\u9ed8\u8ba4\u503c\n\n$ \necho\n \n${\nb\n=100\n}\n\n\n100\n\n$ \nb\n=\n20\n\n$ \necho\n \n${\nb\n=100\n}\n\n\n20\n\n\n$ \nx\n=\n1\n\n$ \necho\n \n${\ny\n-\n$x\n}\n\n\n1\n\n$ \necho\n \n$y\n\n\n\n\n\n# \u8fd4\u56de\u5b57\u7b26\u4e32\u957f\u5ea6\n\n$ \necho\n \n${#\na\n}\n\n\n11\n\n\n\n# \u5b57\u7b26\u4e32\u63d0\u53d6\n\n$ \necho\n \n${\na\n:\n3\n}\n    \n# \u4ece\u7b2c\u4e09\u4e2a\u5b57\u7b26\u4e32\u540e\u63d0\u53d6\n\nfastq.gz\n$ \necho\n \n${\na\n:\n0\n:\n2\n}\n  \n# \u4ece\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e32\u63d0\u53d62\u4e2a\u957f\u5ea6\u5b57\u7b26\n\nR1\n$ \necho\n \n${\na\n#R1.\n}\n  \n# \u4ece\u5b57\u7b26\u4e32\u5f00\u5934\u5220\u9664R1.\n\nfastq.gz\n$ \necho\n \n${\na\n%.fastq.gz\n}\n  \n# \u4ece\u5b57\u7b26\u4e32\u7ed3\u5c3e\u5220\u9664\u5339\u914d.fastq.gz\u7684\u5b57\u7b26\u4e32\n\n\n\n# \u5b57\u7b26\u4e32\u66ff\u6362\n\n$ \necho\n \n${\na\n/R1/1_1\n}\n \n# \u5b57\u7b26\u4e32R1\u66ff\u6362\u62101_1, \u4ece\u5934\u5f00\u59cb\u66ff\u6362\u7b2c\u4e00\u4e2a\n\n1_1.fastq.gz\n$ \necho\n \n${\na\n//R1/1_1\n}\n \n# \u5b57\u7b26\u4e32R1\u66ff\u6362\u62101_1, \u66ff\u6362\u6240\u6709\n\n$\n\n\n\n\n$ \na1\n=\n100\n\n$ \na2\n=\n10\n\n$ \necho\n \n${\n!a*\n}\n \n# \u663e\u793a\u4ee5a\u5f00\u5934\u58f0\u660e\u7684\u53d8\u91cf\n\na1 a2\n\n\n# \u9012\u5f52\u5faa\u73af\u53d8\u91cf\n\n$ \nfor\n i in \n`\necho\n \n${\n!a*\n}\n`\n;\n \ndo\n \necho\n \n$i\n;\n \ndone\n\na1\na2\n\n\n\n\n# \u5b57\u7b26\u4e32\u6bd4\u8f83\n\n$ \ns\n=\nATCCGAC\n$ \nif\n \n[\n \n$s\n \n==\n \n'ATCCGAC'\n \n]\n;\n \nthen\n \necho\n \n\"yes!\"\n;\n \nfi\n\nyes!\n\n$ \ns1\n=\nTTCCGAC\n$ \nif\n \n[\n \n$t\n \n==\n \n'ATCCGAC'\n \n]\n;\n \nthen\n \necho\n \n\"yes!\"\n;\n \nelse\n \necho\n \n\"no!\"\n;\n \nfi\n\nno!\n\n\n\n\n\u00b6",
            "title": "07. \u751f\u4fe1\u5206\u6790\u8981\u5b66\u4e00\u70b9 shell"
        },
        {
            "location": "/chapter_01/07_shell/#shell",
            "text": "",
            "title": "Shell"
        },
        {
            "location": "/chapter_01/07_shell/#_1",
            "text": "\u5b57\u7b26\u4e32\u53d8\u91cf\u5185\u7f6e\u7b26\u64cd\u4f5c\u6bd4\u7528\u5916\u90e8\u547d\u4ee4\u5982 expr, awk, sed \u7b49\u8981\u5feb\uff0c\u6240\u4ee5\u80fd\u5185\u7f6e\u7b26\u53f7\u64cd\u4f5c\u7684\u9700\u6c42\uff0c\u5c3d\u53ef\u80fd\u7528\u5b83\u6765\u5b8c\u6210\u3002  # \u5b57\u7b26\u4e32\u8d4b\u503c \n$  a = \"R1.fastq.gz\" \n$  echo   $a \nR1.fastq.gz  # \u7ed9\u53d8\u91cf\u8d4b\u4e88\u9ed8\u8ba4\u503c \n$  echo   ${ b =100 }  100 \n$  b = 20 \n$  echo   ${ b =100 }  20 \n\n$  x = 1 \n$  echo   ${ y - $x }  1 \n$  echo   $y   # \u8fd4\u56de\u5b57\u7b26\u4e32\u957f\u5ea6 \n$  echo   ${# a }  11  # \u5b57\u7b26\u4e32\u63d0\u53d6 \n$  echo   ${ a : 3 }      # \u4ece\u7b2c\u4e09\u4e2a\u5b57\u7b26\u4e32\u540e\u63d0\u53d6 \nfastq.gz\n$  echo   ${ a : 0 : 2 }    # \u4ece\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e32\u63d0\u53d62\u4e2a\u957f\u5ea6\u5b57\u7b26 \nR1\n$  echo   ${ a #R1. }    # \u4ece\u5b57\u7b26\u4e32\u5f00\u5934\u5220\u9664R1. \nfastq.gz\n$  echo   ${ a %.fastq.gz }    # \u4ece\u5b57\u7b26\u4e32\u7ed3\u5c3e\u5220\u9664\u5339\u914d.fastq.gz\u7684\u5b57\u7b26\u4e32  # \u5b57\u7b26\u4e32\u66ff\u6362 \n$  echo   ${ a /R1/1_1 }   # \u5b57\u7b26\u4e32R1\u66ff\u6362\u62101_1, \u4ece\u5934\u5f00\u59cb\u66ff\u6362\u7b2c\u4e00\u4e2a \n1_1.fastq.gz\n$  echo   ${ a //R1/1_1 }   # \u5b57\u7b26\u4e32R1\u66ff\u6362\u62101_1, \u66ff\u6362\u6240\u6709 \n$  $  a1 = 100 \n$  a2 = 10 \n$  echo   ${ !a* }   # \u663e\u793a\u4ee5a\u5f00\u5934\u58f0\u660e\u7684\u53d8\u91cf \na1 a2 # \u9012\u5f52\u5faa\u73af\u53d8\u91cf \n$  for  i in  ` echo   ${ !a* } ` ;   do   echo   $i ;   done \na1\na2  # \u5b57\u7b26\u4e32\u6bd4\u8f83 \n$  s = ATCCGAC\n$  if   [   $s   ==   'ATCCGAC'   ] ;   then   echo   \"yes!\" ;   fi \nyes!\n\n$  s1 = TTCCGAC\n$  if   [   $t   ==   'ATCCGAC'   ] ;   then   echo   \"yes!\" ;   else   echo   \"no!\" ;   fi \nno!",
            "title": "\u5b57\u7b26\u4e32\u53d8\u91cf\u5904\u7406"
        },
        {
            "location": "/chapter_02/01_emboss/",
            "text": "",
            "title": "01. EMBOSS \u5de5\u5177\u96c6"
        },
        {
            "location": "/chapter_02/02_blast/",
            "text": "Local Blast \u4f7f\u7528\u8bf4\u660e\n\u00b6\n\n\n\n\nBlast \u5de5\u5177\u53ef\u4ee5\u8fdb\u884c\u5e8f\u5217\u76f8\u4f3c\u6027\u6bd4\u5bf9\uff0c\u5728 NGS \u6570\u636e\u5206\u6790\u4e2d\u7ecf\u5e38\u4f1a\u88ab\u4f7f\u7528\u5230\uff0c\u7279\u522b\u662f\u4e00\u4e9b\u5de5\u5177\u4e2d\u9700\u8981 Blast \u6216 Blast+ \u7a0b\u5e8f\u6765\u4f5c\u4e3a\u7b2c\u4e09\u65b9\u6bd4\u5bf9\u5de5\u5177\u8c03\u7528\u3002\u62ff\u5230\u6d4b\u5e8f\u5b8c\u6210\u7684\u8349\u56fe\u540e\uff0c\u56e0\u4e3a\u57fa\u56e0\u7ec4\u6570\u636e\u8f83\u5927\uff0c\u8fde\u63a5NCBI\u7f51\u7ad9\u5f80\u5f80\u53c8\u975e\u5e38\u7f13\u6162\uff0c\u6240\u4ee5\u8981\u505a Blast \u6bd4\u5bf9\u7684\u8bdd\u90fd\u9700\u8981\u505a Local Blast\u3002\u8fd9\u91cc\u4ecb\u7ecd2\u4e2a\u65b9\u5f0f\u6765\u5b9e\u73b0\uff1a\n\n\n\n\n\n\n\u7528\u547d\u4ee4\u884c\u8fdb\u884c\u672c\u5730 Blast\n\n\n\u5feb\u901f\u6784\u5efa Blast Web \u670d\u52a1\n\n\n\n\n\n\n1. \u57fa\u4e8e\u547d\u4ee4\u884c\u7684 Local Blast\n\u00b6\n\n\nblast\n \u548c \nblast+\n \u8fd92\u4e2a\u7a0b\u5e8f\u96c6\u5bb9\u6613\u641e\u6df7\u3002NCBI \u6700\u65e9\u57281989\u5e74\u521b\u5efa\nBasic Local Alignment Search Tool\n\u5de5\u5177\uff0c\u6cbf\u7528\u81f32009\u5e74\u65e0\u8bba\u662f\u547d\u4ee4\u884c\u5de5\u5177\u6216\u662f\u5728\u7ebf\u7a0b\u5e8f\uff0c\u90fd\u79f0\u547c\u5176\u4e3a\nblast\n\u30022009\u5e74 NCBI \u9274\u4e8e \nblast\n \u7684\u4e00\u4e9b\u4e0d\u8db3\uff0c\u91cd\u65b0\u5f00\u53d1\u4e86\u65b0\u7684\nblast+\n\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u65b0\u7684 blast+ \u5de5\u5177\u5728\u901f\u5ea6\u4e0a\u6709\u4e86\u63d0\u5347\uff0c\u5728\u8f93\u5165\u8f93\u51fa\u4e0a\u4e5f\u66f4\u4e3a\u7075\u6d3b\u3002\n\n\n\u76ee\u524d Blast \u5de5\u5177\u6700\u65b0\u7248\u662f2012\u5e74\u53d1\u5e03\u7684**2.2.26**\uff08\u53ef\u80fd\u5df2\u7ecf\u5904\u4e8e\u6682\u505c\u5347\u7ea7\u7684\u72b6\u6001\uff1f\uff09\uff0c\u800c Blast+ \u76ee\u524d\u4e00\u76f4\u5728\u66f4\u65b0\u3002\u8981\u533a\u52062\u8005\u4e5f\u5f88\u7b80\u5355\uff0cblast \u662f\u901a\u8fc7 blastall -p \u7684\u65b9\u5f0f\u8c03\u7528\u5b50\u7a0b\u5e8f\u6765\u6bd4\u5bf9\u641c\u7d22\u7684\uff0c\u800c blast+ \u5219\u662f\u76f4\u63a5\u4f7f\u7528 blastn \u6216 blastp \u7b49\u5b50\u7a0b\u5e8f\u6765\u6bd4\u5bf9\u641c\u7d22\u3002\u53e6\u5916\u524d\u8005\u7528 formatdb \u7a0b\u5e8f\u6765\u683c\u5f0f\u5316\u6570\u636e\u5e93\uff0c\u540e\u8005\u7528 makeblastdb \u7a0b\u5e8f\u6765\u683c\u5f0f\u5316\u6570\u636e\u3002\n\n\n1.1 Blast\n\u00b6\n\n\nBlast\u7684\u4e0b\u8f7d\u4e0e\u5b89\u88c5\n\n\n# \u5b89\u88c5 Ubuntu \u7f16\u8bd1\u5305\u3002\n\n$ sudo apt-get install blast2\n\n\n# \u6216\u8005\u76f4\u63a5\u4e0b\u8f7dNCBI Linux\u9884\u7f16\u8bd1\u5305\uff0c\u5e76\u89e3\u538b\u7f29\u5b89\u88c5\n\n$ wget ftp://ftp.ncbi.nih.gov/blast/executables/release/2.2.26/blast-2.2.26-x64-linux.tar.gz\n$ tar -zxvf blast-2.2.26-x64 -C ~/app\n$ sudo ln -s ~/app/blast-2.2.26-x64/blastall /usr/local/sbin\n\n\n\n\n\u8fd0\u884c Blast\n\n\nBlast \u901a\u8fc7\u8c03\u7528 blastall \u8fd9\u4e2a gateway \u7a0b\u5e8f\uff0c\u6765\u5206\u522b\u8c03\u7528\u4e0d\u540c\u7b97\u6cd5\u548c\u7a0b\u5e8f\u5b9e\u73b0\u5e8f\u5217\u6bd4\u5bf9\u3002\u5728\u547d\u4ee4\u884c\u4e2d\u8f93\u5165\nblastall\n\uff0c\u4f1a\u6253\u5370\u51fa\u4e00\u4efd\u53c2\u6570\u5217\u8868\u3002\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528 \nman blast\n \u6765\u67e5\u770b Blast \u5de5\u5177\u7684\u7528\u6237\u624b\u518c\u3002\n\n\n$ blastall\n\n\n\n\n\u53c2\u6570\u8bf4\u660e\uff1a\n\n\n-p: \u6307\u5b9a\u8981\u8fd0\u884c\u7684 blast \u7a0b\u5e8f\u3002\u53ef\u4ee5\u8c03\u7528\u7684\u6709:\n    \n`\nblastp\n`\n             \u5c06\u6c28\u57fa\u9178\u5e8f\u5217\u4e0e\u86cb\u767d\u8d28\u6570\u636e\u5e93\u6bd4\u5bf9\n    \n`\nblastn\n`\n             \u5c06\u6838\u9178\u5e8f\u5217\u4e0e\u6838\u9178\u6570\u636e\u5e93\u6bd4\u5bf9\n    \n`\nblastx\n`\n             \u5c06\u6838\u9178\u5e8f\u5217\u7ffb\u8bd1\u6210\u86cb\u767d\u5e8f\u5217\u540e\u4e0e\u975e\u5197\u4f59\n(\nnr\n)\n\u86cb\u767d\u8d28\u6570\u636e\u5e93\u6bd4\u5bf9\n    \n`\npsitblastn\n`\n\n    \n`\ntblastn\n`\n\n    \n`\ntblastx\n`\n\n-d: \u6307\u5b9a\u8981\u8c03\u7528\u6570\u636e\u5e93\uff0c\u9ed8\u8ba4\u503c\u662f\u975e\u5197\u4f59\n(\nnr\n)\n\u6570\u636e\u5e93\u3002\u672c\u5730 Blast \u6bd4\u5bf9\u4e00\u822c\u6765\u8bf4\u90fd\u662f\u8c03\u7528 formatdb \u683c\u5f0f\u5316\u7684\u6570\u636e\u5e93\u3002\n-i: \u8f93\u5165\uff0c\u9ed8\u8ba4\u503c\u662f\u7ec8\u7aef\u8f93\u5165\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u6587\u4ef6\u7684\u65b9\u5f0f\uff0c\u6bd4\u5982\n`\n-i seq.fasta\n`\n\n-o: \u8f93\u51fa\uff0c\u9ed8\u8ba4\u503c\u662f\u7ec8\u7aef\u6253\u5370\u8f93\u51fa\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u6587\u4ef6\u7684\u65b9\u5f0f\uff0c\u6bd4\u5982\n`\n-o result.txt\n`\n\n-e: \u671f\u671b\u503c\u3002\n-T: \u8f93\u51fa\u6587\u4ef6\u683c\u5f0f\uff0c\u9ed8\u8ba4\u503c\u4e3aF\n(\nFalse\n)\n\uff0c\u60f3\u8f93\u51faHTML\u683c\u5f0f\u7684\u53ef\u4ee5\u7528\n`\n-T T\n`\n\n-M: \u77e9\u9635\u7b97\u6cd5\u9009\u62e9\uff0c\u9ed8\u8ba4\u503c\u662f\n`\nBLOSUM62\n`\n\n-n: \u5982\u679c\u60f3\u4f7f\u7528MegaBlast\uff0c\u5c31\u8bbe\u7f6e\n`\n-n T\n`\n\n-b: \u6570\u636e\u5e93\u4e2d\u7684\u6bd4\u5bf9\u7ed3\u679c\u663e\u793a\u6761\u76ee\u6570\uff0c\u9ed8\u8ba4\u662f250\u6761\u8bb0\u5f55\u3002\n-m: \u6bd4\u5bf9\u7ed3\u679c\u7684\u8f93\u51fa\u663e\u793a\u65b9\u5f0f\uff0c\u503c\u4e3a0~11\uff0c\u9ed8\u8ba4\u662f0\u3002\u5404\u4e2a\u6570\u5b57\u542b\u4e49\u89c1\u4e0b\u8868\u3002\n\n\n\n\n\n\n\n\n\n\noptions\n\n\nmeaning\n\n\n\n\n\n\n\n\n\n\n0\n\n\npairwise\n\n\n\n\n\n\n1\n\n\nquery-anchored showing identities\n\n\n\n\n\n\n2\n\n\nquery-anchored no identities\n\n\n\n\n\n\n3\n\n\nflat query-anchored, show identities\n\n\n\n\n\n\n4\n\n\nflat query-anchored, no identities\n\n\n\n\n\n\n5\n\n\nquery-anchored no identities and blunt ends\n\n\n\n\n\n\n6\n\n\nflat query-anchored, no identities and blunt ends\n\n\n\n\n\n\n7\n\n\nXML Blast output\n\n\n\n\n\n\n8\n\n\ntabular\n\n\n\n\n\n\n9\n\n\ntabular with comment lines\n\n\n\n\n\n\n10\n\n\nASN, text\n\n\n\n\n\n\n11\n\n\nASN, binary [Integer]\n\n\n\n\n\n\n\n\n\u5176\u4ed6\u53c2\u6570\u53c2\u89c1\nman blast\n\u3002\n\n\n\u5e94\u7528\u4e3e\u4f8b:\n\n\nLocal blast\u4f8b\u5b50\uff1a\u9996\u5148\u4e0b\u8f7d\u4e00\u4e2a\u57fa\u56e0\u7ec4\u6587\u4ef6\u5e76\u683c\u5f0f\u5316\u4f5c\u4e3a\u672c\u5730\u6570\u636e\u5e93\uff0c\u7136\u540e\u4f7f\u7528 blastn \u5bf9\u5e8f\u5217\u8fdb\u884c\u6bd4\u5bf9\u3002\n\n\n$ formatdb -i custom_genome.fasta -o T -p F\n$ blastall -i myseq.fasta -d custom_genome.fasta -p blastn\n\n\n\n\n1.2 Blast+\n\u00b6\n\n\n\u4e0b\u8f7d\u5b89\u88c5 NCBI Blast+\n\n\n$ sudo apt-get install ncbi-blast+\n\n\n\n\n\u6784\u5efa\u6570\u636e\u5e93\n\n\n$ makeblastdb -in data/database.fasta -dbtype nucl -parse_seqids\n\n\n\n\n\u8fd0\u884c blast\n\n\n$ blastn -query my_seq.fasta -db data/database.fasta -out result.txt\n\n\n\n\nhttp://www.personal.psu.edu/iua1/courses/files/2014/lecture-12.pdf\n\n\n2. \u6784\u5efa\u672c\u5730\u7684 blast web \u670d\u52a1\n\u00b6\n\n\n2.1 blastkit\n\u00b6\n\n\nblastkit \u662f\u4e00\u4e2a\u5305\u542bwebserver\u7b49\u5de5\u5177\u7684blast\u5de5\u5177\u96c6\u3002\n\n\n\u5b89\u88c5\u4f9d\u8d56\u5305\n\n\n$ conda create -n blastkit\n$ conda activate blastkit\n\n(\nblastkit\n)\n$ pip install pygr\n\n(\nblastkit\n)\n$ pip install whoosh\n\n(\nblastkit\n)\n$ pip install git+https://github.com/ctb/pygr-draw.git\n\n(\nblastkit\n)\n$ pip install git+https://github.com/ged-lab/screed.git\n\n(\nblastkit\n)\n$ conda install lighttpd\n\n(\nblastkit\n)\n$ conda install blast-legacy\n\n\n\n\n\u5bf9lighttpd webserver\u8fdb\u884c\u914d\u7f6e\n\n\n$ \ncd\n /etc/lighttpd/conf-enabled\n$ sudo ln -fs ../conf-available/10-cgi.conf ./\n$ sudo \necho\n \n'cgi.assign = ( \".cgi\" => \"\" )'\n >> \n10\n-cgi.conf\n$ sudo \necho\n \n'index-file.names += ( \"index.cgi\" ) '\n >> \n10\n-cgi.conf\n$ sudo /etc/init.d/lighttpd restart\n\n\n\n\n(\nprokka\n)\n$ conda install lighttpd\n\n(\nprokka\n)\n$ \ncd\n \n$HOME\n/.conda/etc/lighttpd/conf-enabled\n$ sudo ln -fs ../conf-available/10-cgi.conf ./\n$ sudo \necho\n \n'cgi.assign = ( \".cgi\" => \"\" )'\n >> \n10\n-cgi.conf\n$ sudo \necho\n \n'index-file.names += ( \"index.cgi\" ) '\n >> \n10\n-cgi.conf\n$ lighttpd restart\n\n\n\n\n\u5b89\u88c5 blastkit\n\n\n$ \ncd\n ~/app\n$ git clone https://github.com/ctb/blastkit.git -b ec2\n$ \ncd\n blastkit/www\n~/app/blastkit/www$ sudo ln -fs \n$PWD\n /var/www/blastkit\n~/app/blastkit/www$ mkdir files\n~/app/blastkit/www$ chmod a+rxwt files\n~/app/blastkit/www$ chmod +x /root\n~/app/blastkit/www$ \ncd\n ..\n~/app/blastkit$ python ./check.py\n\n\n\n\n\u5982\u679c\u5b89\u88c5\u987a\u5229\uff0c\u5c31\u4f1a\u63d0\u793a\u4e00\u5207\u5df2\u7ecf\u51c6\u5907\u5b8c\u6bd5\u3002\u63a5\u4e0b\u6765\u8981\u51c6\u5907\u6570\u636e\u3002\n\n\n$ cp /mnt/assembly/ecoli.21/contigs.fa ~/app/blastkit/db/db.fa\n$ \ncd\n ~/app/blastkit\n$ formatdb -i db/db.fa -o T -p F\n$ python index-db.py db/db.fa\n\n\n\n\nReference\n\u00b6\n\n\n\n\nBlastkit\n\n\nCaltech workshop\n\n\nAngus",
            "title": "02. Blast \u4e0e Blast+"
        },
        {
            "location": "/chapter_02/02_blast/#local-blast",
            "text": "Blast \u5de5\u5177\u53ef\u4ee5\u8fdb\u884c\u5e8f\u5217\u76f8\u4f3c\u6027\u6bd4\u5bf9\uff0c\u5728 NGS \u6570\u636e\u5206\u6790\u4e2d\u7ecf\u5e38\u4f1a\u88ab\u4f7f\u7528\u5230\uff0c\u7279\u522b\u662f\u4e00\u4e9b\u5de5\u5177\u4e2d\u9700\u8981 Blast \u6216 Blast+ \u7a0b\u5e8f\u6765\u4f5c\u4e3a\u7b2c\u4e09\u65b9\u6bd4\u5bf9\u5de5\u5177\u8c03\u7528\u3002\u62ff\u5230\u6d4b\u5e8f\u5b8c\u6210\u7684\u8349\u56fe\u540e\uff0c\u56e0\u4e3a\u57fa\u56e0\u7ec4\u6570\u636e\u8f83\u5927\uff0c\u8fde\u63a5NCBI\u7f51\u7ad9\u5f80\u5f80\u53c8\u975e\u5e38\u7f13\u6162\uff0c\u6240\u4ee5\u8981\u505a Blast \u6bd4\u5bf9\u7684\u8bdd\u90fd\u9700\u8981\u505a Local Blast\u3002\u8fd9\u91cc\u4ecb\u7ecd2\u4e2a\u65b9\u5f0f\u6765\u5b9e\u73b0\uff1a    \u7528\u547d\u4ee4\u884c\u8fdb\u884c\u672c\u5730 Blast  \u5feb\u901f\u6784\u5efa Blast Web \u670d\u52a1",
            "title": "Local Blast \u4f7f\u7528\u8bf4\u660e"
        },
        {
            "location": "/chapter_02/02_blast/#1-local-blast",
            "text": "blast  \u548c  blast+  \u8fd92\u4e2a\u7a0b\u5e8f\u96c6\u5bb9\u6613\u641e\u6df7\u3002NCBI \u6700\u65e9\u57281989\u5e74\u521b\u5efa Basic Local Alignment Search Tool \u5de5\u5177\uff0c\u6cbf\u7528\u81f32009\u5e74\u65e0\u8bba\u662f\u547d\u4ee4\u884c\u5de5\u5177\u6216\u662f\u5728\u7ebf\u7a0b\u5e8f\uff0c\u90fd\u79f0\u547c\u5176\u4e3a blast \u30022009\u5e74 NCBI \u9274\u4e8e  blast  \u7684\u4e00\u4e9b\u4e0d\u8db3\uff0c\u91cd\u65b0\u5f00\u53d1\u4e86\u65b0\u7684 blast+ \u547d\u4ee4\u884c\u5de5\u5177\uff0c\u65b0\u7684 blast+ \u5de5\u5177\u5728\u901f\u5ea6\u4e0a\u6709\u4e86\u63d0\u5347\uff0c\u5728\u8f93\u5165\u8f93\u51fa\u4e0a\u4e5f\u66f4\u4e3a\u7075\u6d3b\u3002  \u76ee\u524d Blast \u5de5\u5177\u6700\u65b0\u7248\u662f2012\u5e74\u53d1\u5e03\u7684**2.2.26**\uff08\u53ef\u80fd\u5df2\u7ecf\u5904\u4e8e\u6682\u505c\u5347\u7ea7\u7684\u72b6\u6001\uff1f\uff09\uff0c\u800c Blast+ \u76ee\u524d\u4e00\u76f4\u5728\u66f4\u65b0\u3002\u8981\u533a\u52062\u8005\u4e5f\u5f88\u7b80\u5355\uff0cblast \u662f\u901a\u8fc7 blastall -p \u7684\u65b9\u5f0f\u8c03\u7528\u5b50\u7a0b\u5e8f\u6765\u6bd4\u5bf9\u641c\u7d22\u7684\uff0c\u800c blast+ \u5219\u662f\u76f4\u63a5\u4f7f\u7528 blastn \u6216 blastp \u7b49\u5b50\u7a0b\u5e8f\u6765\u6bd4\u5bf9\u641c\u7d22\u3002\u53e6\u5916\u524d\u8005\u7528 formatdb \u7a0b\u5e8f\u6765\u683c\u5f0f\u5316\u6570\u636e\u5e93\uff0c\u540e\u8005\u7528 makeblastdb \u7a0b\u5e8f\u6765\u683c\u5f0f\u5316\u6570\u636e\u3002",
            "title": "1. \u57fa\u4e8e\u547d\u4ee4\u884c\u7684 Local Blast"
        },
        {
            "location": "/chapter_02/02_blast/#11-blast",
            "text": "Blast\u7684\u4e0b\u8f7d\u4e0e\u5b89\u88c5  # \u5b89\u88c5 Ubuntu \u7f16\u8bd1\u5305\u3002 \n$ sudo apt-get install blast2 # \u6216\u8005\u76f4\u63a5\u4e0b\u8f7dNCBI Linux\u9884\u7f16\u8bd1\u5305\uff0c\u5e76\u89e3\u538b\u7f29\u5b89\u88c5 \n$ wget ftp://ftp.ncbi.nih.gov/blast/executables/release/2.2.26/blast-2.2.26-x64-linux.tar.gz\n$ tar -zxvf blast-2.2.26-x64 -C ~/app\n$ sudo ln -s ~/app/blast-2.2.26-x64/blastall /usr/local/sbin  \u8fd0\u884c Blast  Blast \u901a\u8fc7\u8c03\u7528 blastall \u8fd9\u4e2a gateway \u7a0b\u5e8f\uff0c\u6765\u5206\u522b\u8c03\u7528\u4e0d\u540c\u7b97\u6cd5\u548c\u7a0b\u5e8f\u5b9e\u73b0\u5e8f\u5217\u6bd4\u5bf9\u3002\u5728\u547d\u4ee4\u884c\u4e2d\u8f93\u5165 blastall \uff0c\u4f1a\u6253\u5370\u51fa\u4e00\u4efd\u53c2\u6570\u5217\u8868\u3002\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528  man blast  \u6765\u67e5\u770b Blast \u5de5\u5177\u7684\u7528\u6237\u624b\u518c\u3002  $ blastall  \u53c2\u6570\u8bf4\u660e\uff1a  -p: \u6307\u5b9a\u8981\u8fd0\u884c\u7684 blast \u7a0b\u5e8f\u3002\u53ef\u4ee5\u8c03\u7528\u7684\u6709:\n     ` blastp `              \u5c06\u6c28\u57fa\u9178\u5e8f\u5217\u4e0e\u86cb\u767d\u8d28\u6570\u636e\u5e93\u6bd4\u5bf9\n     ` blastn `              \u5c06\u6838\u9178\u5e8f\u5217\u4e0e\u6838\u9178\u6570\u636e\u5e93\u6bd4\u5bf9\n     ` blastx `              \u5c06\u6838\u9178\u5e8f\u5217\u7ffb\u8bd1\u6210\u86cb\u767d\u5e8f\u5217\u540e\u4e0e\u975e\u5197\u4f59 ( nr ) \u86cb\u767d\u8d28\u6570\u636e\u5e93\u6bd4\u5bf9\n     ` psitblastn ` \n     ` tblastn ` \n     ` tblastx ` \n-d: \u6307\u5b9a\u8981\u8c03\u7528\u6570\u636e\u5e93\uff0c\u9ed8\u8ba4\u503c\u662f\u975e\u5197\u4f59 ( nr ) \u6570\u636e\u5e93\u3002\u672c\u5730 Blast \u6bd4\u5bf9\u4e00\u822c\u6765\u8bf4\u90fd\u662f\u8c03\u7528 formatdb \u683c\u5f0f\u5316\u7684\u6570\u636e\u5e93\u3002\n-i: \u8f93\u5165\uff0c\u9ed8\u8ba4\u503c\u662f\u7ec8\u7aef\u8f93\u5165\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u6587\u4ef6\u7684\u65b9\u5f0f\uff0c\u6bd4\u5982 ` -i seq.fasta ` \n-o: \u8f93\u51fa\uff0c\u9ed8\u8ba4\u503c\u662f\u7ec8\u7aef\u6253\u5370\u8f93\u51fa\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u6587\u4ef6\u7684\u65b9\u5f0f\uff0c\u6bd4\u5982 ` -o result.txt ` \n-e: \u671f\u671b\u503c\u3002\n-T: \u8f93\u51fa\u6587\u4ef6\u683c\u5f0f\uff0c\u9ed8\u8ba4\u503c\u4e3aF ( False ) \uff0c\u60f3\u8f93\u51faHTML\u683c\u5f0f\u7684\u53ef\u4ee5\u7528 ` -T T ` \n-M: \u77e9\u9635\u7b97\u6cd5\u9009\u62e9\uff0c\u9ed8\u8ba4\u503c\u662f ` BLOSUM62 ` \n-n: \u5982\u679c\u60f3\u4f7f\u7528MegaBlast\uff0c\u5c31\u8bbe\u7f6e ` -n T ` \n-b: \u6570\u636e\u5e93\u4e2d\u7684\u6bd4\u5bf9\u7ed3\u679c\u663e\u793a\u6761\u76ee\u6570\uff0c\u9ed8\u8ba4\u662f250\u6761\u8bb0\u5f55\u3002\n-m: \u6bd4\u5bf9\u7ed3\u679c\u7684\u8f93\u51fa\u663e\u793a\u65b9\u5f0f\uff0c\u503c\u4e3a0~11\uff0c\u9ed8\u8ba4\u662f0\u3002\u5404\u4e2a\u6570\u5b57\u542b\u4e49\u89c1\u4e0b\u8868\u3002     options  meaning      0  pairwise    1  query-anchored showing identities    2  query-anchored no identities    3  flat query-anchored, show identities    4  flat query-anchored, no identities    5  query-anchored no identities and blunt ends    6  flat query-anchored, no identities and blunt ends    7  XML Blast output    8  tabular    9  tabular with comment lines    10  ASN, text    11  ASN, binary [Integer]     \u5176\u4ed6\u53c2\u6570\u53c2\u89c1 man blast \u3002  \u5e94\u7528\u4e3e\u4f8b:  Local blast\u4f8b\u5b50\uff1a\u9996\u5148\u4e0b\u8f7d\u4e00\u4e2a\u57fa\u56e0\u7ec4\u6587\u4ef6\u5e76\u683c\u5f0f\u5316\u4f5c\u4e3a\u672c\u5730\u6570\u636e\u5e93\uff0c\u7136\u540e\u4f7f\u7528 blastn \u5bf9\u5e8f\u5217\u8fdb\u884c\u6bd4\u5bf9\u3002  $ formatdb -i custom_genome.fasta -o T -p F\n$ blastall -i myseq.fasta -d custom_genome.fasta -p blastn",
            "title": "1.1 Blast"
        },
        {
            "location": "/chapter_02/02_blast/#12-blast",
            "text": "\u4e0b\u8f7d\u5b89\u88c5 NCBI Blast+  $ sudo apt-get install ncbi-blast+  \u6784\u5efa\u6570\u636e\u5e93  $ makeblastdb -in data/database.fasta -dbtype nucl -parse_seqids  \u8fd0\u884c blast  $ blastn -query my_seq.fasta -db data/database.fasta -out result.txt  http://www.personal.psu.edu/iua1/courses/files/2014/lecture-12.pdf",
            "title": "1.2 Blast+"
        },
        {
            "location": "/chapter_02/02_blast/#2-blast-web",
            "text": "",
            "title": "2. \u6784\u5efa\u672c\u5730\u7684 blast web \u670d\u52a1"
        },
        {
            "location": "/chapter_02/02_blast/#21-blastkit",
            "text": "blastkit \u662f\u4e00\u4e2a\u5305\u542bwebserver\u7b49\u5de5\u5177\u7684blast\u5de5\u5177\u96c6\u3002  \u5b89\u88c5\u4f9d\u8d56\u5305  $ conda create -n blastkit\n$ conda activate blastkit ( blastkit ) $ pip install pygr ( blastkit ) $ pip install whoosh ( blastkit ) $ pip install git+https://github.com/ctb/pygr-draw.git ( blastkit ) $ pip install git+https://github.com/ged-lab/screed.git ( blastkit ) $ conda install lighttpd ( blastkit ) $ conda install blast-legacy  \u5bf9lighttpd webserver\u8fdb\u884c\u914d\u7f6e  $  cd  /etc/lighttpd/conf-enabled\n$ sudo ln -fs ../conf-available/10-cgi.conf ./\n$ sudo  echo   'cgi.assign = ( \".cgi\" => \"\" )'  >>  10 -cgi.conf\n$ sudo  echo   'index-file.names += ( \"index.cgi\" ) '  >>  10 -cgi.conf\n$ sudo /etc/init.d/lighttpd restart  ( prokka ) $ conda install lighttpd ( prokka ) $  cd   $HOME /.conda/etc/lighttpd/conf-enabled\n$ sudo ln -fs ../conf-available/10-cgi.conf ./\n$ sudo  echo   'cgi.assign = ( \".cgi\" => \"\" )'  >>  10 -cgi.conf\n$ sudo  echo   'index-file.names += ( \"index.cgi\" ) '  >>  10 -cgi.conf\n$ lighttpd restart  \u5b89\u88c5 blastkit  $  cd  ~/app\n$ git clone https://github.com/ctb/blastkit.git -b ec2\n$  cd  blastkit/www\n~/app/blastkit/www$ sudo ln -fs  $PWD  /var/www/blastkit\n~/app/blastkit/www$ mkdir files\n~/app/blastkit/www$ chmod a+rxwt files\n~/app/blastkit/www$ chmod +x /root\n~/app/blastkit/www$  cd  ..\n~/app/blastkit$ python ./check.py  \u5982\u679c\u5b89\u88c5\u987a\u5229\uff0c\u5c31\u4f1a\u63d0\u793a\u4e00\u5207\u5df2\u7ecf\u51c6\u5907\u5b8c\u6bd5\u3002\u63a5\u4e0b\u6765\u8981\u51c6\u5907\u6570\u636e\u3002  $ cp /mnt/assembly/ecoli.21/contigs.fa ~/app/blastkit/db/db.fa\n$  cd  ~/app/blastkit\n$ formatdb -i db/db.fa -o T -p F\n$ python index-db.py db/db.fa",
            "title": "2.1 blastkit"
        },
        {
            "location": "/chapter_02/02_blast/#reference",
            "text": "Blastkit  Caltech workshop  Angus",
            "title": "Reference"
        },
        {
            "location": "/chapter_02/08_seqkit/",
            "text": "Seqkit \u597d\u7528\u7684\u547d\u4ee4\u884c\u5e8f\u5217\u5904\u7406\u5de5\u5177\u5957\u4ef6\n\u00b6\n\n\nSeqkit \u662f\u7531\u56fd\u4eba\u5f00\u53d1\u7684\u5e8f\u5217\u5904\u7406\u5de5\u5177",
            "title": "03. \u56fd\u4ea7\u5e8f\u5217\u5904\u7406\u795e\u5668 SeqKit"
        },
        {
            "location": "/chapter_02/08_seqkit/#seqkit",
            "text": "Seqkit \u662f\u7531\u56fd\u4eba\u5f00\u53d1\u7684\u5e8f\u5217\u5904\u7406\u5de5\u5177",
            "title": "Seqkit \u597d\u7528\u7684\u547d\u4ee4\u884c\u5e8f\u5217\u5904\u7406\u5de5\u5177\u5957\u4ef6"
        },
        {
            "location": "/chapter_02/09_kmer/",
            "text": "k-mer \u5206\u6790\n\u00b6\n\n\nkhmer\n\n\n$ pip install khmer\n\n\n\n\n\u901a\u8fc7 conda \u5b89\u88c5\n\u00b6\n\n\n\u7528 conda \u65b0\u5efa\u4e00\u4e2a\u865a\u62df\u73af\u5883\u5b89\u88c5 \nkhmer\n\u3002\u5f53\u524d\u7248\u672c\u4e3a [2.12][\nhttp://khmer.readthedocs.io/en/v2.1.2/\n]\uff0c\u5b89\u88c5\u8fc7\u7a0b\u8fd8\u4f1a\u81ea\u52a8 [screed][\nhttps://github.com/dib-lab/screed\n]\uff08\u4e00\u4e2a\u8f7b\u91cf\u7ea7 python \u5e8f\u5217\u6570\u636e\u5e93\u5de5\u5177\uff09\u3002\n\n\n$ conda create -n khmer\n$ conda activate khmer\n\n(\nkhmer\n)\n$ conda install khmer ipython\n\n\n\n\nkhmer\n \u6709\u4e00\u5957\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u53ef\u4ee5\u975e\u5e38\u65b9\u4fbf\u7684\u8fd0\u884c\u4f7f\u7528\u3002\u53e6\u5916\u4e5f\u53ef\u4ee5\u4f7f\u7528 \nkhmer\n \u7684 API\uff0c\u7f16\u5199 python \u4ee3\u7801\u8c03\u7528\u3002\n\n\nload-into-counting.py\n\n\n$ load-into-counting.py -T \n4\n -k \n32\n -x 1e8 -N \n4\n counts R1.fastq.gz\n\n\n\n\nnormalize-by-median.py\n\n\n\u53bb\u9664\u5197\u4f59\u5e8f\u5217\u3002\u811a\u672c\u7a0b\u5e8f\u5c06 Fast[A/Q] \u683c\u5f0f\u6570\u636e\u6587\u4ef6\u5217\u8868\u5316\uff0c\n\n\n\u811a\u672c\u8f93\u51fa\u7684\u5e8f\u5217\u53ef\u4ee5\u88ab\u7ec4\u88c5\u8f6f\u4ef6\u6bd4\u5982 SPAdes \u7b49\u8fdb\u884c\u5e8f\u5217\u7ec4\u88c5\u3002\n\n\n$ normalize-by-median.py -p -k \n21\n -o - read.fq output.fq\n\n\n\n\nreadstats.py\n\n\n\u7edf\u8ba1 FASTA/Q \u5e8f\u5217\u4fe1\u606f\u3002\n\n\n$ readstats.py -o R1.output R1.fastq.gz\n$ cat R1.output\n\nfound \n449472737\n bps / \n1879073\n seqs\n;\n \n239\n.2 average length -- R1.fastq.gz\n---------------\n\n449472737\n bp / \n1879073\n seqs\n;\n \n239\n.2 average length -- R1.fastq.gz\n---------------\n\n449472737\n bp / \n1879073\n seqs\n;\n \n239\n.2 average length -- total\n\n\n\n\nkhmer \u7528\u9014\n\u00b6\n\n\n\u5bf9 de novo assembly \u8fdb\u884c\u6570\u5b57\u5747\u4e00\u5316\u8fdb\u884c\u9884\u5904\u7406\n\n\nPython API\n\u00b6\n\n\n$ ipython\nIn \n[\n1\n]\n: import khmer\nIn \n[\n2\n]\n: \ncounts\n \n=\n khmer.Counttable\n(\n31\n, 1e7, \n4\n)\n\nIn \n[\n3\n]\n: counts.consume_seqfile\n(\n'R1.fastq.gz'\n)\n\n\n(\n25000\n, \n1150000\n)\n\n\n# 31 \u662f kmer \u957f\u5ea6\uff0c1e7 \u662f table size\uff0c4 \u662f table \u6570\n\n\n# 25000 \u8868\u793a\u5e8f\u5217\u6570\u91cf\uff0c\u9ad8\u901a\u91cf\u6d4b\u5e8f\u91cc\u5373 reads \u6570\u3002\n\n\n# 1150000 \u8868\u793a\u6307\u5b9a kmer \u5207\u5272\u540e\u7279\u5b9a kmer \u5e8f\u5217\u6570\n\nIn \n[\n4\n]\n: counts.get\n(\n'TGACTTTCTTCGCTTCCTGACGGCTTATGCC'\n)\n\n\n105\n\n\n\n\n\nReference\n\u00b6\n\n\n\n\nhttps://www.ncbi.nlm.nih.gov/pmc/articles/PMC4608353/\n\n\nhttp://khmer.readthedocs.io/en/latest/",
            "title": "04. K-mer \u5904\u7406\u5de5\u5177"
        },
        {
            "location": "/chapter_02/09_kmer/#k-mer",
            "text": "khmer  $ pip install khmer",
            "title": "k-mer \u5206\u6790"
        },
        {
            "location": "/chapter_02/09_kmer/#conda",
            "text": "\u7528 conda \u65b0\u5efa\u4e00\u4e2a\u865a\u62df\u73af\u5883\u5b89\u88c5  khmer \u3002\u5f53\u524d\u7248\u672c\u4e3a [2.12][ http://khmer.readthedocs.io/en/v2.1.2/ ]\uff0c\u5b89\u88c5\u8fc7\u7a0b\u8fd8\u4f1a\u81ea\u52a8 [screed][ https://github.com/dib-lab/screed ]\uff08\u4e00\u4e2a\u8f7b\u91cf\u7ea7 python \u5e8f\u5217\u6570\u636e\u5e93\u5de5\u5177\uff09\u3002  $ conda create -n khmer\n$ conda activate khmer ( khmer ) $ conda install khmer ipython  khmer  \u6709\u4e00\u5957\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u53ef\u4ee5\u975e\u5e38\u65b9\u4fbf\u7684\u8fd0\u884c\u4f7f\u7528\u3002\u53e6\u5916\u4e5f\u53ef\u4ee5\u4f7f\u7528  khmer  \u7684 API\uff0c\u7f16\u5199 python \u4ee3\u7801\u8c03\u7528\u3002  load-into-counting.py  $ load-into-counting.py -T  4  -k  32  -x 1e8 -N  4  counts R1.fastq.gz  normalize-by-median.py  \u53bb\u9664\u5197\u4f59\u5e8f\u5217\u3002\u811a\u672c\u7a0b\u5e8f\u5c06 Fast[A/Q] \u683c\u5f0f\u6570\u636e\u6587\u4ef6\u5217\u8868\u5316\uff0c  \u811a\u672c\u8f93\u51fa\u7684\u5e8f\u5217\u53ef\u4ee5\u88ab\u7ec4\u88c5\u8f6f\u4ef6\u6bd4\u5982 SPAdes \u7b49\u8fdb\u884c\u5e8f\u5217\u7ec4\u88c5\u3002  $ normalize-by-median.py -p -k  21  -o - read.fq output.fq  readstats.py  \u7edf\u8ba1 FASTA/Q \u5e8f\u5217\u4fe1\u606f\u3002  $ readstats.py -o R1.output R1.fastq.gz\n$ cat R1.output\n\nfound  449472737  bps /  1879073  seqs ;   239 .2 average length -- R1.fastq.gz\n--------------- 449472737  bp /  1879073  seqs ;   239 .2 average length -- R1.fastq.gz\n--------------- 449472737  bp /  1879073  seqs ;   239 .2 average length -- total",
            "title": "\u901a\u8fc7 conda \u5b89\u88c5"
        },
        {
            "location": "/chapter_02/09_kmer/#khmer",
            "text": "\u5bf9 de novo assembly \u8fdb\u884c\u6570\u5b57\u5747\u4e00\u5316\u8fdb\u884c\u9884\u5904\u7406",
            "title": "khmer \u7528\u9014"
        },
        {
            "location": "/chapter_02/09_kmer/#python-api",
            "text": "$ ipython\nIn  [ 1 ] : import khmer\nIn  [ 2 ] :  counts   =  khmer.Counttable ( 31 , 1e7,  4 ) \nIn  [ 3 ] : counts.consume_seqfile ( 'R1.fastq.gz' )  ( 25000 ,  1150000 )  # 31 \u662f kmer \u957f\u5ea6\uff0c1e7 \u662f table size\uff0c4 \u662f table \u6570  # 25000 \u8868\u793a\u5e8f\u5217\u6570\u91cf\uff0c\u9ad8\u901a\u91cf\u6d4b\u5e8f\u91cc\u5373 reads \u6570\u3002  # 1150000 \u8868\u793a\u6307\u5b9a kmer \u5207\u5272\u540e\u7279\u5b9a kmer \u5e8f\u5217\u6570 \nIn  [ 4 ] : counts.get ( 'TGACTTTCTTCGCTTCCTGACGGCTTATGCC' )  105",
            "title": "Python API"
        },
        {
            "location": "/chapter_02/09_kmer/#reference",
            "text": "https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4608353/  http://khmer.readthedocs.io/en/latest/",
            "title": "Reference"
        },
        {
            "location": "/chapter_03/01_databases/",
            "text": "\u57fa\u56e0\u7ec4\u516c\u5171\u6570\u636e\u5e93\n\u00b6\n\n\n\u6d4b\u5e8f\u7684\u6570\u636e\u5982\u539f\u59cb reads \u6570\u636e\u6211\u4eec\u53ef\u4ee5\u4e0a\u4f20\u5230 NCBI \u6216 EBI \u7684\u516c\u5171\u6570\u636e\u5e93\uff0c\u53d1\u8868\u7684\u6587\u7ae0\u4e2d\u53ef\u4ee5\u4f7f\u7528\u3002\u6b64\u5916\u516c\u5171\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u4e5f\u53ef\u4ee5\u4e3a\u6211\u4eec\u7684\u7814\u7a76\u63d0\u4f9b\u5e2e\u52a9\u3002\u672c\u8282\u6211\u4eec\u5c31\u6765\u4e86\u89e3\u4e00\u4e0b\u5982\u4f55\u4e0a\u4f20\u548c\u4e0b\u8f7d\u57fa\u56e0\u7ec4\u6d4b\u5e8f\u6570\u636e\u3002\u9996\u5148\u8ba9\u6211\u4eec\u6765\u4e86\u89e3\u4e00\u4e0b\u7f51\u7edc\u4e0a\u7684\u6d4b\u5e8f\u516c\u5171\u6570\u636e\u5e93\uff1a\n\n\n\u5e38\u89c1\u7684\u6d4b\u5e8f\u516c\u5171\u6570\u636e\u5e93\uff1a\n\n\n\n\nSRA\n \u77ed\u5e8f\u5217\u6570\u636e\u5e93\uff1a\u7531 \nNCBI\n \u8d1f\u8d23\u7ef4\u62a4\n\n\nENA\n \u6b27\u6d32\u6838\u9178\u6570\u636e\u5e93\uff1a\u7531 \nEBI\n \u8d1f\u8d23\u7ef4\u62a4\n\n\nGSA\n \u4e2d\u56fd\u7ec4\u5b66\u6570\u636e\u5e93\uff1a\u7531\n\u4e2d\u79d1\u9662\u5317\u4eac\u57fa\u56e0\u7814\u7a76\u6240\n\u8d1f\u8d23\u7ef4\u62a4\n\n\n\n\nSRA\n \u662f \nNCBI\n \u4e3a\u4e86\u5e94\u5bf9\u8d8a\u6765\u8d8a\u591a\u7684\u9ad8\u901a\u91cf\u6d4b\u5e8f\u6570\u636e\u800c\u5728 2007 \u5e74\u5e95\u63a8\u51fa\u7684\u6d4b\u5e8f\u6570\u636e\u5e93\uff0c\u7528\u4e8e\u5b58\u50a8\u3001\u663e\u793a\u3001\u63d0\u53d6\u548c\u5206\u6790\u9ad8\u901a\u91cf\u6d4b\u5e8f\u6570\u636e\u3002\u800c \nENA\n \u5219\u662f\u7531 \nEBI\n \u8d1f\u8d23\u7ef4\u62a4\u7684\u529f\u80fd\u7c7b\u4f3c\u7684\u6570\u636e\u5e93\uff0c\u540c\u65f6\u4f5c\u4e3a \nEnsembl\n\u3001\nUniProt\n \u548c \nArrayExpress\n \u7b49\u670d\u52a1\u7684\u5e95\u5c42\u57fa\u7840\u30022\u8005\u5728\u4e3b\u8981\u529f\u80fd\u65b9\u9762\u975e\u5e38\u7c7b\u4f3c\uff0c\u540c\u65f6\u6570\u636e\u4e92\u901a\u3002\n\n\n1. SRA \u6570\u636e\u5e93\n\u00b6\n\n\n1.1 \u7b80\u4ecb\n\u00b6\n\n\nSRA\n \u662f Sequence Read Archive \u7684\u9996\u5b57\u6bcd\u7f29\u5199\u3002SRA \u4e0e Trace \u6700\u5927\u7684\u533a\u522b\u662f\u5c06\u5b9e\u9a8c\u6570\u636e\u4e0e metadata\uff08\u5143\u6570\u636e\uff09\u5206\u79bb\u3002metadata \u662f\u6307\u4e0e\u6d4b\u5e8f\u5b9e\u9a8c\u53ca\u5176\u5b9e\u9a8c\u6837\u54c1\u76f8\u5173\u7684\u6570\u636e\uff0c\u5982\u5b9e\u9a8c\u76ee\u7684\u3001\u5b9e\u9a8c\u8bbe\u8ba1\u3001\u6d4b\u5e8f\u5e73\u53f0\u3001\u6837\u672c\u6570\u636e(\u7269\u79cd\uff0c\u83cc\u682a\uff0c\u4e2a\u4f53\u8868\u578b\u7b49)\u3002metadata\u53ef\u4ee5\u5206\u4e3a\u4ee5\u4e0b\u51e0\u7c7b\uff1a\n\n\n\n\nStudy\uff1aaccession number \u4ee5 DRP\uff0cSRP\uff0cERP \u5f00\u5934\uff0c\u8868\u793a\u7684\u662f\u4e00\u4e2a\u7279\u5b9a\u76ee\u7684\u7684\u7814\u7a76\u8bfe\u9898\uff0c\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u7814\u7a76\u673a\u6784\u548c\u7814\u7a76\u7c7b\u578b\u7b49\u3002study \u5305\u542b\u4e86\u9879\u76ee\u7684\u6240\u6709 metadata\uff0c\u5e76\u6709\u4e00\u4e2a NCBI \u548c EBI \u5171\u540c\u627f\u8ba4\u7684\u9879\u76ee\u7f16\u53f7\uff08universal project id\uff09\uff0c\u4e00\u4e2a study \u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u5b9e\u9a8c\uff08experiment\uff09\u3002\n\n\nSample\uff1aaccession number\u4ee5 DRS\uff0cSRS\uff0cERS \u5f00\u5934\uff0c\u8868\u793a\u7684\u662f\u6837\u54c1\u4fe1\u606f\u3002\u6837\u672c\u4fe1\u606f\u53ef\u4ee5\u5305\u62ec\u7269\u79cd\u4fe1\u606f\u3001\u83cc\u682a(\u54c1\u7cfb) \u4fe1\u606f\u3001\u5bb6\u7cfb\u4fe1\u606f\u3001\u8868\u578b\u6570\u636e\u3001\u4e34\u5e8a\u6570\u636e,\u7ec4\u7ec7\u7c7b\u578b\u7b49\u3002\u53ef\u4ee5\u901a\u8fc7\nTrace\n \u6765\u67e5\u8be2\u3002\n\n\nExperiment\uff1aaccession number \u4ee5 DRX\uff0cSRX\uff0cERX \u5f00\u5934\u3002\u8868\u793a\u4e00\u4e2a\u5b9e\u9a8c\u8bb0\u8f7d\u7684\u5b9e\u9a8c\u8bbe\u8ba1\uff08Design\uff09\uff0c\u5b9e\u9a8c\u5e73\u53f0\uff08Platform\uff09\u548c\u7ed3\u679c\u5904\u7406\uff08processing\uff09\u4e09\u90e8\u5206\u4fe1\u606f\u3002\u5b9e\u9a8c\u662f \nSRA\n \u6570\u636e\u5e93\u7684\u6700\u57fa\u672c\u5355\u5143\uff0c\u4e00\u4e2a\u5b9e\u9a8c\u4fe1\u606f\u53ef\u4ee5\u540c\u65f6\u5305\u542b\u591a\u4e2a\u7ed3\u679c\u96c6\uff08run\uff09\u3002\n\n\nRun\uff1aaccession number \u4ee5DRR\uff0cSRR\uff0cERR \u5f00\u5934\u3002\u4e00\u4e2a Run \u5305\u62ec\u6d4b\u5e8f\u5e8f\u5217\u53ca\u8d28\u91cf\u6570\u636e\u3002\n\n\nSubmission\uff1a\u4e00\u4e2a study \u7684\u6570\u636e\uff0c\u53ef\u4ee5\u5206\u591a\u6b21\u9012\u4ea4\u81f3 SRA \u6570\u636e\u5e93\u3002\u6bd4\u5982\u5728\u4e00\u4e2a\u9879\u76ee\u542f\u52a8\u524d\u671f\uff0c\u5c31\u53ef\u4ee5\u628a study\uff0cexperiment \u7684\u6570\u636e\u9012\u4ea4\u4e0a\u53bb\uff0c\u968f\u7740\u9879\u76ee\u7684\u8fdb\u5c55\uff0c\u9010\u6279\u9012\u4ea4 run \u6570\u636e\u3002study \u7b49\u540c\u4e8e\u9879\u76ee\uff0csubmission \u7b49\u540c\u4e8e\u6279\u6b21\u7684\u6982\u5ff5\u3002\n\n\n\n\n1.2 \u6570\u636e\u4e0b\u8f7d\n\u00b6\n\n\n1.2.1 \u7528 Aspera \u5de5\u5177\u4e0b\u8f7d SRA\n\u00b6\n\n\nAspera \u4ecb\u7ecd\n\n\nAspera\n \u662f IBM \u5f00\u53d1\u7684\u52a0\u901f\u5728\u7ebf\u6570\u636e\u4f20\u8f93\u7684\u4e00\u7ec4\u670d\u52a1\u5668\u7aef\u4e0e\u5ba2\u6237\u7aef\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\nAspera\n \u7684\u5404\u4e2a\u5de5\u5177\u53ef\u4ee5\u5728 \n\u5b98\u65b9\u7f51\u7ad9\n \u4e0b\u8f7d\u83b7\u5f97\u3002\n\n\n\u5728\u670d\u52a1\u5668\u4e0a\u6211\u4eec\u53ea\u9700\u8981\u547d\u4ee4\u884c\u5de5\u5177 \nascp\n \u5373\u53ef\u3002\u800c\u5bf9\u4e8e\u684c\u9762\u7528\u6237\u6765\u8bf4\uff0c\u53ef\u4ee5\u9009\u62e9\u5b89\u88c5 \nAspera Connent\n \u7b49\u5de5\u5177\u3002\u7531\u4e8e Ascp Client \u5de5\u5177\u9700\u8981\u767b\u5f55\u540e\u624d\u80fd\u4e0b\u8f7d\uff0c\u56e0\u6b64\u9009\u62e9\u4e86 \nAspera Connect\n \u6765\u5b89\u88c5\u3002\u5b83\u662f \nAspera\n \u7528\u4e8e\u6d4f\u89c8\u5668\u4e0b\u8f7d\u7684\u9ad8\u6548\u63d2\u4ef6\uff0c\u5176\u5185\u5d4c\u4e86 \nascp\n \u547d\u4ee4\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5728\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u3002\u5b89\u88c5\u4e86 \nAspera Connect\n \u7684\u5e26\u56fe\u5f62\u754c\u9762\u7684\u5ba2\u6237\u7aef\uff0c\u6d4f\u89c8\u5668\u4f1a\u5728\u6709 Connect, Faspex \u6216\u8005 Shares \u9875\u9762\u7684\u94fe\u63a5\u5904\u6dfb\u52a0 ascp \u4e0b\u8f7d\u5feb\u6377\u6309\u94ae\u3002\n\n\n\u5b89\u88c5 aspera connect\n\n\nAspera Connect\n \u4e0b\u8f7d\u89e3\u538b\u7f29\u540e\uff0c\u53ef\u4ee5\u770b\u5230\u4e00\u4e2a .sh \u6587\u4ef6\uff0c\u6267\u884c\u540e\u8fd0\u884c\u540e\u4f1a\u5b89\u88c5\u5230\u5f53\u524d\u7528\u6237 $HOME.aspera/connect \u76ee\u5f55\u4e0b\u3002\n\n\n# \u4e0b\u8f7d\u5e76\u89e3\u538b\u7f29\u7a0b\u5e8f\n$ wget http://download.asperasoft.com/download/sw/connect/3.6.1/aspera-connect-3.6.1.110647-linux-64.tar.gz\n$ tar zxf asper-connect-3.6.1.110647-linux.tar.gz\n\n# \u5b89\u88c5\u5230\u672c\u5730\u7528\u6237\n$ ./aspera-connect-3.6.1.110647-linux-64.sh\n\n# \u6dfb\u52a0\u7528\u6237\u6267\u884c\u8def\u5f84\n$ echo 'PATH=\"$PATH:$HOME/.aspera/connect/bin/\"' >> ~/.bashrc\n\n\n\n\n\u5bf9\u4e8e\u559c\u6b22\u4f7f\u7528\u5ba2\u6237\u7aef\u7684\u684c\u9762\u7528\u6237\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 \nAspera Desktop Client\n \u5ba2\u6237\u7aef\u7a0b\u5e8f\u6765\u4e0b\u8f7d\u6570\u636e\u3002\n\n\n$ sed \n's/^INSTALL_DIR/INSTALL_DIR=~/envs/srst2/src/ascp/connect/'\n aspera-connect-3.6.1.110647-linux-64.sh > install.sh\n/tmp$ ./install.sh\n\n\n\n\n\u4e0b\u8f7d SRA \u6570\u636e\n\n\n\n\n\u6ce8\u610f\n\n\n\u6ce8\u610f\u65b0\u7248\u7684\nascp\n\u7528\n.openssh\n\u4f5c\u4e3a\u5bc6\u94a5\u6587\u4ef6\u800c\u4e0d\u662f\u539f\u6765\u7684\n.putty\n\n\n\n\n# ascp \u4e0b\u8f7d SRA \u6570\u636e\n$ ascp -i ~/.aspera/connect/etc/asperaweb_id_dsa.openssh \\\n> --user=anonftp --host=ftp.ncbi.nlm.nih.gov --mode=recv -l 100m -pQTk1 \\\n> /sra/sra-instant/reads/ByRun/sra/SRR/SRR955/SRR955386/SRR955386.sra .\n\n# \u6dfb\u52a0 alias \u7b80\u5316\u64cd\u4f5c\n$ echo \"alias ascp='ascp -i ~/.ascpera/connect/etc/asperaweb_id_dsa.openssh --user=dbtest --host=sra-download.ncbi.nlm.nih.gov --mode=recv -l 100m -pQTk1'\" >> ~/.bashrc\n$ source ~/.bashrc\n\n# \u6d4b\u8bd5\u4e0b\u8f7d\n$ ascp /data/sracloud/srapub/ERR579922 ./ERR578822.sra\n\n\n\n\n1.2.2 ftp \u4e0b\u8f7d\n\u00b6\n\n\n\u4ece\u56fd\u5185\u516c\u7f51\u8bbf\u95ee NCBI FTP \u670d\u52a1\u5668\u5f80\u5f80\u662f\u975e\u5e38\u7f13\u6162\u7684\uff0c\u800c \nEBI\n \u5c31\u4e0d\u540c\u4e86\uff0c\u6709\u4e9b\u5730\u65b9\u7684\u901f\u5ea6\u5f88\u5feb\uff0c\u4e0b\u8f7d\u751a\u81f3\u53ef\u4ee5\u8d85\u8fc7 \nAspera\n\u3002\u7531\u4e8e \nNCBI\n \u548c \nEBI\n \u5171\u4eab\u6570\u636e\u5e93\uff0c\u56e0\u6b64\u5bf9\u4e8e\u56fd\u5185 \nNCBI\n \u4e0b\u8f7d\u7f13\u6162\u6216\u8005\u65e0\u6cd5\u7528 ascp \u7684\u7528\u6237\uff0c\u53ef\u4ee5\u8003\u8651\u5728 \nEBI\n \u4e0b\u8f7d\u6570\u636e\u3002\n\n\n2.2 sratoolkit\n\u00b6\n\n\nNCBI\n \u5f00\u53d1\u4e86 \nsratoolkit\n \u5de5\u5177\u6765\u5e2e\u52a9\u5904\u7406 SRA \u6570\u636e\uff0c\u6b63\u786e\u914d\u7f6e\u540e\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u4e0b\u8f7d SRA \u6570\u636e\u3002\n\n\n2.2.1 \u5b89\u88c5sratoolkit\n\u00b6\n\n\n\u53ef\u4ee5\u76f4\u63a5\u4ece \nNCBI\n \u4e0a\u4e0b\u8f7d\u3002\u6700\u65b0\u7684\u6e90\u7801\u53ef\u4ee5\u5728 \nGithub\n \u83b7\u5f97\u3002\n\n\n# download from NCBI\n\n~$ \ncd\n /tmp\n/tmp$ wget http://ftp-trace.ncbi.nlm.nih.gov/sra/sdk/2.5.6/sratoolkit.2.5.6-ubuntu64.tar.gz\n/tmp$ tar zxf sratoolkit.2.5.6-ubuntu64.tar.gz -C ~/app\n\n\n\n\n2.2.2 \u4e0b\u8f7d SRA \u683c\u5f0f\u6587\u4ef6\n\u00b6\n\n\n\u5982\u679c\u4f60\u5b89\u88c5\u5e76\u8bbe\u7f6e\u4e86 \nAspera Connect\n\uff0c\u90a3\u4e48\nprefetch\n\u4f1a\u4f18\u5148\u4f7f\u7528\nascp\n\u65b9\u5f0f\u6765\u4e0b\u8f7d\uff0c\u5982\u679c\u6ca1\u6709\u5b89\u88c5\u6216\u5219\nascp\n\u4e0b\u8f7d\u5931\u8d25\uff0c\u5219\u5207\u6362\u6210 HTTP \u65b9\u5f0f\u4e0b\u8f7d sra \u6570\u636e\u3002\u53e6\u5916\nfastq-dump\n\u547d\u4ee4\u4e5f\u80fd\u4ece\u8fdc\u7aef\u76f4\u63a5\u4e0b\u8f7d\u6570\u636e\uff0c\u52a0\u4e0a\n-X 1\n\u53c2\u6570\uff0c\u4f1a\u9884\u5148\u4e0b\u8f7d\u6700\u524d\u76845\u4e2a reads\uff0c\u52a0\u4e0a\n-Z\n\u53c2\u6570\uff0c\u5219\u4f1a\u5c06\u8fd9\u4e9b reads \u6253\u5370\u5230\u7ec8\u7aef\u8f93\u51fa\u3002\n\n\n# \u4e0b\u8f7d SRR955386.sra \u5230 \u4f60\u5b89\u88c5 sratoolkit \u65f6\u914d\u7f6e\u7684 public \u76ee\u5f55\u4e2d\uff0c\u9ed8\u8ba4\u662f ~/ncbi/public/sra\n~$ prefetch -v SRR955386\n# \u4e0b\u8f7d SRR955386.sra \u5230 \u4f60\u5b89\u88c5 sratoolkit \u65f6\u914d\u7f6e\u7684 public \u76ee\u5f55\u4e2d\uff0c\u9ed8\u8ba4\u662f ~/ncbi/public/sra\uff0c\u5e76\u4e14\u5728\u7ec8\u7aef\u8f93\u51fa5\u884c reads \u6570\u636e\u3002\n~$ fastq-dump -X 5 -Z SRR955386\n\n\n\n\n2.2.3 \u5e76\u8f6c\u6362\u6210 .fastq \u683c\u5f0f\n\u00b6\n\n\n\u83b7\u5f97\u4e86 .sra \u6587\u4ef6\u540e\uff0c\u9700\u8981\u5c06\u5176\u8f6c\u6362\u6210 .fastq \u683c\u5f0f\u7684\u6587\u4ef6\uff0c\u7528\nfastq-dump\n\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u5b9e\u73b0\u3002\u8f6c\u6362\u4e4b\u524d\u8981\u6ce8\u610f\u7684\u662f\u8be5 run \u7684 metadata \u91cc\uff0c\u6d4b\u5e8f\u7c7b\u578b\u662f SE \u8fd8\u662f PE \u7684\u3002\n\n\n# \u5c06 sra \u6587\u4ef6\u79fb\u52a8\u5230 ~/data \u76ee\u5f55\u4e2d\n\n~$ mv ~/.ncbi/public/sra/SRR955386.sra ~/data\n\n# \u5982\u679c\u662f SE \u6d4b\u5e8f\u6570\u636e\uff0c\u76f4\u63a5\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\n\n~$ fastq-dump SRR955386.sra\n\n# \u5982\u679c\u662f PE \u6d4b\u5e8f\u6570\u636e\uff0c\u5219\u8981\u6dfb\u52a0\u53c2\u6570\uff1a--split-files\n\n~$ fastq-dump --split-files SRR955386.sra\n\n\n\n\n2.2.4 SE/PE \u6587\u4ef6\u5224\u65ad\n\u00b6\n\n\n\u6b63\u5e38\u7684 sra \u6587\u4ef6\u7684 metadata \u5e94\u8be5\u5305\u542b\u6d4b\u5e8f\u91c7\u7528\u7684\u662f SE \u8fd8\u662f PE \u7684\u65b9\u5f0f\u3002\u4f46\u5982\u679c\u4f60\u4e0d\u77e5\u9053\u6240\u4e0b\u8f7d\u7684\u5230\u5e95\u662f SE \u8fd8\u662f PE \u683c\u5f0f\u7684\u6587\u4ef6\u53ef\u4ee5\u7528\nfastq-dump -X 1 --split-spot\n\u7684\u65b9\u6cd5\u6765\u5224\u65ad\u3002\n\n\n# it's SE if nreads=1, and PE when nreads=2\uff0c\u7edf\u8ba1\u6574\u4e2a\u6587\u4ef6\uff0c\u56e0\u6b64\u901f\u5ea6\u6bd4\u8f83\u6162\n\n~$ sra-stat -xs SRR955386.sra \n|\n grep \n\"nreads\"\n\n\n\n# \u5982\u679c\u8f93\u51fa\u662f4\uff0c\u90a3\u4e48\u5c31\u662fSE\uff0c\u5982\u679c\u662f8,\u5219\u662fPE\n\n~$ fastq-dump -X \n1\n --split-spot -Z SRR955386.sra \n|\n wc -l\n\n\n# \u6216\u8005\u52a0\u4e0a\u53c2\u6570\u8ba9 fastq-dump \u81ea\u5df1\u5224\u65ad\n\n\n# \u5f53 sra \u6587\u4ef6\u662f SE \u6d4b\u5e8f\u65f6\uff0cfastq-dump\u53ea\u80fddump\u51fa1\u4e2a *_1.fastq \u6587\u4ef6\n\n~$ fastq-dump --split-files ERR493452.sra\n~$ mv ERR493452_1.fastq ERR493452.fastq\n\n\n\n\n\u5f53\u9700\u8981\u5224\u65ad\u6279\u91cf\u4e0b\u8f7d\u7684 sra \u6587\u4ef6\u65f6\uff0c\u533a\u5206\u90a3\u4e9b\u662f PE \u7684\u90a3\u4e9b\u662f SE \u7684\u6587\u4ef6\uff0c\u53ef\u4ee5\u7528\u4ee5\u4e0b\u811a\u672c\uff1a\n\n\nimport\n \nos\n\n\nimport\n \nsubprocess\n\n\n\n\ndef\n \ncheck_SRA_type\n(\nfn\n):\n\n    \nfn\n \n=\n \nos\n.\npath\n.\nabspath\n(\nfn\n);\n\n    \ntry\n:\n\n        \ncontents\n \n=\n \nsubprocess\n.\ncheck_output\n([\n\"fastq-dump\"\n,\n \n\"-X\"\n,\n \n\"1\"\n,\n \n\"-Z\"\n,\n \n\"--split-spot\"\n,\n \nfn\n]);\n\n    \nexcept\n \nsubprocess\n.\nCalledProcessError\n,\n \ne\n:\n\n        \nraise\n \nException\n(\n\"Error running fastq-dump on\"\n,\n \nfn\n);\n\n    \n# -X 1 will output 4 lines if SE, and 8 lines if PE\n\n    \nif\n(\ncontents\n.\ncount\n(\n\"\n\\n\n\"\n)\n \n==\n \n4\n):\n\n        \nreturn\n \nFalse\n;\n\n    \nelif\n(\ncontents\n.\ncount\n(\n\"\n\\n\n\"\n)\n \n==\n \n8\n):\n\n        \nreturn\n \nTrue\n:\n\n    \nelse\n:\n\n        \nraise\n \nException\n(\n\"Unexpected output from fastq-dump on \"\n,\n \nfilename\n);\n\n\n\n\n\n2.2.5 \u5229\u7528entrez\u6279\u91cf\u4e0b\u8f7d\n\u00b6\n\n\n\u5982\u679c\u60f3\u4e0b\u8f7d\u4e00\u4e2a\u5b8c\u6574\u7684 project \u6570\u636e\uff0c\u53ef\u4ee5\u5229\u7528 entrezdirect \u5de5\u5177\u3002\n\n\n~/tmp$ wget ftp://ftp.ncbi.nlm.nih.gov/entrez/entrezdirect/edirect.tar.gz\n~/tmp$ tar zxvf edirect.tar.gz -C ~/app\n~/tmp$ sudo ln -s ~/app/edirect/* /usr/local/sbin/\n~/data$ esearch -db sra -query PRJNA40075  \n|\n efetch --format runinfo \n|\n cut -d \n','\n -f \n1\n \n|\n grep SRR \n|\n xargs fastq-dump --split-files\n\n\n\n\n\u5982\u679c\u60f3\u4e0b\u8f7d\u4e0d\u540c research \u7684\u6570\u636e\uff0c\u53ef\u4ee5\u81ea\u5df1\u5efa\u7acb\u4e00\u4e2a accession number list \u7684\u6587\u4ef6\uff0c\u6bd4\u5982\u5229\u7528 \nNCBI\n \u7684 entrez \u7f51\u9875\u754c\u9762\uff0c\u5bfc\u51fa\u6240\u9700\u8981\u7684\u6570\u636e accession number\uff0c\u7136\u540e\u5229\u7528 \nascp\n \u4e0b\u8f7d\u3002\u4e0d\u8fc7\u5efa\u8bae\nascp\n\u4e0b\u8f7d\u4e0d\u8981\u592a\u72e0\u5fc3\uff0c\u5426\u5219\u5bb9\u6613\u88ab \nNCBI\n \u7ed9\u5c01\u6389\u3002\n\n\n2. Assembly \u6570\u636e\u5e93\n\u00b6\n\n\n\u5982\u679c\u4e0d\u9700\u8981\u7814\u7a76 reads \u6570\u636e\uff0c\u800c\u662f\u53ea\u60f3\u7814\u7a76\u62fc\u63a5\u7684\u57fa\u56e0\u7ec4\u6570\u636e\uff0c\u53ef\u4ee5\u4ece NCBI assembly \u6570\u636e\u5e93\u53bb\u5bfb\u627e\u6570\u636e\uff0c\u5e76\u901a\u8fc7 ascp/ftp \u7b49\u5de5\u5177\u4e0b\u8f7d\u3002\n\n\n3. \u4e0a\u4f20\u6570\u636e\n\u00b6\n\n\nSRA \u4e0a\u4f20\u6d4b\u5e8f\u7ed3\u679c\u53ef\u4ee5\u53c2\u7167 \nNCBI\u6587\u6863\n \u6765\u5b9e\u73b0\u3002\u4e00\u822c\u4e0a\u4f20\u6570\u636e\u5230NCBI SRA\u7684\u8fc7\u7a0b\u9700\u89816\u6b65\uff1a\n\n\n\n\nCreate a BioProject for this research\n\n\nCreate a BioSample submission for your biological sample(s)\n\n\nGather Sequence Data Files\n\n\nEnter Metadata on SRA website\n  4.1 Create SRA submission\n  4.2 Create Experiment(s) and link to BioProject and BioSample\n  4.3 Create Run(s)\n\n\nTransfer Data files to SRA\n\n\nUpdate Submission with PubMed links, Release Date, or Metadata Changes\n\n\n\n\n\u9700\u8981\u6ce8\u610f\u7684\u4e00\u70b9\u662f\uff0c\u4e0a\u4f20\u7684\u8fc7\u7a0b\u4e2d\u5f88\u591a\u5730\u65b9\u4e00\u65e6\u4fdd\u5b58\u6216\u63d0\u4ea4\u5c31\u4e0d\u53ef\u4ee5\u4fee\u6539\uff0c\u5c24\u5176\u662f\u5404\u5904\u7684Alias\u3002\u4f46\u662f\uff0c\u53ef\u4ee5\u8054\u7cfbNCBI\u7684\u5de5\u4f5c\u4eba\u5458\u4fee\u6539\u5185\u5bb9\u3002NCBI\u7684\u5de5\u4f5c\u6548\u7387\u662f\u5f88\u9ad8\u7684\uff0c\u4e00\u822c\u4e0d\u8d85\u8fc748\u5c0f\u65f6\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u786e\u8ba4\uff0c\u5e76\u62ff\u5230\u767b\u5f55\u53f7\u3002\n\n\nReference\n\u00b6\n\n\n\n\nNCBI\u4e0a\u4f20\u6570\u636e\u6587\u6863\n\n\n\u718a\u7b71\u6676, NCBI\u9ad8\u901a\u91cf\u6d4b\u5e8f\u6570\u636e\u5e93SRA\u4ecb\u7ecd, \u751f\u547d\u7684\u5316\u5b66[J], 2010:6, 959-963.\n\n\nhttp://blog.sciencenet.cn/blog-656335-908140.html\n\n\nhttps://www.biostars.org/p/139422/\n\n\nhttps://www.youtube.com/watch?v=NSIkUHKRPpo",
            "title": "01 \u751f\u7269\u516c\u5171\u6570\u636e\u5e93"
        },
        {
            "location": "/chapter_03/01_databases/#_1",
            "text": "\u6d4b\u5e8f\u7684\u6570\u636e\u5982\u539f\u59cb reads \u6570\u636e\u6211\u4eec\u53ef\u4ee5\u4e0a\u4f20\u5230 NCBI \u6216 EBI \u7684\u516c\u5171\u6570\u636e\u5e93\uff0c\u53d1\u8868\u7684\u6587\u7ae0\u4e2d\u53ef\u4ee5\u4f7f\u7528\u3002\u6b64\u5916\u516c\u5171\u6570\u636e\u5e93\u4e2d\u7684\u6570\u636e\u4e5f\u53ef\u4ee5\u4e3a\u6211\u4eec\u7684\u7814\u7a76\u63d0\u4f9b\u5e2e\u52a9\u3002\u672c\u8282\u6211\u4eec\u5c31\u6765\u4e86\u89e3\u4e00\u4e0b\u5982\u4f55\u4e0a\u4f20\u548c\u4e0b\u8f7d\u57fa\u56e0\u7ec4\u6d4b\u5e8f\u6570\u636e\u3002\u9996\u5148\u8ba9\u6211\u4eec\u6765\u4e86\u89e3\u4e00\u4e0b\u7f51\u7edc\u4e0a\u7684\u6d4b\u5e8f\u516c\u5171\u6570\u636e\u5e93\uff1a  \u5e38\u89c1\u7684\u6d4b\u5e8f\u516c\u5171\u6570\u636e\u5e93\uff1a   SRA  \u77ed\u5e8f\u5217\u6570\u636e\u5e93\uff1a\u7531  NCBI  \u8d1f\u8d23\u7ef4\u62a4  ENA  \u6b27\u6d32\u6838\u9178\u6570\u636e\u5e93\uff1a\u7531  EBI  \u8d1f\u8d23\u7ef4\u62a4  GSA  \u4e2d\u56fd\u7ec4\u5b66\u6570\u636e\u5e93\uff1a\u7531 \u4e2d\u79d1\u9662\u5317\u4eac\u57fa\u56e0\u7814\u7a76\u6240 \u8d1f\u8d23\u7ef4\u62a4   SRA  \u662f  NCBI  \u4e3a\u4e86\u5e94\u5bf9\u8d8a\u6765\u8d8a\u591a\u7684\u9ad8\u901a\u91cf\u6d4b\u5e8f\u6570\u636e\u800c\u5728 2007 \u5e74\u5e95\u63a8\u51fa\u7684\u6d4b\u5e8f\u6570\u636e\u5e93\uff0c\u7528\u4e8e\u5b58\u50a8\u3001\u663e\u793a\u3001\u63d0\u53d6\u548c\u5206\u6790\u9ad8\u901a\u91cf\u6d4b\u5e8f\u6570\u636e\u3002\u800c  ENA  \u5219\u662f\u7531  EBI  \u8d1f\u8d23\u7ef4\u62a4\u7684\u529f\u80fd\u7c7b\u4f3c\u7684\u6570\u636e\u5e93\uff0c\u540c\u65f6\u4f5c\u4e3a  Ensembl \u3001 UniProt  \u548c  ArrayExpress  \u7b49\u670d\u52a1\u7684\u5e95\u5c42\u57fa\u7840\u30022\u8005\u5728\u4e3b\u8981\u529f\u80fd\u65b9\u9762\u975e\u5e38\u7c7b\u4f3c\uff0c\u540c\u65f6\u6570\u636e\u4e92\u901a\u3002",
            "title": "\u57fa\u56e0\u7ec4\u516c\u5171\u6570\u636e\u5e93"
        },
        {
            "location": "/chapter_03/01_databases/#1-sra",
            "text": "",
            "title": "1. SRA \u6570\u636e\u5e93"
        },
        {
            "location": "/chapter_03/01_databases/#11",
            "text": "SRA  \u662f Sequence Read Archive \u7684\u9996\u5b57\u6bcd\u7f29\u5199\u3002SRA \u4e0e Trace \u6700\u5927\u7684\u533a\u522b\u662f\u5c06\u5b9e\u9a8c\u6570\u636e\u4e0e metadata\uff08\u5143\u6570\u636e\uff09\u5206\u79bb\u3002metadata \u662f\u6307\u4e0e\u6d4b\u5e8f\u5b9e\u9a8c\u53ca\u5176\u5b9e\u9a8c\u6837\u54c1\u76f8\u5173\u7684\u6570\u636e\uff0c\u5982\u5b9e\u9a8c\u76ee\u7684\u3001\u5b9e\u9a8c\u8bbe\u8ba1\u3001\u6d4b\u5e8f\u5e73\u53f0\u3001\u6837\u672c\u6570\u636e(\u7269\u79cd\uff0c\u83cc\u682a\uff0c\u4e2a\u4f53\u8868\u578b\u7b49)\u3002metadata\u53ef\u4ee5\u5206\u4e3a\u4ee5\u4e0b\u51e0\u7c7b\uff1a   Study\uff1aaccession number \u4ee5 DRP\uff0cSRP\uff0cERP \u5f00\u5934\uff0c\u8868\u793a\u7684\u662f\u4e00\u4e2a\u7279\u5b9a\u76ee\u7684\u7684\u7814\u7a76\u8bfe\u9898\uff0c\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u7814\u7a76\u673a\u6784\u548c\u7814\u7a76\u7c7b\u578b\u7b49\u3002study \u5305\u542b\u4e86\u9879\u76ee\u7684\u6240\u6709 metadata\uff0c\u5e76\u6709\u4e00\u4e2a NCBI \u548c EBI \u5171\u540c\u627f\u8ba4\u7684\u9879\u76ee\u7f16\u53f7\uff08universal project id\uff09\uff0c\u4e00\u4e2a study \u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u5b9e\u9a8c\uff08experiment\uff09\u3002  Sample\uff1aaccession number\u4ee5 DRS\uff0cSRS\uff0cERS \u5f00\u5934\uff0c\u8868\u793a\u7684\u662f\u6837\u54c1\u4fe1\u606f\u3002\u6837\u672c\u4fe1\u606f\u53ef\u4ee5\u5305\u62ec\u7269\u79cd\u4fe1\u606f\u3001\u83cc\u682a(\u54c1\u7cfb) \u4fe1\u606f\u3001\u5bb6\u7cfb\u4fe1\u606f\u3001\u8868\u578b\u6570\u636e\u3001\u4e34\u5e8a\u6570\u636e,\u7ec4\u7ec7\u7c7b\u578b\u7b49\u3002\u53ef\u4ee5\u901a\u8fc7 Trace  \u6765\u67e5\u8be2\u3002  Experiment\uff1aaccession number \u4ee5 DRX\uff0cSRX\uff0cERX \u5f00\u5934\u3002\u8868\u793a\u4e00\u4e2a\u5b9e\u9a8c\u8bb0\u8f7d\u7684\u5b9e\u9a8c\u8bbe\u8ba1\uff08Design\uff09\uff0c\u5b9e\u9a8c\u5e73\u53f0\uff08Platform\uff09\u548c\u7ed3\u679c\u5904\u7406\uff08processing\uff09\u4e09\u90e8\u5206\u4fe1\u606f\u3002\u5b9e\u9a8c\u662f  SRA  \u6570\u636e\u5e93\u7684\u6700\u57fa\u672c\u5355\u5143\uff0c\u4e00\u4e2a\u5b9e\u9a8c\u4fe1\u606f\u53ef\u4ee5\u540c\u65f6\u5305\u542b\u591a\u4e2a\u7ed3\u679c\u96c6\uff08run\uff09\u3002  Run\uff1aaccession number \u4ee5DRR\uff0cSRR\uff0cERR \u5f00\u5934\u3002\u4e00\u4e2a Run \u5305\u62ec\u6d4b\u5e8f\u5e8f\u5217\u53ca\u8d28\u91cf\u6570\u636e\u3002  Submission\uff1a\u4e00\u4e2a study \u7684\u6570\u636e\uff0c\u53ef\u4ee5\u5206\u591a\u6b21\u9012\u4ea4\u81f3 SRA \u6570\u636e\u5e93\u3002\u6bd4\u5982\u5728\u4e00\u4e2a\u9879\u76ee\u542f\u52a8\u524d\u671f\uff0c\u5c31\u53ef\u4ee5\u628a study\uff0cexperiment \u7684\u6570\u636e\u9012\u4ea4\u4e0a\u53bb\uff0c\u968f\u7740\u9879\u76ee\u7684\u8fdb\u5c55\uff0c\u9010\u6279\u9012\u4ea4 run \u6570\u636e\u3002study \u7b49\u540c\u4e8e\u9879\u76ee\uff0csubmission \u7b49\u540c\u4e8e\u6279\u6b21\u7684\u6982\u5ff5\u3002",
            "title": "1.1 \u7b80\u4ecb"
        },
        {
            "location": "/chapter_03/01_databases/#12",
            "text": "",
            "title": "1.2 \u6570\u636e\u4e0b\u8f7d"
        },
        {
            "location": "/chapter_03/01_databases/#121-aspera-sra",
            "text": "Aspera \u4ecb\u7ecd  Aspera  \u662f IBM \u5f00\u53d1\u7684\u52a0\u901f\u5728\u7ebf\u6570\u636e\u4f20\u8f93\u7684\u4e00\u7ec4\u670d\u52a1\u5668\u7aef\u4e0e\u5ba2\u6237\u7aef\u7684\u5e94\u7528\u7a0b\u5e8f\u3002 Aspera  \u7684\u5404\u4e2a\u5de5\u5177\u53ef\u4ee5\u5728  \u5b98\u65b9\u7f51\u7ad9  \u4e0b\u8f7d\u83b7\u5f97\u3002  \u5728\u670d\u52a1\u5668\u4e0a\u6211\u4eec\u53ea\u9700\u8981\u547d\u4ee4\u884c\u5de5\u5177  ascp  \u5373\u53ef\u3002\u800c\u5bf9\u4e8e\u684c\u9762\u7528\u6237\u6765\u8bf4\uff0c\u53ef\u4ee5\u9009\u62e9\u5b89\u88c5  Aspera Connent  \u7b49\u5de5\u5177\u3002\u7531\u4e8e Ascp Client \u5de5\u5177\u9700\u8981\u767b\u5f55\u540e\u624d\u80fd\u4e0b\u8f7d\uff0c\u56e0\u6b64\u9009\u62e9\u4e86  Aspera Connect  \u6765\u5b89\u88c5\u3002\u5b83\u662f  Aspera  \u7528\u4e8e\u6d4f\u89c8\u5668\u4e0b\u8f7d\u7684\u9ad8\u6548\u63d2\u4ef6\uff0c\u5176\u5185\u5d4c\u4e86  ascp  \u547d\u4ee4\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5728\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u3002\u5b89\u88c5\u4e86  Aspera Connect  \u7684\u5e26\u56fe\u5f62\u754c\u9762\u7684\u5ba2\u6237\u7aef\uff0c\u6d4f\u89c8\u5668\u4f1a\u5728\u6709 Connect, Faspex \u6216\u8005 Shares \u9875\u9762\u7684\u94fe\u63a5\u5904\u6dfb\u52a0 ascp \u4e0b\u8f7d\u5feb\u6377\u6309\u94ae\u3002  \u5b89\u88c5 aspera connect  Aspera Connect  \u4e0b\u8f7d\u89e3\u538b\u7f29\u540e\uff0c\u53ef\u4ee5\u770b\u5230\u4e00\u4e2a .sh \u6587\u4ef6\uff0c\u6267\u884c\u540e\u8fd0\u884c\u540e\u4f1a\u5b89\u88c5\u5230\u5f53\u524d\u7528\u6237 $HOME.aspera/connect \u76ee\u5f55\u4e0b\u3002  # \u4e0b\u8f7d\u5e76\u89e3\u538b\u7f29\u7a0b\u5e8f\n$ wget http://download.asperasoft.com/download/sw/connect/3.6.1/aspera-connect-3.6.1.110647-linux-64.tar.gz\n$ tar zxf asper-connect-3.6.1.110647-linux.tar.gz\n\n# \u5b89\u88c5\u5230\u672c\u5730\u7528\u6237\n$ ./aspera-connect-3.6.1.110647-linux-64.sh\n\n# \u6dfb\u52a0\u7528\u6237\u6267\u884c\u8def\u5f84\n$ echo 'PATH=\"$PATH:$HOME/.aspera/connect/bin/\"' >> ~/.bashrc  \u5bf9\u4e8e\u559c\u6b22\u4f7f\u7528\u5ba2\u6237\u7aef\u7684\u684c\u9762\u7528\u6237\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528  Aspera Desktop Client  \u5ba2\u6237\u7aef\u7a0b\u5e8f\u6765\u4e0b\u8f7d\u6570\u636e\u3002  $ sed  's/^INSTALL_DIR/INSTALL_DIR=~/envs/srst2/src/ascp/connect/'  aspera-connect-3.6.1.110647-linux-64.sh > install.sh\n/tmp$ ./install.sh  \u4e0b\u8f7d SRA \u6570\u636e   \u6ce8\u610f  \u6ce8\u610f\u65b0\u7248\u7684 ascp \u7528 .openssh \u4f5c\u4e3a\u5bc6\u94a5\u6587\u4ef6\u800c\u4e0d\u662f\u539f\u6765\u7684 .putty   # ascp \u4e0b\u8f7d SRA \u6570\u636e\n$ ascp -i ~/.aspera/connect/etc/asperaweb_id_dsa.openssh \\\n> --user=anonftp --host=ftp.ncbi.nlm.nih.gov --mode=recv -l 100m -pQTk1 \\\n> /sra/sra-instant/reads/ByRun/sra/SRR/SRR955/SRR955386/SRR955386.sra .\n\n# \u6dfb\u52a0 alias \u7b80\u5316\u64cd\u4f5c\n$ echo \"alias ascp='ascp -i ~/.ascpera/connect/etc/asperaweb_id_dsa.openssh --user=dbtest --host=sra-download.ncbi.nlm.nih.gov --mode=recv -l 100m -pQTk1'\" >> ~/.bashrc\n$ source ~/.bashrc\n\n# \u6d4b\u8bd5\u4e0b\u8f7d\n$ ascp /data/sracloud/srapub/ERR579922 ./ERR578822.sra",
            "title": "1.2.1 \u7528 Aspera \u5de5\u5177\u4e0b\u8f7d SRA"
        },
        {
            "location": "/chapter_03/01_databases/#122-ftp",
            "text": "\u4ece\u56fd\u5185\u516c\u7f51\u8bbf\u95ee NCBI FTP \u670d\u52a1\u5668\u5f80\u5f80\u662f\u975e\u5e38\u7f13\u6162\u7684\uff0c\u800c  EBI  \u5c31\u4e0d\u540c\u4e86\uff0c\u6709\u4e9b\u5730\u65b9\u7684\u901f\u5ea6\u5f88\u5feb\uff0c\u4e0b\u8f7d\u751a\u81f3\u53ef\u4ee5\u8d85\u8fc7  Aspera \u3002\u7531\u4e8e  NCBI  \u548c  EBI  \u5171\u4eab\u6570\u636e\u5e93\uff0c\u56e0\u6b64\u5bf9\u4e8e\u56fd\u5185  NCBI  \u4e0b\u8f7d\u7f13\u6162\u6216\u8005\u65e0\u6cd5\u7528 ascp \u7684\u7528\u6237\uff0c\u53ef\u4ee5\u8003\u8651\u5728  EBI  \u4e0b\u8f7d\u6570\u636e\u3002",
            "title": "1.2.2 ftp \u4e0b\u8f7d"
        },
        {
            "location": "/chapter_03/01_databases/#22-sratoolkit",
            "text": "NCBI  \u5f00\u53d1\u4e86  sratoolkit  \u5de5\u5177\u6765\u5e2e\u52a9\u5904\u7406 SRA \u6570\u636e\uff0c\u6b63\u786e\u914d\u7f6e\u540e\u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u4e0b\u8f7d SRA \u6570\u636e\u3002",
            "title": "2.2 sratoolkit"
        },
        {
            "location": "/chapter_03/01_databases/#221-sratoolkit",
            "text": "\u53ef\u4ee5\u76f4\u63a5\u4ece  NCBI  \u4e0a\u4e0b\u8f7d\u3002\u6700\u65b0\u7684\u6e90\u7801\u53ef\u4ee5\u5728  Github  \u83b7\u5f97\u3002  # download from NCBI \n~$  cd  /tmp\n/tmp$ wget http://ftp-trace.ncbi.nlm.nih.gov/sra/sdk/2.5.6/sratoolkit.2.5.6-ubuntu64.tar.gz\n/tmp$ tar zxf sratoolkit.2.5.6-ubuntu64.tar.gz -C ~/app",
            "title": "2.2.1 \u5b89\u88c5sratoolkit"
        },
        {
            "location": "/chapter_03/01_databases/#222-sra",
            "text": "\u5982\u679c\u4f60\u5b89\u88c5\u5e76\u8bbe\u7f6e\u4e86  Aspera Connect \uff0c\u90a3\u4e48 prefetch \u4f1a\u4f18\u5148\u4f7f\u7528 ascp \u65b9\u5f0f\u6765\u4e0b\u8f7d\uff0c\u5982\u679c\u6ca1\u6709\u5b89\u88c5\u6216\u5219 ascp \u4e0b\u8f7d\u5931\u8d25\uff0c\u5219\u5207\u6362\u6210 HTTP \u65b9\u5f0f\u4e0b\u8f7d sra \u6570\u636e\u3002\u53e6\u5916 fastq-dump \u547d\u4ee4\u4e5f\u80fd\u4ece\u8fdc\u7aef\u76f4\u63a5\u4e0b\u8f7d\u6570\u636e\uff0c\u52a0\u4e0a -X 1 \u53c2\u6570\uff0c\u4f1a\u9884\u5148\u4e0b\u8f7d\u6700\u524d\u76845\u4e2a reads\uff0c\u52a0\u4e0a -Z \u53c2\u6570\uff0c\u5219\u4f1a\u5c06\u8fd9\u4e9b reads \u6253\u5370\u5230\u7ec8\u7aef\u8f93\u51fa\u3002  # \u4e0b\u8f7d SRR955386.sra \u5230 \u4f60\u5b89\u88c5 sratoolkit \u65f6\u914d\u7f6e\u7684 public \u76ee\u5f55\u4e2d\uff0c\u9ed8\u8ba4\u662f ~/ncbi/public/sra\n~$ prefetch -v SRR955386\n# \u4e0b\u8f7d SRR955386.sra \u5230 \u4f60\u5b89\u88c5 sratoolkit \u65f6\u914d\u7f6e\u7684 public \u76ee\u5f55\u4e2d\uff0c\u9ed8\u8ba4\u662f ~/ncbi/public/sra\uff0c\u5e76\u4e14\u5728\u7ec8\u7aef\u8f93\u51fa5\u884c reads \u6570\u636e\u3002\n~$ fastq-dump -X 5 -Z SRR955386",
            "title": "2.2.2 \u4e0b\u8f7d SRA \u683c\u5f0f\u6587\u4ef6"
        },
        {
            "location": "/chapter_03/01_databases/#223-fastq",
            "text": "\u83b7\u5f97\u4e86 .sra \u6587\u4ef6\u540e\uff0c\u9700\u8981\u5c06\u5176\u8f6c\u6362\u6210 .fastq \u683c\u5f0f\u7684\u6587\u4ef6\uff0c\u7528 fastq-dump \u53ef\u4ee5\u5f88\u65b9\u4fbf\u7684\u5b9e\u73b0\u3002\u8f6c\u6362\u4e4b\u524d\u8981\u6ce8\u610f\u7684\u662f\u8be5 run \u7684 metadata \u91cc\uff0c\u6d4b\u5e8f\u7c7b\u578b\u662f SE \u8fd8\u662f PE \u7684\u3002  # \u5c06 sra \u6587\u4ef6\u79fb\u52a8\u5230 ~/data \u76ee\u5f55\u4e2d \n~$ mv ~/.ncbi/public/sra/SRR955386.sra ~/data # \u5982\u679c\u662f SE \u6d4b\u5e8f\u6570\u636e\uff0c\u76f4\u63a5\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4 \n~$ fastq-dump SRR955386.sra # \u5982\u679c\u662f PE \u6d4b\u5e8f\u6570\u636e\uff0c\u5219\u8981\u6dfb\u52a0\u53c2\u6570\uff1a--split-files \n~$ fastq-dump --split-files SRR955386.sra",
            "title": "2.2.3 \u5e76\u8f6c\u6362\u6210 .fastq \u683c\u5f0f"
        },
        {
            "location": "/chapter_03/01_databases/#224-sepe",
            "text": "\u6b63\u5e38\u7684 sra \u6587\u4ef6\u7684 metadata \u5e94\u8be5\u5305\u542b\u6d4b\u5e8f\u91c7\u7528\u7684\u662f SE \u8fd8\u662f PE \u7684\u65b9\u5f0f\u3002\u4f46\u5982\u679c\u4f60\u4e0d\u77e5\u9053\u6240\u4e0b\u8f7d\u7684\u5230\u5e95\u662f SE \u8fd8\u662f PE \u683c\u5f0f\u7684\u6587\u4ef6\u53ef\u4ee5\u7528 fastq-dump -X 1 --split-spot \u7684\u65b9\u6cd5\u6765\u5224\u65ad\u3002  # it's SE if nreads=1, and PE when nreads=2\uff0c\u7edf\u8ba1\u6574\u4e2a\u6587\u4ef6\uff0c\u56e0\u6b64\u901f\u5ea6\u6bd4\u8f83\u6162 \n~$ sra-stat -xs SRR955386.sra  |  grep  \"nreads\"  # \u5982\u679c\u8f93\u51fa\u662f4\uff0c\u90a3\u4e48\u5c31\u662fSE\uff0c\u5982\u679c\u662f8,\u5219\u662fPE \n~$ fastq-dump -X  1  --split-spot -Z SRR955386.sra  |  wc -l # \u6216\u8005\u52a0\u4e0a\u53c2\u6570\u8ba9 fastq-dump \u81ea\u5df1\u5224\u65ad  # \u5f53 sra \u6587\u4ef6\u662f SE \u6d4b\u5e8f\u65f6\uff0cfastq-dump\u53ea\u80fddump\u51fa1\u4e2a *_1.fastq \u6587\u4ef6 \n~$ fastq-dump --split-files ERR493452.sra\n~$ mv ERR493452_1.fastq ERR493452.fastq  \u5f53\u9700\u8981\u5224\u65ad\u6279\u91cf\u4e0b\u8f7d\u7684 sra \u6587\u4ef6\u65f6\uff0c\u533a\u5206\u90a3\u4e9b\u662f PE \u7684\u90a3\u4e9b\u662f SE \u7684\u6587\u4ef6\uff0c\u53ef\u4ee5\u7528\u4ee5\u4e0b\u811a\u672c\uff1a  import   os  import   subprocess  def   check_SRA_type ( fn ): \n     fn   =   os . path . abspath ( fn ); \n     try : \n         contents   =   subprocess . check_output ([ \"fastq-dump\" ,   \"-X\" ,   \"1\" ,   \"-Z\" ,   \"--split-spot\" ,   fn ]); \n     except   subprocess . CalledProcessError ,   e : \n         raise   Exception ( \"Error running fastq-dump on\" ,   fn ); \n     # -X 1 will output 4 lines if SE, and 8 lines if PE \n     if ( contents . count ( \" \\n \" )   ==   4 ): \n         return   False ; \n     elif ( contents . count ( \" \\n \" )   ==   8 ): \n         return   True : \n     else : \n         raise   Exception ( \"Unexpected output from fastq-dump on \" ,   filename );",
            "title": "2.2.4 SE/PE \u6587\u4ef6\u5224\u65ad"
        },
        {
            "location": "/chapter_03/01_databases/#225-entrez",
            "text": "\u5982\u679c\u60f3\u4e0b\u8f7d\u4e00\u4e2a\u5b8c\u6574\u7684 project \u6570\u636e\uff0c\u53ef\u4ee5\u5229\u7528 entrezdirect \u5de5\u5177\u3002  ~/tmp$ wget ftp://ftp.ncbi.nlm.nih.gov/entrez/entrezdirect/edirect.tar.gz\n~/tmp$ tar zxvf edirect.tar.gz -C ~/app\n~/tmp$ sudo ln -s ~/app/edirect/* /usr/local/sbin/\n~/data$ esearch -db sra -query PRJNA40075   |  efetch --format runinfo  |  cut -d  ','  -f  1   |  grep SRR  |  xargs fastq-dump --split-files  \u5982\u679c\u60f3\u4e0b\u8f7d\u4e0d\u540c research \u7684\u6570\u636e\uff0c\u53ef\u4ee5\u81ea\u5df1\u5efa\u7acb\u4e00\u4e2a accession number list \u7684\u6587\u4ef6\uff0c\u6bd4\u5982\u5229\u7528  NCBI  \u7684 entrez \u7f51\u9875\u754c\u9762\uff0c\u5bfc\u51fa\u6240\u9700\u8981\u7684\u6570\u636e accession number\uff0c\u7136\u540e\u5229\u7528  ascp  \u4e0b\u8f7d\u3002\u4e0d\u8fc7\u5efa\u8bae ascp \u4e0b\u8f7d\u4e0d\u8981\u592a\u72e0\u5fc3\uff0c\u5426\u5219\u5bb9\u6613\u88ab  NCBI  \u7ed9\u5c01\u6389\u3002",
            "title": "2.2.5 \u5229\u7528entrez\u6279\u91cf\u4e0b\u8f7d"
        },
        {
            "location": "/chapter_03/01_databases/#2-assembly",
            "text": "\u5982\u679c\u4e0d\u9700\u8981\u7814\u7a76 reads \u6570\u636e\uff0c\u800c\u662f\u53ea\u60f3\u7814\u7a76\u62fc\u63a5\u7684\u57fa\u56e0\u7ec4\u6570\u636e\uff0c\u53ef\u4ee5\u4ece NCBI assembly \u6570\u636e\u5e93\u53bb\u5bfb\u627e\u6570\u636e\uff0c\u5e76\u901a\u8fc7 ascp/ftp \u7b49\u5de5\u5177\u4e0b\u8f7d\u3002",
            "title": "2. Assembly \u6570\u636e\u5e93"
        },
        {
            "location": "/chapter_03/01_databases/#3",
            "text": "SRA \u4e0a\u4f20\u6d4b\u5e8f\u7ed3\u679c\u53ef\u4ee5\u53c2\u7167  NCBI\u6587\u6863  \u6765\u5b9e\u73b0\u3002\u4e00\u822c\u4e0a\u4f20\u6570\u636e\u5230NCBI SRA\u7684\u8fc7\u7a0b\u9700\u89816\u6b65\uff1a   Create a BioProject for this research  Create a BioSample submission for your biological sample(s)  Gather Sequence Data Files  Enter Metadata on SRA website\n  4.1 Create SRA submission\n  4.2 Create Experiment(s) and link to BioProject and BioSample\n  4.3 Create Run(s)  Transfer Data files to SRA  Update Submission with PubMed links, Release Date, or Metadata Changes   \u9700\u8981\u6ce8\u610f\u7684\u4e00\u70b9\u662f\uff0c\u4e0a\u4f20\u7684\u8fc7\u7a0b\u4e2d\u5f88\u591a\u5730\u65b9\u4e00\u65e6\u4fdd\u5b58\u6216\u63d0\u4ea4\u5c31\u4e0d\u53ef\u4ee5\u4fee\u6539\uff0c\u5c24\u5176\u662f\u5404\u5904\u7684Alias\u3002\u4f46\u662f\uff0c\u53ef\u4ee5\u8054\u7cfbNCBI\u7684\u5de5\u4f5c\u4eba\u5458\u4fee\u6539\u5185\u5bb9\u3002NCBI\u7684\u5de5\u4f5c\u6548\u7387\u662f\u5f88\u9ad8\u7684\uff0c\u4e00\u822c\u4e0d\u8d85\u8fc748\u5c0f\u65f6\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u786e\u8ba4\uff0c\u5e76\u62ff\u5230\u767b\u5f55\u53f7\u3002",
            "title": "3. \u4e0a\u4f20\u6570\u636e"
        },
        {
            "location": "/chapter_03/01_databases/#reference",
            "text": "NCBI\u4e0a\u4f20\u6570\u636e\u6587\u6863  \u718a\u7b71\u6676, NCBI\u9ad8\u901a\u91cf\u6d4b\u5e8f\u6570\u636e\u5e93SRA\u4ecb\u7ecd, \u751f\u547d\u7684\u5316\u5b66[J], 2010:6, 959-963.  http://blog.sciencenet.cn/blog-656335-908140.html  https://www.biostars.org/p/139422/  https://www.youtube.com/watch?v=NSIkUHKRPpo",
            "title": "Reference"
        },
        {
            "location": "/chapter_03/02_fileformat/",
            "text": "DNA Sequence formats\n\u00b6\n\n\nPlain sequence format\n\u00b6\n\n\nA sequence in plain format may contain only IUPAC characters and spaces (no numbers!).\n\n\nNote: A file in plain sequence format may only contain one sequence, while most other formats accept several sequences in one file.\n\n\nAn example sequence in plain format is:\n\n\nACAAGATGCCATTGTCCCCCGGCCTCCTGCTGCTGCTGCTCTCCGGGGCCACGGCCACCGCTGCCCTGCC\nCCTGGAGGGTGGCCCCACCGGCCGAGACAGCGAGCATATGCAGGAAGCGGCAGGAATAAGGAAAAGCAGC\nCTCCTGACTTTCCTCGCTTGGTGGTTTGAGTGGACCTCCCAGGCCAGTGCCGGGCCCCTCATAGGAGAGG\nAAGCTCGGGAGGTGGCCAGGCGGCAGGAAGGCGCACCCCCCCAGCAATCCGCGCGCCGGGACAGAATGCC\nCTGCAGGAACTTCTTCTGGAAGACCTTCTCCTCCTGCAAATAAAACCTCACCCATGAATGCTCACGCAAG\nTTTAATTACAGACCTGAA\n\n\n\n\nEMBL format\n\u00b6\n\n\nA sequence file in EMBL format can contain several sequences.\nOne sequence entry starts with an identifier line (\"ID\"), followed by further annotation lines. The start of the sequence is marked by a line starting with \"SQ\" and the end of the sequence is marked by two slashes (\"//\").\n\n\nAn example sequence in EMBL format is:\n\n\nID   AB000263 standard; RNA; PRI; 368 BP.\nXX\nAC   AB000263;\nXX\nDE   Homo sapiens mRNA for prepro cortistatin like peptide, complete cds.\nXX\nSQ   Sequence 368 BP;\n     acaagatgcc attgtccccc ggcctcctgc tgctgctgct ctccggggcc acggccaccg        60\n     ctgccctgcc cctggagggt ggccccaccg gccgagacag cgagcatatg caggaagcgg       120\n     caggaataag gaaaagcagc ctcctgactt tcctcgcttg gtggtttgag tggacctccc       180\n     aggccagtgc cgggcccctc ataggagagg aagctcggga ggtggccagg cggcaggaag       240\n     gcgcaccccc ccagcaatcc gcgcgccggg acagaatgcc ctgcaggaac ttcttctgga       300\n     agaccttctc ctcctgcaaa taaaacctca cccatgaatg ctcacgcaag tttaattaca       360\n     gacctgaa                                                                368\n//\n\n\n\n\nFASTA format\n\u00b6\n\n\nA sequence file in FASTA format can contain several sequences.\nEach sequence in FASTA format begins with a single-line description, followed by lines of sequence data. The description line must begin with a greater-than (\">\") symbol in the first column.\n\n\nAn example sequence in FASTA format is:\n\n\n>AB000263 |acc=AB000263|descr=Homo sapiens mRNA for prepro cortistatin like peptide, complete cds.|len=368\nACAAGATGCCATTGTCCCCCGGCCTCCTGCTGCTGCTGCTCTCCGGGGCCACGGCCACCGCTGCCCTGCC\nCCTGGAGGGTGGCCCCACCGGCCGAGACAGCGAGCATATGCAGGAAGCGGCAGGAATAAGGAAAAGCAGC\nCTCCTGACTTTCCTCGCTTGGTGGTTTGAGTGGACCTCCCAGGCCAGTGCCGGGCCCCTCATAGGAGAGG\nAAGCTCGGGAGGTGGCCAGGCGGCAGGAAGGCGCACCCCCCCAGCAATCCGCGCGCCGGGACAGAATGCC\nCTGCAGGAACTTCTTCTGGAAGACCTTCTCCTCCTGCAAATAAAACCTCACCCATGAATGCTCACGCAAG\nTTTAATTACAGACCTGAA\n\n\n\n\nGCG format\n\u00b6\n\n\nA sequence file in GCG format contains exactly one sequence, begins with annotation lines and the start of the sequence is marked by a line ending with two dot (\"..\") characters. This line also contains the sequence identifier, the sequence length and a checksum. This format should only be used if the file was created with the GCG package.\n\n\nAn example sequence in GCG format is:\n\n\nID   AB000263 standard; RNA; PRI; 368 BP.\nXX\nAC   AB000263;\nXX\nDE   Homo sapiens mRNA for prepro cortistatin like peptide, complete cds.\nXX\nSQ   Sequence 368 BP;\nAB000263  Length: 368  Check: 4514  ..\n       1  acaagatgcc attgtccccc ggcctcctgc tgctgctgct ctccggggcc acggccaccg\n      61  ctgccctgcc cctggagggt ggccccaccg gccgagacag cgagcatatg caggaagcgg\n     121  caggaataag gaaaagcagc ctcctgactt tcctcgcttg gtggtttgag tggacctccc\n     181  aggccagtgc cgggcccctc ataggagagg aagctcggga ggtggccagg cggcaggaag\n     241  gcgcaccccc ccagcaatcc gcgcgccggg acagaatgcc ctgcaggaac ttcttctgga\n     301  agaccttctc ctcctgcaaa taaaacctca cccatgaatg ctcacgcaag tttaattaca\n     361  gacctgaa\n\n\n\n\nGCG-RSF (rich sequence format)\n\u00b6\n\n\nThe new GCG-RSF can contain several sequences in one file. This format should only be used if the file was created with the GCG package.\n\n\nGenBank format\nA sequence file in GenBank format can contain several sequences.\nOne sequence in GenBank format starts with a line containing the word LOCUS and a number of annotation lines. The start of the sequence is marked by a line containing \"ORIGIN\" and the end of the sequence is marked by two slashes (\"//\").\n\n\nAn example sequence in GenBank format is:\n\n\nLOCUS       AB000263                 368 bp    mRNA    linear   PRI 05-FEB-1999\nDEFINITION  Homo sapiens mRNA for prepro cortistatin like peptide, complete\n            cds.\nACCESSION   AB000263\nORIGIN\n        1 acaagatgcc attgtccccc ggcctcctgc tgctgctgct ctccggggcc acggccaccg\n       61 ctgccctgcc cctggagggt ggccccaccg gccgagacag cgagcatatg caggaagcgg\n      121 caggaataag gaaaagcagc ctcctgactt tcctcgcttg gtggtttgag tggacctccc\n      181 aggccagtgc cgggcccctc ataggagagg aagctcggga ggtggccagg cggcaggaag\n      241 gcgcaccccc ccagcaatcc gcgcgccggg acagaatgcc ctgcaggaac ttcttctgga\n      301 agaccttctc ctcctgcaaa taaaacctca cccatgaatg ctcacgcaag tttaattaca\n      361 gacctgaa\n//\n\n\n\n\nIG format\n\u00b6\n\n\nA sequence file in IG format can contain several sequences, each consisting of a number of comment lines that must begin with a semicolon (\";\"), a line with the sequence name (it may not contain spaces!) and the sequence itself terminated with the termination character '1' for linear or '2' for circular sequences.\n\n\nAn example sequence in IG format is:\n\n\n; comment\n; comment\nAB000263\nACAAGATGCCATTGTCCCCCGGCCTCCTGCTGCTGCTGCTCTCCGGGGCCACGGCCACCGCTGCCCTGCC\nCCTGGAGGGTGGCCCCACCGGCCGAGACAGCGAGCATATGCAGGAAGCGGCAGGAATAAGGAAAAGCAGC\nCTCCTGACTTTCCTCGCTTGGTGGTTTGAGTGGACCTCCCAGGCCAGTGCCGGGCCCCTCATAGGAGAGG\nAAGCTCGGGAGGTGGCCAGGCGGCAGGAAGGCGCACCCCCCCAGCAATCCGCGCGCCGGGACAGAATGCC\nCTGCAGGAACTTCTTCTGGAAGACCTTCTCCTCCTGCAAATAAAACCTCACCCATGAATGCTCACGCAAG\nTTTAATTACAGACCTGAA1\n\n\n\n\nGenomatix annotation syntax\n\u00b6\n\n\nSome Genomatix tools, e.g. Gene2Promoter or GPD allow the extraction of sequences. Genomatix uses the following syntax to annotate sequence information: each information item is denoted by a keyword, followed by a \"=\" and the value. These information items are separated by a pipe symbol \"|\".\nThe keywords are the following:\n\n\n\n\n\n\n\n\nkeyword\n\n\nmeaning\n\n\n\n\n\n\n\n\n\n\nloc\n\n\nThe Genomatix Locus Id, consisting of the string \"GXL_\" followed by a number.\n\n\n\n\n\n\nsym\n\n\nThe gene symbol. This can be a (comma-separated) list.\n\n\n\n\n\n\ngeneid\n\n\nThe NCBI Gene Id. This can be a (comma-separated) list.\n\n\n\n\n\n\nacc\n\n\nA unique identifier for the sequence. E.g. for Genomatix promoter regions, the Genomatix Promoter Id is listed in this field.\n\n\n\n\n\n\ntaxid\n\n\nThe organism's Taxon Id\n\n\n\n\n\n\nspec\n\n\nThe organism name\n\n\n\n\n\n\nchr\n\n\nThe chromosome within the organism.\n\n\n\n\n\n\nctg\n\n\nThe NCBI contig within the chromosome.\n\n\n\n\n\n\nstr\n\n\nStrand, (+) for sense, (-) for antisense strand.\n\n\n\n\n\n\nstart\n\n\nStart position of the sequence (relative to the contig).\n\n\n\n\n\n\nend\n\n\nEnd position of the sequence (relative to the contig).\n\n\n\n\n\n\nlen\n\n\nLength of the sequence in basepairs.\n\n\n\n\n\n\ntss\n\n\nA (comma-separated list of) UTR-start/TSS position(s). If there are several TSS/UTR-starts, this means that several transcripts share the same promoter (e.g. when they are splice variants). The positions are relative to the promoter region.\n\n\n\n\n\n\nprobe\n\n\nA (comma-separated list of) Affymetrix Probe Id(s).\n\n\n\n\n\n\nunigene\n\n\nA (comma-separated list of) UniGene Cluster Id(s).\n\n\n\n\n\n\nhomgroup\n\n\nAn identifier (a number) for the homology group (available for promoter sequences only). Orthologously related sequences have the same value in this field.\n\n\n\n\n\n\npromset\n\n\nIf the sequence is a promoter region, the promoter set is denoted here.\n\n\n\n\n\n\ndescr\n\n\nThe gene description. If several genes (i.e. NCBI gene ids) are associated with the sequence, the descriptions for all of the genes are note, separated by \";\"\n\n\n\n\n\n\ncomm\n\n\nA comment field, used for additional annotation. For promoter sequences, this field contains information about the transcripts associated with the promoter. For each transcript the Genomatix Transcript Id, accession number, TSS position and quality is listed, separated by \"/\". For Genomatix CompGen promoters no transcripts are assigned, in this case the string \"CompGen promoter\" is denoted.\n\n\n\n\n\n\n\n\nThis syntax is currently used only for sequences in the FASTA and GenBank formats.\n\n\nExample (a promoter sequence in GenBank format):\n\n\nLOCUS       GXP_170357    743 bp    DNA\nDEFINITION  loc=GXL_141619|sym=TPH2|geneid=121278|acc=GXP_170357|\n            taxid=9606|spec=Homo sapiens|chr=12|ctg=NC_000012|str=(+)|\n            start=70618393|end=70619135|len=743|tss=501,632|\n            homgroup=4612|promset=1|descr=tryptophan hydroxylase 2|\n            comm=GXT_2756574/AK094614/632/gold;\n            GXT_2799672/NM_173353/501/bronze\nACCESSION   GXP_170357\nBASE COUNT    216 a  180 c  147 g  200 t\nORIGIN\n        1 TTGATTACCT TATTTGATCA TTACACATTG TACGCTTGTG TCAAAATATC ACATGTGCCT\n       61 TATAAATGTG TACAACTATT AGTTATCCAT AAAAATTAAA AATTAAAAAA TCCGTAAAAT\n      121 GGTTTAAGCA TTCAGCAGTG CTGATCTTTC TTAAATTATT TTTCTAATTT TGGAAAGAAA\n      181 GCACAAAATC TTTGAATTCA CAATTGCTTA AAGACTGAGG TTAACTTGCC AGTGGCAGGC\n      241 TTGAGAGATG AGAGAACTAA CGTCAGAGGA TAGATGGTTT CTTGTACAAA TAACACCCCC\n      301 TTATGTATTG TTCTCCACCA CCCCCGCCCA AAAAGCTACT CGACCTATGA AACAAATCAC\n      361 ACTATGAGCA CAGATAACCC CAGGCTTCAG GTCTGTAATC TGACTGTGGC CATCGGCAAC\n      421 CAGAAATGAG TTTCTTTCTA ATCAGTCTTG CATCAGTCTC CAGTCATTCA TATAAAGGAG\n      481 CCCGGGGATG GGAGGATTCG CATTGCTCTT CAGCACCAGG GTTCTGGACA GCGCCCCAAG\n      541 CAGGCAGCTG ATCGCACGCC CCTTCCTCTC AATCTCCGCC AGCGCTGCTA CTGCCCCTCT\n      601 AGTACCCCCT GCTGCAGAGA AAGAATATTA CACCGGGATC CATGCAGCCA GCAATGATGA\n      661 TGTTTTCCAG TAAATACTGG GCACGGAGAG GGTTTTCCCT GGATTCAGCA GTGCCCGAAG\n      721 AGCATCAGCT ACTTGGCAGC TCA\n//\n\n\n\n\nIUPAC nucleic acid codes\n\u00b6\n\n\nTo represent ambiguity in DNA sequences the following letters can be used (following the rules of the International Union of Pure and Applied Chemistry (IUPAC)):\n\n\nA = adenine\n        C = cytosine\n        G = guanine\n        T = thymine\n        U = uracil\n        R = G A (purine)\n        Y = T C (pyrimidine)\n        K = G T (keto)\n        M = A C (amino)\n        S = G C\n        W = A T\n        B = G T C\n        D = G A T\n        H = A C T\n        V = G C A\n        N = A G C T (any)\n\n\n\n\nReference\n\u00b6\n\n\n\n\nhttp://www.cnblogs.com/ace9/archive/2011/04/29/2032716.html",
            "title": "02 \u751f\u7269\u6570\u636e\u6587\u4ef6\u683c\u5f0f"
        },
        {
            "location": "/chapter_03/02_fileformat/#dna-sequence-formats",
            "text": "",
            "title": "DNA Sequence formats"
        },
        {
            "location": "/chapter_03/02_fileformat/#plain-sequence-format",
            "text": "A sequence in plain format may contain only IUPAC characters and spaces (no numbers!).  Note: A file in plain sequence format may only contain one sequence, while most other formats accept several sequences in one file.  An example sequence in plain format is:  ACAAGATGCCATTGTCCCCCGGCCTCCTGCTGCTGCTGCTCTCCGGGGCCACGGCCACCGCTGCCCTGCC\nCCTGGAGGGTGGCCCCACCGGCCGAGACAGCGAGCATATGCAGGAAGCGGCAGGAATAAGGAAAAGCAGC\nCTCCTGACTTTCCTCGCTTGGTGGTTTGAGTGGACCTCCCAGGCCAGTGCCGGGCCCCTCATAGGAGAGG\nAAGCTCGGGAGGTGGCCAGGCGGCAGGAAGGCGCACCCCCCCAGCAATCCGCGCGCCGGGACAGAATGCC\nCTGCAGGAACTTCTTCTGGAAGACCTTCTCCTCCTGCAAATAAAACCTCACCCATGAATGCTCACGCAAG\nTTTAATTACAGACCTGAA",
            "title": "Plain sequence format"
        },
        {
            "location": "/chapter_03/02_fileformat/#embl-format",
            "text": "A sequence file in EMBL format can contain several sequences.\nOne sequence entry starts with an identifier line (\"ID\"), followed by further annotation lines. The start of the sequence is marked by a line starting with \"SQ\" and the end of the sequence is marked by two slashes (\"//\").  An example sequence in EMBL format is:  ID   AB000263 standard; RNA; PRI; 368 BP.\nXX\nAC   AB000263;\nXX\nDE   Homo sapiens mRNA for prepro cortistatin like peptide, complete cds.\nXX\nSQ   Sequence 368 BP;\n     acaagatgcc attgtccccc ggcctcctgc tgctgctgct ctccggggcc acggccaccg        60\n     ctgccctgcc cctggagggt ggccccaccg gccgagacag cgagcatatg caggaagcgg       120\n     caggaataag gaaaagcagc ctcctgactt tcctcgcttg gtggtttgag tggacctccc       180\n     aggccagtgc cgggcccctc ataggagagg aagctcggga ggtggccagg cggcaggaag       240\n     gcgcaccccc ccagcaatcc gcgcgccggg acagaatgcc ctgcaggaac ttcttctgga       300\n     agaccttctc ctcctgcaaa taaaacctca cccatgaatg ctcacgcaag tttaattaca       360\n     gacctgaa                                                                368\n//",
            "title": "EMBL format"
        },
        {
            "location": "/chapter_03/02_fileformat/#fasta-format",
            "text": "A sequence file in FASTA format can contain several sequences.\nEach sequence in FASTA format begins with a single-line description, followed by lines of sequence data. The description line must begin with a greater-than (\">\") symbol in the first column.  An example sequence in FASTA format is:  >AB000263 |acc=AB000263|descr=Homo sapiens mRNA for prepro cortistatin like peptide, complete cds.|len=368\nACAAGATGCCATTGTCCCCCGGCCTCCTGCTGCTGCTGCTCTCCGGGGCCACGGCCACCGCTGCCCTGCC\nCCTGGAGGGTGGCCCCACCGGCCGAGACAGCGAGCATATGCAGGAAGCGGCAGGAATAAGGAAAAGCAGC\nCTCCTGACTTTCCTCGCTTGGTGGTTTGAGTGGACCTCCCAGGCCAGTGCCGGGCCCCTCATAGGAGAGG\nAAGCTCGGGAGGTGGCCAGGCGGCAGGAAGGCGCACCCCCCCAGCAATCCGCGCGCCGGGACAGAATGCC\nCTGCAGGAACTTCTTCTGGAAGACCTTCTCCTCCTGCAAATAAAACCTCACCCATGAATGCTCACGCAAG\nTTTAATTACAGACCTGAA",
            "title": "FASTA format"
        },
        {
            "location": "/chapter_03/02_fileformat/#gcg-format",
            "text": "A sequence file in GCG format contains exactly one sequence, begins with annotation lines and the start of the sequence is marked by a line ending with two dot (\"..\") characters. This line also contains the sequence identifier, the sequence length and a checksum. This format should only be used if the file was created with the GCG package.  An example sequence in GCG format is:  ID   AB000263 standard; RNA; PRI; 368 BP.\nXX\nAC   AB000263;\nXX\nDE   Homo sapiens mRNA for prepro cortistatin like peptide, complete cds.\nXX\nSQ   Sequence 368 BP;\nAB000263  Length: 368  Check: 4514  ..\n       1  acaagatgcc attgtccccc ggcctcctgc tgctgctgct ctccggggcc acggccaccg\n      61  ctgccctgcc cctggagggt ggccccaccg gccgagacag cgagcatatg caggaagcgg\n     121  caggaataag gaaaagcagc ctcctgactt tcctcgcttg gtggtttgag tggacctccc\n     181  aggccagtgc cgggcccctc ataggagagg aagctcggga ggtggccagg cggcaggaag\n     241  gcgcaccccc ccagcaatcc gcgcgccggg acagaatgcc ctgcaggaac ttcttctgga\n     301  agaccttctc ctcctgcaaa taaaacctca cccatgaatg ctcacgcaag tttaattaca\n     361  gacctgaa",
            "title": "GCG format"
        },
        {
            "location": "/chapter_03/02_fileformat/#gcg-rsf-rich-sequence-format",
            "text": "The new GCG-RSF can contain several sequences in one file. This format should only be used if the file was created with the GCG package.  GenBank format\nA sequence file in GenBank format can contain several sequences.\nOne sequence in GenBank format starts with a line containing the word LOCUS and a number of annotation lines. The start of the sequence is marked by a line containing \"ORIGIN\" and the end of the sequence is marked by two slashes (\"//\").  An example sequence in GenBank format is:  LOCUS       AB000263                 368 bp    mRNA    linear   PRI 05-FEB-1999\nDEFINITION  Homo sapiens mRNA for prepro cortistatin like peptide, complete\n            cds.\nACCESSION   AB000263\nORIGIN\n        1 acaagatgcc attgtccccc ggcctcctgc tgctgctgct ctccggggcc acggccaccg\n       61 ctgccctgcc cctggagggt ggccccaccg gccgagacag cgagcatatg caggaagcgg\n      121 caggaataag gaaaagcagc ctcctgactt tcctcgcttg gtggtttgag tggacctccc\n      181 aggccagtgc cgggcccctc ataggagagg aagctcggga ggtggccagg cggcaggaag\n      241 gcgcaccccc ccagcaatcc gcgcgccggg acagaatgcc ctgcaggaac ttcttctgga\n      301 agaccttctc ctcctgcaaa taaaacctca cccatgaatg ctcacgcaag tttaattaca\n      361 gacctgaa\n//",
            "title": "GCG-RSF (rich sequence format)"
        },
        {
            "location": "/chapter_03/02_fileformat/#ig-format",
            "text": "A sequence file in IG format can contain several sequences, each consisting of a number of comment lines that must begin with a semicolon (\";\"), a line with the sequence name (it may not contain spaces!) and the sequence itself terminated with the termination character '1' for linear or '2' for circular sequences.  An example sequence in IG format is:  ; comment\n; comment\nAB000263\nACAAGATGCCATTGTCCCCCGGCCTCCTGCTGCTGCTGCTCTCCGGGGCCACGGCCACCGCTGCCCTGCC\nCCTGGAGGGTGGCCCCACCGGCCGAGACAGCGAGCATATGCAGGAAGCGGCAGGAATAAGGAAAAGCAGC\nCTCCTGACTTTCCTCGCTTGGTGGTTTGAGTGGACCTCCCAGGCCAGTGCCGGGCCCCTCATAGGAGAGG\nAAGCTCGGGAGGTGGCCAGGCGGCAGGAAGGCGCACCCCCCCAGCAATCCGCGCGCCGGGACAGAATGCC\nCTGCAGGAACTTCTTCTGGAAGACCTTCTCCTCCTGCAAATAAAACCTCACCCATGAATGCTCACGCAAG\nTTTAATTACAGACCTGAA1",
            "title": "IG format"
        },
        {
            "location": "/chapter_03/02_fileformat/#genomatix-annotation-syntax",
            "text": "Some Genomatix tools, e.g. Gene2Promoter or GPD allow the extraction of sequences. Genomatix uses the following syntax to annotate sequence information: each information item is denoted by a keyword, followed by a \"=\" and the value. These information items are separated by a pipe symbol \"|\".\nThe keywords are the following:     keyword  meaning      loc  The Genomatix Locus Id, consisting of the string \"GXL_\" followed by a number.    sym  The gene symbol. This can be a (comma-separated) list.    geneid  The NCBI Gene Id. This can be a (comma-separated) list.    acc  A unique identifier for the sequence. E.g. for Genomatix promoter regions, the Genomatix Promoter Id is listed in this field.    taxid  The organism's Taxon Id    spec  The organism name    chr  The chromosome within the organism.    ctg  The NCBI contig within the chromosome.    str  Strand, (+) for sense, (-) for antisense strand.    start  Start position of the sequence (relative to the contig).    end  End position of the sequence (relative to the contig).    len  Length of the sequence in basepairs.    tss  A (comma-separated list of) UTR-start/TSS position(s). If there are several TSS/UTR-starts, this means that several transcripts share the same promoter (e.g. when they are splice variants). The positions are relative to the promoter region.    probe  A (comma-separated list of) Affymetrix Probe Id(s).    unigene  A (comma-separated list of) UniGene Cluster Id(s).    homgroup  An identifier (a number) for the homology group (available for promoter sequences only). Orthologously related sequences have the same value in this field.    promset  If the sequence is a promoter region, the promoter set is denoted here.    descr  The gene description. If several genes (i.e. NCBI gene ids) are associated with the sequence, the descriptions for all of the genes are note, separated by \";\"    comm  A comment field, used for additional annotation. For promoter sequences, this field contains information about the transcripts associated with the promoter. For each transcript the Genomatix Transcript Id, accession number, TSS position and quality is listed, separated by \"/\". For Genomatix CompGen promoters no transcripts are assigned, in this case the string \"CompGen promoter\" is denoted.     This syntax is currently used only for sequences in the FASTA and GenBank formats.  Example (a promoter sequence in GenBank format):  LOCUS       GXP_170357    743 bp    DNA\nDEFINITION  loc=GXL_141619|sym=TPH2|geneid=121278|acc=GXP_170357|\n            taxid=9606|spec=Homo sapiens|chr=12|ctg=NC_000012|str=(+)|\n            start=70618393|end=70619135|len=743|tss=501,632|\n            homgroup=4612|promset=1|descr=tryptophan hydroxylase 2|\n            comm=GXT_2756574/AK094614/632/gold;\n            GXT_2799672/NM_173353/501/bronze\nACCESSION   GXP_170357\nBASE COUNT    216 a  180 c  147 g  200 t\nORIGIN\n        1 TTGATTACCT TATTTGATCA TTACACATTG TACGCTTGTG TCAAAATATC ACATGTGCCT\n       61 TATAAATGTG TACAACTATT AGTTATCCAT AAAAATTAAA AATTAAAAAA TCCGTAAAAT\n      121 GGTTTAAGCA TTCAGCAGTG CTGATCTTTC TTAAATTATT TTTCTAATTT TGGAAAGAAA\n      181 GCACAAAATC TTTGAATTCA CAATTGCTTA AAGACTGAGG TTAACTTGCC AGTGGCAGGC\n      241 TTGAGAGATG AGAGAACTAA CGTCAGAGGA TAGATGGTTT CTTGTACAAA TAACACCCCC\n      301 TTATGTATTG TTCTCCACCA CCCCCGCCCA AAAAGCTACT CGACCTATGA AACAAATCAC\n      361 ACTATGAGCA CAGATAACCC CAGGCTTCAG GTCTGTAATC TGACTGTGGC CATCGGCAAC\n      421 CAGAAATGAG TTTCTTTCTA ATCAGTCTTG CATCAGTCTC CAGTCATTCA TATAAAGGAG\n      481 CCCGGGGATG GGAGGATTCG CATTGCTCTT CAGCACCAGG GTTCTGGACA GCGCCCCAAG\n      541 CAGGCAGCTG ATCGCACGCC CCTTCCTCTC AATCTCCGCC AGCGCTGCTA CTGCCCCTCT\n      601 AGTACCCCCT GCTGCAGAGA AAGAATATTA CACCGGGATC CATGCAGCCA GCAATGATGA\n      661 TGTTTTCCAG TAAATACTGG GCACGGAGAG GGTTTTCCCT GGATTCAGCA GTGCCCGAAG\n      721 AGCATCAGCT ACTTGGCAGC TCA\n//",
            "title": "Genomatix annotation syntax"
        },
        {
            "location": "/chapter_03/02_fileformat/#iupac-nucleic-acid-codes",
            "text": "To represent ambiguity in DNA sequences the following letters can be used (following the rules of the International Union of Pure and Applied Chemistry (IUPAC)):  A = adenine\n        C = cytosine\n        G = guanine\n        T = thymine\n        U = uracil\n        R = G A (purine)\n        Y = T C (pyrimidine)\n        K = G T (keto)\n        M = A C (amino)\n        S = G C\n        W = A T\n        B = G T C\n        D = G A T\n        H = A C T\n        V = G C A\n        N = A G C T (any)",
            "title": "IUPAC nucleic acid codes"
        },
        {
            "location": "/chapter_03/02_fileformat/#reference",
            "text": "http://www.cnblogs.com/ace9/archive/2011/04/29/2032716.html",
            "title": "Reference"
        },
        {
            "location": "/chapter_03/03_edirect/",
            "text": "\u73a9\u8f6c edirect\n\u00b6\n\n\n\n\nNCBI\n \u7684 \nEntrez\n \u5de5\u5177\u529f\u80fd\u975e\u5e38\u5f3a\u5927\uff0c\u65e2\u53ef\u4ee5\u4ece web \u9875\u9762\u8bbf\u95ee \nNCBI\n \u6765\u67e5\u8be2\uff0c\u4e5f\u53ef\u4ee5\u5229\u7528 \nEntrez\n \u63d0\u4f9b\u7684 \nWeb Services\n \u6765\u5b9e\u73b0\u8bf8\u591a\u529f\u80fd\uff08\u7f16\u5199\u7b2c\u4e09\u65b9\u7a0b\u5e8f\u7b49\uff09\u3002\u6b64\u5916 \nNCBI\n \u8fd8\u63d0\u4f9b\u4e86 \nEntrez\n \u7684\u547d\u4ee4\u884c\u5de5\u5177 edirect\n1\n\u3002edirect \u5168\u540d\u4e3a \nEntrez Direct\n\uff0c\u91cc\u9762\u5305\u542b\u4e86\u4e00\u7ec4\u5404\u53f8\u5176\u804c\u7684\u5de5\u5177\u548c\u811a\u672c\uff0c\u901a\u8fc7 Linux \u7cfb\u7edf\u4e0b\u7684\u7ba1\u9053pipeline\n2\n\u529f\u80fd\u8054\u5408\u4f7f\u7528\u8fd9\u4e9b\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u5728\u670d\u52a1\u5668\u4e0a\u5b9e\u73b0\u9ad8\u6548\u7684\u8fdb\u884c \nEntrez\n \u7684\u68c0\u7d22\uff0c\u6293\u53d6\uff0c\u8fc7\u6ee4\uff0c\u6392\u5e8f\u7b49\u64cd\u4f5c\u3002\n\n\n1. \u5b89\u88c5\n\u00b6\n\n\n1.1 \u4e0b\u8f7d\u5b89\u88c5\n\u00b6\n\n\nedirect \u76f4\u63a5\u4e0b\u8f7d\u9884\u7f16\u8bd1\u5305\uff0c\u6dfb\u52a0\u5230\u7cfb\u7edf\u8def\u5f84\u4e2d\u5373\u53ef\u3002\n\n\n# \u4e0b\u8f7d edirect \u5b89\u88c5\u5305\n\n$ wget ftp://ftp.ncbi.nlm.nih.gov/entrez/entrezdirect/edirect.tar.gz\n\n\n# \u5c06 edirect \u5b89\u88c5\u5728\u7528\u6237 app \u76ee\u5f55\u4e0b\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u6c42\u81ea\u884c\u9009\u62e9\u5b89\u88c5\u8def\u5f84\n\n$ tar zxvf edirect.tar.gz -C ~/app\n\n\n# \u8fd0\u884c\u5b89\u88c5\u811a\u672c\n\n$ \ncd\n ~/app/edirect\n$ ./setup.sh\n\n\n# \u6dfb\u52a0\u8f6f\u4ef6\u5b89\u88c5\u76ee\u5f55\u5230\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u4e2d\n\n$ \necho\n \n\"export PATH='\\$PATH:\\$HOME/app/edirect/'\"\n >> ~/.bashrc\n$ \nsource\n ~/.bashrc\n\n\n\n\n\n\n\u5b89\u88c5\u8bf4\u660e\n\n\n\u8010\u5fc3\u7b49\u5f85\u4e00\u4f1a\uff0c\u5f53\u770b\u5230\u4e0b\u9762\u5b57\u7b26\u65f6\uff0c\u8868\u793a\u5b89\u88c5\u6210\u529f\u3002\n\n\n\n\nENTREZ DIRECT HAS BEEN SUCCESSFULLY INSTALLED AND CONFIGURED\n\n\n\n\n\u4e5f\u53ef\u4ee5\u4e0d\u8fd0\u884c \nsetup.sh\n \u76f4\u63a5\u4f7f\u7528 edirect \u7684\u4e00\u4e9b\u5de5\u5177\uff0c\u4e0d\u8fc7\u5982\u679c\u8981\u4f7f\u7528\u5168\u90e8\u529f\u80fd\uff0c\u6709\u4e9bperl\u6a21\u5757\u9700\u8981\u5b89\u88c5\uff0c\u8fd0\u884c \nsetup.sh\n \u6765\u81ea\u52a8\u5b8c\u6210 CPAN \u7684 modual \u5b89\u88c5\u4ee5\u53ca go \u7248\u672c\u7684 xtract \u7684\u7f16\u8bd1\uff08\u4e0d\u8fd0\u884c\u5b89\u88c5\u811a\u672c\u4f1a\u8c03\u7528 perl \u7248\u672c\u7684 xtract\uff0c\u6570\u636e\u91cf\u5927\u65f6\u901f\u5ea6\u7565\u6162\uff09\u3002\n\n\n\n\n\u63d0\u793a\n\n\n\u5bf9\u4e8e\u90e8\u5206\u64cd\u4f5c\u7cfb\u7edf\u5982 \nubuntu\n \u7b49\uff0c\nuname\n \u4f4d\u4e8e /bin\uff0c\u800c xtract \u63a5\u53e3\u8c03\u7528\u811a\u672c\u4f7f\u7528 /usr/bin/uname \u6765\u5224\u65ad\u4f7f\u7528\u90a3\u4e2a\u7248\u672c\u7684 xtract\uff0c\u5982\u679c\u8981\u5728\u8fd9\u4e9b\u64cd\u4f5c\u7cfb\u7edf\u4e0b\u6b63\u5e38\u4f7f\u7528 xtract\uff0c\u9700\u8981\u8ba9\u7a0b\u5e8f\u5728\u6b63\u786e\u8def\u5f84\u53ef\u8bc6\u522b\uff0c\u8fd9\u91cc\u901a\u8fc7\u6dfb\u52a0\u7cfb\u7edf link \u5230 /usr/bin/unname\u3002\n\n\n\n\n# \u67e5\u770b uname \u8def\u5f84\u3002\n\n$ which uname\n\n\n# \u5982\u679c\u662f\u4f4d\u4e8e /bin/ \u4e0b\uff0c\u5c06\u5176\u94fe\u63a5\u5230 /usr/bin/ \u4e0b\u5373\u53ef\u3002\n\n$ sudo ln -s /bin/uname /usr/bin/uname\n\n\n\n\n1.2 conda \u4e2d\u5b89\u88c5\n\u00b6\n\n\n\u5982\u679c\u7cfb\u7edf\u901a\u8fc7 conda \u8fdb\u884c\u8f6f\u4ef6\u7ba1\u7406\uff0c\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u5b89\u88c5\u3002\n\n\n$ conda install entrez-direct\n\n\n\n\n\u4e0d\u8fc7 conda \u5b89\u88c5\u7684\u8fd8\u662f perl \u7248\u672c\u7684 xtract\uff0c\u800c\u4e0d\u662f go \u7248\u672c\u7684\uff0c\u9700\u8981\u5230 conda/pkgs \u5305\u6839\u76ee\u5f55\u4e2d\u7684 edirect \u76f8\u5e94\u76ee\u5f55\uff0c\u7528 \nsetup.sh\n \u81ea\u884c\u7f16\u8bd1\u540e\u751f\u6210 xtract.Linux(Linux \u64cd\u4f5c\u7cfb\u7edf)\uff0c\u5c06\u5176\u590d\u5236\u5230 conda \u7684 bin \u8def\u5f84\u5373\u53ef\u3002go \u7248\u672c\u7684 xtract \u53ef\u4ee5\u7528 -help \u53c2\u6570\u67e5\u770b\u5e2e\u52a9\u3002\n\n\n2. \u57fa\u672c\u7528\u6cd5\n\u00b6\n\n\n\n\n\u4e3b\u8981\u5de5\u5177\u5217\u8868\n\n\n\u5728 edirect \u5b89\u88c5\u76ee\u5f55\u4e0b\u53ef\u4ee5\u770b\u5230\u6240\u6709\u7684\u53ef\u6267\u884c\u547d\u4ee4\uff0c\u5176\u4e2d\u6700\u5e38\u7528\u7684\u5de5\u5177\u53c2\u89c1\u4e0b\u8868\n\n\n\n\n\n\n\n\n\n\n\u5de5\u5177\u540d\u79f0\n\n\n\u5de5\u5177\u7528\u9014\n\n\n\u5e38\u7528\u53c2\u6570\n\n\n\n\n\n\n\n\n\n\nesearch\n\n\n\u641c\u7d22\u547d\u4ee4\uff0c\u5c06\u6240\u8981\u68c0\u7d22\u7684\u5185\u5bb9\u63d0\u4ea4\u5230 Entrez \u4e2d\uff0c\u8fd4\u56de\u76f8\u5e94\u7684\u7ed3\u679c\u8bb0\u5f55\n\n\n-db\u3001-query\n\n\n\n\n\n\nefetch\n\n\n\u4e0b\u8f7d NCBI \u6570\u636e\u5e93\u4e2d\u7684\u8bb0\u5f55\u548c\u62a5\u544a\u5e76\u4ee5\u76f8\u5e94\u683c\u5f0f\u6253\u5370\u8f93\u51fa\n\n\n-db\u3001-id\u3001-format\u3001-mode\n\n\n\n\n\n\neinfo\n\n\n\u83b7\u53d6\u76ee\u6807\u7ed3\u679c\u5728\u6570\u636e\u5e93\u4e2d\u7684\u4fe1\u606f\n\n\n-db\u3001-dbs\u3001-fields\u3001-links\n\n\n\n\n\n\nelink\n\n\n\u5bf9\u76ee\u6807\u7ed3\u679c\u5728\u5176\u4ed6\u6570\u636e\u5e93\u4e2d\u6bd4\u914d\u7ed3\u679c\n\n\n-db\u3001-id\u3001-related\u3001-target\u3001-name\n\n\n\n\n\n\nepost\n\n\n\u4e0a\u4f20 UIDs \u6216\u8005 \u5e8f\u5217\u767b\u8bb0\u53f7\n\n\n-db\u3001-id\u3001-format\u3001-input\u3001-label\n\n\n\n\n\n\nefilter\n\n\n\u5bf9\u4e4b\u524d\u7684\u68c0\u7d22\u7ed3\u679c\u8fdb\u884c\u8fc7\u6ee4\u6216\u9650\u5236\n\n\n-query\u3001-sort\u3001-field\n\n\n\n\n\n\nxtract\n\n\n\u5c06esearch\u83b7\u5f97\u7684 XML \u683c\u5f0f\u7ed3\u679c\u8f6c\u6362\u6210\u8868\u683c\u683c\u5f0f\n\n\n-pattern\u3001-if\u3001-block\u3001-element\u3001-sep\u3001-filter\n\n\n\n\n\n\nesummary\n\n\n\u83b7\u5f97 XML \u683c\u5f0f\u7684\u5efa\u7acb\n\n\n-db\u3001-id\u3001-format\u3001-mode\n\n\n\n\n\n\necitmatch\n\n\n\u7edf\u8ba1\u5f15\u7528\u6570\u636e\n\n\n-journal\u3001-year\u3001-volume\u3001-page\u3001-author\n\n\n\n\n\n\n\n\n2.1 esearch\n\u00b6\n\n\nesearch\n \u8d1f\u8d23\u68c0\u7d22\u5e76\u8fd4\u56de xml \u683c\u5f0f\u7684\u547d\u4e2d\u60c5\u51b5\u3002\u4f7f\u7528 esearch \u547d\u4ee4\uff0c\u76f8\u5f53\u4e8e\u5e73\u65f6\u4f60\u901a\u8fc7\u6d4f\u89c8\u5668\u8bbf\u95ee NCBI\uff0c\u5728 \nGQuery\n \u7684 \nnucletide\n \u6570\u636e\u5e93\u641c\u7d22\u89c1\u9762\u641c\u7d20\u5173\u952e\u5b57 \nsalmonella\n\uff0c\u8fd4\u56de\u547d\u4e2d\u7ed3\u679c\u3002\n\n\n$ esearch -db nuccore -query \n\"salmonella\"\n\n\n\n\n\n\u7ec8\u7aef\u91cc\u4f1a\u8fd4\u56de\u547d\u4e2d\u7ed3\u679c\uff1a\n\n\n<ENTREZ_DIRECT>\n\n  \n<Db>\nnuccore\n</Db>\n\n  \n<WebEnv>\nNCID_1_153624467_130.14.18.34_9001_1490828308_1411373464_0MetA0_S_MegaStore_F_1\n</WebEnv>\n\n  \n<QueryKey>\n1\n</QueryKey>\n\n  \n<Count>\n2093561\n</Count>\n\n  \n<Step>\n1\n</Step>\n\n\n</ENTREZ_DIRECT>\n\n\n\n\n\nesearch\n \u9700\u8981\u8bbe\u7f6e\u7684\u53c2\u6570\u6709 \n-db\n\uff08\u6240\u8981\u641c\u7d22\u7684\u76ee\u6807\u6570\u636e\u5e93\uff09\u548c \n-query\n\uff08\u6240\u8981\u641c\u7d22\u7684\u5173\u952e\u8bcd\uff09\u3002\n\n\n\u7ed3\u679c\u9ed8\u8ba4\u8fd4\u56de xml \u683c\u5f0f\u7684\u6570\u636e\uff08\u53c2\u89c1 \n<ENTREZ_DIRECT>\n...\n</ENTREZ_DIRECT>\n\uff09\uff0c\u5176\u4e2d \n \u4e2d\u7684\u6570\u503c\u8868\u793a\u68c0\u7d22\u547d\u4e2d\u7684\u8bb0\u5f55\u6570\uff0c\u8fd9\u4e0e \nNCBI\n \u7684 \nEntrez\n \u7f51\u9875\u754c\u9762\u91cc\u8fdb\u884c\u68c0\u7d22\u64cd\u4f5c\u7684\u7ed3\u679c\u662f\u4e00\u81f4\u7684\u3002\n\n\nesearch\n \u8fd8\u6709\u4e00\u4e2a\u53c2\u6570 -sort \u53ef\u4ee5\u6839\u636e\u6570\u636e\u5e93\u7c7b\u578b\u8fd4\u56de\u4e0d\u540c\u7684\u6392\u5e8f\u65b9\u5f0f\u3002\u9ed8\u8ba4\u7684\u6392\u5e8f\u65b9\u5f0f\u662f\u6309\u7167\u65f6\u95f4\u9006\u5e8f\u6392\u5217\u7684\u3002\u60f3\u8981\u5f97\u5230\u51c6\u786e\u7684\u67e5\u8be2\u7ed3\u679c\uff0c\u4f18\u5316 query \u5f88\u91cd\uff0c\u53ef\u4ee5\u53c2\u89c1 \nFilter\n \u76f8\u5173\u5185\u5bb9\u3002\n\n\n2.2 efetch\n\u00b6\n\n\nefetch\n \u53ef\u4ee5\u7528\u6765\u4e0b\u8f7d\u5404\u4e2a\u6570\u636e\u5e93\u7684\u5404\u79cd\u683c\u5f0f\u6570\u636e\u3002\u4f60\u53ef\u4ee5\u901a\u8fc72\u79cd\u65b9\u5f0f\u4e0b\u8f7d\uff1a\n\n\n\n\n\u7528 esearch \u83b7\u5f97\u547d\u4e2d\u8bb0\u5f55\u540e\u518d\u4e0b\u8f7d\u3002\u4e0b\u9762\u8fd9\u4e2a\u547d\u4ee4\uff0c\u5c31\u4f1a\u4e0b\u8f7d\u6240\u6709\u7ed3\u679c\u5e76\u4fdd\u5b58\u5230 result.fasta \u6587\u4ef6\u4e2d\u3002\n\n\n\n\n$ esearch -db nuccore -query \n\"salmonella\"\n -days \n10\n \n|\n \n\\\n\n> efetch -format fasta -db nuccore > result.fasta\n\n\n\n\n\n\nWarning\n\n\n\u4e00\u5b9a\u8981\u6ce8\u610f\u641c\u7d22\u547d\u4e2d\u503c\u7684\u6570\u91cf\uff0c\u5173\u952e\u8bcd\u547d\u4e2d\u592a\u591a\uff0c\u6570\u636e\u91cf\u4f1a\u592a\u5927\uff0c\u5168\u90e8\u4e0b\u8f7d\u53ef\u80fd\u76f4\u63a5\u8fdb\u5165\u5047\u6b7b\u72b6\u6001\u3002\u5e94\u8be5\u901a\u8fc7\u8bbe\u7f6e\u53c2\u6570\u6765\u9650\u5b9a\u641c\u7d22\u7ed3\u679c\u3002\u5f53\u4e0d\u786e\u5b9a\u65f6\uff0c\u5148\u7528esearch\u5de5\u5177\u770b\u8fd4\u56de\u7684\u547d\u4e2d\u503c\n\u6709\u591a\u5c11\u518d\u51b3\u5b9a\u662f\u5426\u8fdb\u4e00\u6b65\u9650\u5b9a\u3002\n\n\n\n\n\n\n\u76f4\u63a5\u6307\u5b9a id \u4e0b\u8f7d\n\n\n\n\n$ efetch -db pubmed -id \n2142131\n -format txt\n\n\n\n\nefetch\n \u8bbe\u7f6e\u7684\u53c2\u6570\u662f \n-db\n\uff0c\u5c06\u641c\u7d22\u547d\u4e2d\u7684\u8bb0\u5f55\u4ece\u8be5\u6570\u636e\u5e93\u8fdb\u884c\u3002\u5982\u679c \nesearch\n \u68c0\u7d22\u7684\u7ed3\u679c\u548c\u9700\u8981\u4e0b\u8f7d\u7684\u7ed3\u679c\u6765\u81ea\u540c\u4e00\u6570\u636e\u5e93\uff0c\u53ef\u4ee5\u4e0d\u6dfb\u52a0 \n-db\n \u53c2\u6570\uff0c\u7cfb\u7edf\u4f1a\u9ed8\u8ba4\u4f7f\u7528esearch\u7684\u6570\u636e\u5e93\u3002\n\n\nefetch\n \u8fd8\u8981\u8bbe\u7f6e\u7684\u53c2\u6570\u662f \n-format\n\uff0c\u5373\u4e0b\u8f7d\u6570\u636e\u7684\u683c\u5f0f\u3002\u5e38\u7528\u7684\u6709 \nxml\n \u683c\u5f0f\uff0c\u540e\u7eed\u53ef\u4ee5\u901a\u8fc7 \nxtract\n \u548c \nlinux\n \u4e00\u4e9b\u547d\u4ee4\u884c\u5de5\u5177\u6765\u505a\u5904\u7406\u3002\u4f60\u4e5f\u53ef\u4ee5\u76f4\u63a5\u6dfb\u52a0 \n-id\n \u53c2\u6570\u76f4\u63a5\u8fdb\u884c\u4e0b\u8f7d\u800c\u4e0d\u901a\u8fc7 \nesearch\n \u68c0\u7d22\u540e\u4e0b\u8f7d\u3002\u5982\u4e0b\u9762\u4f8b\u5b50\u4e2d\u5c06 \npubmed id 2137412\n \u7684\u6587\u732e\u8f93\u51fa\uff0c\u683c\u5f0f\u4e3a Medline\n3\n\n\n# \u641c\u7d22 pubmed \u6570\u636e\u5e93\u7f16\u53f7 2137412 \u7684\u6587\u732e\uff0c\u4ee5 medline \u683c\u5f0f\u8f93\u51fa\n\n$ efetch -db pubmed -id \n2137412\n -format medline\n\n\n\n\n\u5bf9\u4e8e efetch \u53ef\u4ee5\u4e0b\u8f7d\u90a3\u4e9b\u6570\u636e\u5e93\uff0c\u5bf9\u4e8e\u5404\u4e2a\u6570\u636e\u5e93\u540d\u79f0\u548c\u6570\u636e\u683c\u5f0f\uff0c\u53ef\u4ee5\u7528\n-h\n\u6765\u67e5\u770b\n\n\n$ efetch -h\n\n\n\n\n2.3 xtract\n\u00b6\n\n\nedirect \u7684\u6838\u5fc3\u547d\u4ee4\uff0c\u7531\u4e8e \nesearch\n \u67e5\u8be2\u548c\u4e0b\u8f7d\u7684\u6570\u636e\u5e38\u5e38\u662f xml \u683c\u5f0f\u7684\uff0c\u5bf9\u4e8e XML\n4\n \u683c\u5f0f\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u7528 \nxtract\n \u5de5\u5177\u5c06\u5176\u8f6c\u6362\u6210\u7eaf\u6587\u672c\u683c\u5f0f\u7684\u5185\u5bb9\u3002xtract \u4e0d\u4ec5\u53ef\u4ee5\u8f6c\u6362 \nNCBI\n \u7684 XML \u683c\u5f0f\u6587\u4ef6\uff0c\u5bf9\u4e8e\u4efb\u4f55\u901a\u7528\u7684 XML \u683c\u5f0f\u6587\u4ef6\u90fd\u53ef\u4ee5\u8fdb\u884c\u8f6c\u6362\u3002\n\n\nxtract \u57fa\u672c\u7528\u6cd5\uff1a\n\n\n# \u8bfb\u53d6 XML \u6587\u4ef6\u65b9\u5f0f\n$ xtract -input XML-file.xml\n\n\n\n\n\u4e00\u822c\u6211\u4eec\u90fd\u662f\u901a\u8fc7\u7ba1\u9053\u5de5\u5177 Pipeline \u7ec4\u5408 esearch \u548c efetch \u7b49\u5de5\u5177\u83b7\u5f97 XML \u683c\u5f0f\u7684 NCBI \u6570\u636e\u5e93\u547d\u4e2d\u8bb0\u5f55\u540e\uff0c\u518d\u7528 xtract \u8fdb\u884c\u5904\u7406\u3002\n\n\n$ esearch -db pubmed -query \n'E. coli AND (2016/12/30[pdat]:2016/12/31[pdat])'\n \n|\n \n\\\n\n> efetch -format xml \n|\n xtract -pattern PubmedArticle -element \n\\\n\n> MedlineCitation/PMID Journal/ISOAbbreviation ArticleTitle\n\n\n\n\n\u8fd9\u6761\u547d\u4ee4\u5c06\u68c0\u7d22\u5230\u7684\u6587\u732e\u8bb0\u5f55\u8f6c\u6362\u6210\u884c\uff0c\u518d\u4ee5 PMID\uff0c\u6742\u5fd7\u540d\u7f29\u5199\u548c\u6587\u7ae0\u9898\u76ee\u4e3a\u5217\u5c55\u5f00\u3002\u547d\u4ee4\u6253\u5370\u7684\u7ed3\u679c\u5982\u4e0b\uff1a\n\n\n28239441J Public Health AfrQuality and labeling information of Mo       ringa oleifera products marketed for HIV-infected people in Zimbabwe.\n28115890Korean J Food Sci Anim ResourAntimicrobial Activity of Kefir against Variou     s Food Pathogens and Spoilage Bacteria.\n28110668Enzyme Microb. Technol  .A novel thermophilic and halophilic esterase from Janibacter sp. R02,   the first member of a new lipase family (Family XVII).\n...\n27030192J.   Vet. Sci.Development and evaluation of an immunochromatographic assay   using a gp51 monoclonal antibody for the detection of antibodies against the bovine leukemia virus.\n\n\n\n\n\u5f53\u6211\u4eec\u4e0d\u6e05\u695aXML\u5143\u7d20\u7ed3\u6784\u65f6\uff0c\u53ef\u4ee5\u7528\u4ee5\u4e0b\u547d\u4ee4\u6253\u5370\u51fa\u6811\u5f62\u7ed3\u6784\u3002\n\n\n$ xtract -input my.xml -outline\n\n\n\n\nxtract \u53ef\u4ee5\u7075\u6d3b\u7684\u6539\u53d8\u6570\u636e\u7684\u683c\u5f0f\uff0c\u6240\u4ee5\u6d89\u53ca\u7684\u53c2\u6570\u4e5f\u6bd4\u8f83\u591a\u3002\u8981\u60f3\u83b7\u5f97\u81ea\u5df1\u9700\u8981\u7684\u6570\u636e\u683c\u5f0f\uff0c\u8981\u60f3\u7528\u597d edirect\uff0c\u638c\u63e1\u597d xtract \u7684\u7528\u6cd5\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\u3002\n\n\n-pattern \u53c2\u6570\n: \u5c06 xml \u683c\u5f0f\u6570\u636e\uff0c\u5c06\n\u8f6c\u6362\u6210\u884c\u683c\u5f0f\u6570\u636e\u3002\u6bcf\u4e00\u4e2aelement\u5305\u542b\u7684\u6570\u636e\u505a\u4e3a\u4e00\u884c\u3002\n\n\nxtract \u547d\u4ee4\u9996\u5148\u8981\u901a\u8fc7 -pattern \u5b9a\u4e49\u6240\u8981\u5206\u6790\u7684\u6570\u636e\u7ea7\u522b\u3002\u6bd4\u5982\u5bf9\u4e8e pubmed \u6570\u636e\u5e93\uff0cefetch \u8f93\u51fa -format \u683c\u5f0f\u4e3a docsum\uff0c\u90a3\u4e48\u6211\u4eec\u4e00\u822c\u8981\u6293\u53d6\u7684\u662f\u6bcf\u4e00\u4e2a\u547d\u4e2d\u7684\u6587\u732e\u8bb0\u5f55\uff0c-pattern \u5c31\u53ef\u4ee5\u7528 DocumentSummary \u5143\u7d20\u3002\u5982\u679c\u4f60\u53ea\u60f3\u77e5\u9053\u6240\u6709\u547d\u4e2d\u6587\u732e\u7684\u4f5c\u8005\uff08\u6bd4\u5982\u6309\u7167\u6b21\u6570\u6392\u5e8f\uff09\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u76f4\u63a5\u5c06 -pattern \u5b9a\u4e49\u4e3a Author\u3002\n\n\n-element \u53c2\u6570\n: \u5c06 \n-pattern\n \u5b9a\u4e49\u7684\u884c\u4e2d\u4ee5\u6bcf\u4e2aelement\u5f62\u6210\u4e00\u5217\u3002\u6bcf\u4e2aelement\u4ee5tab\u952e\u5206\u9694\u3002\n\n\n\u6bcf\u4e2a -pattern \u5b9a\u4e49\u540e\uff0c\u8981\u591a -pattern \u5b9a\u4e49\u7684\u5143\u7d20\u7684\u5b50\u5143\u7d20\u8fdb\u884c\u8f93\u51fa\uff0c\u5c31\u8981\u7528\u5230 -element \u53c2\u6570\u4e86\u3002-element \u53ef\u4ee5\u8ddf\u591a\u4e2a\u5b50\u5143\u7d20\uff0c\u9ed8\u8ba4\u4ee5tab\u952e\u5206\u5272\u3002\u4f46\u662f\u8981\u6ce8\u610f\u7684\u662f\u5b50\u5143\u7d20\u5fc5\u987b\u662f\u552f\u4e00\u5b50\u5143\u7d20\uff0c\u6bd4\u5982 -pattern \u5982\u679c\u5b9a\u4e49\u4e3a DocumentSummary\uff0c\u90a3\u4e48\u6bcf\u4e2a DocumentSummary \u5143\u7d20\u6709\u4e00\u4e2a Authors \u5b50\u5143\u7d20\uff0c\u800c\u6bcf\u4e2a Authors \u6709\u591a\u4e2a Author \u5b50\u5143\u7d20\uff08\u56e0\u4e3a\u4e00\u7bc7\u6587\u732e\u6709\u591a\u4e2a\u4f5c\u8005\uff09\uff0c\u5982\u679c\u76f4\u63a5\u5c06 -element Author\uff0c\u662f\u65e0\u6cd5\u8fd4\u56de\u4f5c\u8005\u4fe1\u606f\u7684\u3002\u9700\u8981\u7528 -block \u53c2\u6570\u628a Authors \u5217\u8f6c\u6362\u6210\u884c\u518d\u8fdb\u884c\u5206\u5272\u3002\n\n\n-block \u53c2\u6570\n: \u53ef\u4ee5\u5c06\u67d0\u4e2aXML\u6807\u7b7e\u4e0b\u7684\u591a\u4e2a\u76f8\u540c\u6807\u7b7e\u8f6c\u6362\u6210\u4e00\u884c\u7684\u591a\u4e2a\u5143\u7d20\uff0c\u6700\u5e38\u89c1\u7684\u7528\u6cd5\u662f\u5728 \npubmed\n \u6570\u636e\u5e93\u68c0\u7d22\u6587\u732e\u65f6\n\u4e0b\u591a\u4e2a\n\u6807\u7b7e\u6253\u5370\u51fa\u6765\u3002\n\n\n$ esearch -db pubmed -query \n\"Salmonella[ORGN]\"\n -days \n5\n \n|\n efetch -format xml \n|\n \n\\\n\n> xtract -pattern PubmedArticle -block Author -sep \n\" \"\n -element LastName,Initials\n\n\n\n\n-tab\u3001-sep \u53c2\u6570\n: \u5c06\u591a\u6761 element \u8bb0\u5f55\u5206\u5272\u3002\n\n\n/\n: \u4e3b\u8981\u7528\u5728\u5b9a\u4e49\u8fde\u7eed\u591a\u5c42\u6807\u7b7e\u7684\u5b9a\u4e49\u4e0a\u3002\u6bd4\u5982PMID\u6807\u7b7e\u5373\u53ef\u4ee5\u5728 MedlineCitation \u6807\u7b7e\u4e0b\uff0c\u6709\u65f6\u4e5f\u4f1a\u5728 RefSource \u6807\u7b7e\u4e0b\u3002\u6240\u4ee5\u8981\u660e\u786e\u68c0\u7d22\u6587\u732e\u7684 PMID\uff0c\u5c31\u5e94\u8be5\u7528 \nMedlineCitation/PMID\n\n\n@\n: \u6307\u5b9a XML \u5143\u7d20 element \u7684 attribute \u503c\n\n\n-if\u3001-if/-equals\u3001-if/-contains \u53c2\u6570\n: \u6761\u4ef6\u8fd0\u7b97\u7b26\n\n\n-and\u3001-or\u3001-position\u3001-def \u53c2\u6570\n: \u5173\u7cfb\u8fd0\u7b97\u7b26\n\n\n2.4 einfo\n\u00b6\n\n\n\u5bf9\u4e8e NCBI \u6570\u636e\u5e93\u7684\u5404\u9879\u590d\u6742\u53c2\u6570\uff0c\u5b57\u6bb5\u7b49\u8981\u5b8c\u5168\u4e86\u89e3\u548c\u638c\u63e1\u6bd4\u8f83\u56f0\u96be\u3002edirect \u91cc\u63d0\u4f9b\u4e86 einfo \u5de5\u5177\uff0c\u8fd9\u6837\u5176\u4ed6\u5de5\u5177\u6240\u80fd\u8bbf\u95ee\u7684\u5177\u4f53\u6570\u636e\u5e93\u3001\u5b57\u6bb5\u548c\u53ef\u94fe\u63a5\u6570\u636e\u5e93\u7b49\u4fe1\u606f\u90fd\u53ef\u4ee5\u7528 einfo \u4e86\u89e3\u3002\n\n\n# \u67e5\u8be2 `esearch -db` \u53c2\u6570\u6240\u80fd\u8bbf\u95ee\u7684\u6240\u6709\u6570\u636e\u5e93\u540d\u79f0\n\n$ einfo -dbs \n|\n sort\n\n\n# \u67e5\u8be2\u67d0\u4e2a\u6570\u636e\u5e93\u5b57\u6bb5\u60c5\u51b5\uff0c\u5982 sra \u6570\u636e\u5e93\u6240\u6709\u5bf9\u5e94\u7684\u5b57\u6bb5\u540d\u79f0\n\n$ einfo -db sra -fields\n\n\n# \u67e5\u8be2\u6570\u636e\u5e93\u6240\u6709\u53ef\u94fe\u63a5\u7684\u5176\u4ed6\u6570\u636e\u5e93\n\n$ einfo -db sra -links\n\n\n\n\n3. Filtering Queries\n\u00b6\n\n\n\u5de5\u5177 esearch \u548c efilter \u5728\u505a\u68c0\u7d22\u65f6\u5982\u679c\u505a\u597d\u7b5b\u9009\uff0c\u80fd\u6709\u52a9\u4e8e\u83b7\u5f97\u51c6\u786e\u7684\u7ed3\u679c\u3002\u7b5b\u9009\u67092\u79cd\u65b9\u5f0f\uff0c\u4e00\u79cd\u662f\u901a\u8fc7\u6dfb\u52a0\u53c2\u6570\u6765\u7b5b\u9009\u3002\u53e6\u4e00\u79cd\u662f\u5bf9 query \u53c2\u6570\u6dfb\u52a0\u5b57\u6bb5\u5b9a\u4e49\u6765\u7b5b\u9009\u3002\n\n\n\u53c2\u6570\u8fc7\u6ee4\n\uff1a\n\n\n\u5e38\u7528\u7684\u53c2\u6570\u4e3a\u65e5\u671f\u53c2\u6570\n\n\n\n\n-days 100\uff1a100\u5929\u5185\u7684\u68c0\u7d22\u6761\u4ef6\u547d\u4e2d\n\n\n-maxdate\uff1a\u65f6\u95f4\u6bb5\u6700\u5927\u65e5\u671f\uff0c\u683c\u5f0f\u53ef\u4ee5\u662f 2001\uff0c2001/01/01\n\n\n-mindate\uff1a\u65f6\u95f4\u6bb5\u6700\u5c0f\u65e5\u671f\uff0c\u683c\u5f0f\u53ef\u4ee5\u662f 2001\uff0c2001/01/01\n\n\n-datetype: PDAT \u53d1\u5e03\u65f6\u95f4\uff1bMDAT \u4fee\u6539\u65f6\u95f4\n\n\n\n\n\u5b57\u6bb5\u5b9a\u4e49\n\uff1a\n\n\n-query\u53c2\u6570: esearch \u548c efilter \u901a\u8fc7\u6dfb\u52a0\u8be5\u53c2\u6570\u8fdb\u884c\u68c0\u7d22\u6216\u8fc7\u6ee4\u76f8\u5e94\u7684\u5173\u952e\u8bcd\uff0cquery\u53c2\u6570\u53ef\u4ee5\u6dfb\u52a0 filter\uff0c\u4e0d\u540c\u6570\u636e\u5e93\u53ef\u9009\u62e9\u7684filter\u53ef\u4ee5\u7528\u4e0b\u9762\u547d\u4ee4\u6765\u67e5\u770b\u3002\n\n\n# \u67e5\u770bsra\u6570\u636e\u5e93\u7684filter\n\n$ einfo -db sra -fields\n\n\n# \u67e5\u770bsra\u6570\u636e\u5e93field\uff0c\u7528xtract\u683c\u5f0f\u5316\u8f93\u51fa\n\n$ einfo -db sra \n|\n xtract -pattern Field -element Name Description\n\n\n\n\n-query \u68c0\u7d22\u8bcd\u53ef\u4ee5\u7528\u903b\u8f91\u5173\u952e\u8bcd\u6784\u5efa\u903b\u8f91\u5173\u7cfb\uff1a\n\n\n\n\nAND\uff1a\u548c\n\n\nOR\uff1a\u6216\n\n\nNOT\uff1a\u975e\n\n\n()\uff1a\u5171\u540c\u5b9a\u4e49\n\n\n\n\n-query \u68c0\u7d22\u8bcd\u8fd8\u53ef\u4ee5\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\uff1a\n\n\n\n\n\"*\"\u661f\u53f7\u8868\u793a\u4efb\u610f\u4e2a\u5339\u914d\u7684\u5b57\u7b26\n\n\n\n\n-query \u5b57\u7b26\u4e32\u5b9a\u4e49\n\n\n\u5efa\u8bae\u7528 '...' \u5b9a\u4e49 -query \u503c\uff0c\u91cc\u9762\u7684\u5404\u4e2a\u5173\u952e\u8bcd\u7528 AND/OR \u7b49\u5efa\u7acb\u903b\u8f91\u5173\u7cfb\u3002\u5173\u952e\u8bcd\u7ec4\u6dfb\u52a0 filter \u65f6\u7528 \"...\" \u5b9a\u4e49\u3002\u5982\uff1a\n\n\n-query '\"salmonella paratyphi A\"[ORGN] AND latest[filter] AND \"complete genome[filter]\"'\n\n\n4. \u5177\u4f53\u4f7f\u7528\u793a\u4f8b\n\u00b6\n\n\n\u4e0b\u9762\u6211\u4eec\u5c31\u7528\u51e0\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u6765\u5c1d\u8bd5 edirect \u7684\u529f\u80fd\u3002\u7ed3\u5408 Linux \u5176\u4ed6\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u53ef\u4ee5\u6781\u5927\u7684\u63d0\u5347\u6211\u4eec\u5728\u547d\u4ee4\u884c\u754c\u9762\u4e0b\u68c0\u7d22\u548c\u6293\u53d6 NCBI \u6570\u636e\u5e93\u7684\u6548\u7387\u3002\n\n\n\u67e5\u770b2014~2016\u5e74\u53d1\u8868\u7684\u970d\u4e71\u5f27\u83ccCTX\u76f8\u5173\u6587\u732e\u7684\u6458\u8981\n\n\n\u7528\u5173\u952e\u8bcd vibrio cholerae CTX \u68c0\u7d22 pubmed \u6570\u636e\u5e93\uff0c\u5c06\u641c\u7d22\u5230\u7684\u6587\u732e\u7684\u6458\u8981\u4fdd\u5b58\u5230\u6587\u4ef6\u4e2d\uff0c\u65b9\u4fbf\u67e5\u770b\u3002\u7531\u4e8e\u662f\u6587\u672c\u683c\u5f0f\u7684\u5185\u5bb9\uff0c\u65b9\u4fbf\u540e\u671f\u8fdb\u4e00\u6b65\u5904\u7406\uff0c\u6bd4\u5982\u63d0\u53d6\u5355\u8bcd\u8fdb\u884c\u8bcd\u9891\u8ba1\u7b97\uff0c\u7528\u7ffb\u8bd1API\u5c06\u6458\u8981\u8fdb\u884c\u81ea\u52a8\u7ffb\u8bd1\u7b49\u7b49\u3002\n\n\n# \u793a\u4f8b\u4e3a\u4e86\u51cf\u5c11\u547d\u4e2d\u6570\u636e\uff0c\u8bbe\u7f6e\u4e86\u53d1\u5e03\u65e5\u671f\u7684 -mindate \u548c maxdata\n\n$ esearch -db pubmed -mindate \n2014\n -maxdate \n2016\n -datetype PDAT \n\\\n\n> -query \n\"vibrio cholerae CTX\"\n \n|\n efetch -format abstract > abstract.txt\n\n\n# \u65e5\u671f\u8bbe\u7f6e\u7684\u53e6\u4e00\u79cd\u5199\u6cd5\n\n$ esearch -db pubmed -query \n\"vibrio cholerae CTX AND \\\n\n\n> (2014[pdat]:2016[pdat])\"\n \n|\n efetch -format abstract > abstract.txt\n\n\n\n\n\u67e5\u770b\u6587\u7ae0\u4f5c\u8005\n\n\n\u5e38\u5e38\u4f1a\u5bf9\u67d0\u4e00\u7c7b\u6587\u7ae0\uff0c\u6216\u8005\u67d0\u4e00\u4e2a\u671f\u520a\u7684\u6587\u7ae0\u4f5c\u8005\u8fdb\u884c\u5173\u6ce8\uff0c\u8fd9\u91cc\u6839\u636e\u68c0\u7d22\u5173\u952e\u8bcd\uff0c\u683c\u5f0f\u5316\u8f93\u51fa\u6587\u7ae0\u7684ID\u548c\u4f5c\u8005\u5217\u8868\u3002\u8fd9\u4e5f\u662f xtract \u6700\u5e38\u89c1\u7684\u5e94\u7528\u4e4b\u4e00\u3002\n\n\n# \u68c0\u7d22\u5173\u952e\u8bcd\uff0c\u4ee5\u6700\u8fd1300\u5929\u4e3a\u8303\u56f4\n\n$ esearch -db pubmed -query \n\"listeria monocytogenes AND prfA\"\n -days \n300\n \n|\n \n\\\n\n> efetch -format xml \n|\n xtract -pattern PubmedArticle \n\\\n\n> -element MedlineCitation/PMID -block Author -sep \n\" \"\n \n\\\n\n> -element LastName,Initials\n\n\n\n\n\u67e5\u770b\u8fd1300\u5929\u4ee5\u6765\u53d1\u8868\u7684\u6587\u7ae0\u4e2d\uff0c\u4f5c\u8005\u4e2d\u6709\u53ebJim\u7684\u6240\u6709\u6587\u7ae0\u9898\u76ee\n\n\n\u5229\u7528 pubmed \u6570\u636e\u5e93\u7684 filter [FULL], \u67e5\u8be2\u6240\u6709\u4f5c\u8005\u5217\u8868\u91cc\u6709\u53ebJim\u7684\u6587\u7ae0\u6807\u9898\uff0c\u8fd9\u91cc\u91c7\u7528 medline \u683c\u5f0f\u8f93\u51fa\uff0c\u5982\u679c\u8981\u8fdb\u4e00\u6b65\u505a\u683c\u5f0f\u5316\u53ef\u4ee5\u7528xml\u683c\u5f0f\u518d\u7528xtract\u91cd\u65b0\u6392\u7248\u6253\u5370\u3002\n\n\n$ esearch -db pubmed -days \n300\n -query \n\"Jim[FULL]\"\n \n|\n efetch -format medline \n|\n \n\\\n\n> grep TI \n|\n awk -F\n'- '\n \n'{print $2}'\n\n\n\n\n\n\u67e5\u770b2016\u5e74CDC\u53d1\u5e03\u7684\u6240\u6709\u7528miseq\u6d4b\u5e8f\u7684\u6c99\u95e8\u83cc\u6587\u5e93\u5236\u5907\u65b9\u6cd5\n\n\n\u60f3\u8981\u4e86\u89e3 CDC \u5f00\u5c55\u7684 miseq \u6c99\u95e8\u83cc\u6d4b\u5e8f\u65f6\u91c7\u7528\u7684\u6587\u5e93\u6784\u5efa\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5229\u7528 sra \u6570\u636e\u5e93\u7684 runinfo\u4fe1\u606f\u8f93\u51fa\u83b7\u5f97\u3002\n\n\n$ esearch -db sra -query \n\"salmonella[OGRN] miseq[PLAT] EDBL-CDC\"\n \n\\\n\n> -mindate \n2016\n/01/01 -maxdate \n2016\n/12/31 -datetype PDAT \n|\n \n\\\n\n> efetch -format runinfo \n|\n cut -d \n','\n -f \n12\n > library.txt\n\n\n\n\n\u7ed8\u5236\u5355\u589e\u674e\u65af\u7279\u83cchlyA\u86cb\u767d\u8d28\u8fdb\u5316\u6811\u56fe\n\n\n$ esearch -db protein -query \n\"listeriolysin hlyA NOT partial\"\n \n|\n\n> efetch -format fasta > hlyA.fasta\n$ mafft hlyA.fasta > hlyA.mafft.fasta\n$ raxml -m GTRGAMMA -p \n12345\n -s hlyA.mafft.fasta -f a -x \n12345\n -N \n100\n -T \n40\n -n hlyA\n\n\n\n\n\u5bf910\u5e74\u5185\u53d1\u8868\u7684\u68c0\u7d22\u6587\u732e\u7684\u4f5c\u8005\u6392\u5e8f\n\n\n$ esearch -db pubmed -days \n3650\n -datetype PDAT -query \n\"hlyA\"\n \n|\n \n\\\n\n> efetch -format xml \n|\n \n\\\n\n> xtract -pattern Author -element LastName \n|\n \n\\\n\n> sort-uniq-count-rank\n\n\n\n\n\u67e5\u770b taxonomy\n\n\ntaxonomy \u6570\u636e\u5e93\u7684 filter [NXLV] \u53ef\u4ee5\u76f4\u63a5\u8f93\u51faspecies\u7ea7\u522b\n\n\n# \u83b7\u5f97 taxonomy \u6570\u636e\u5e93\u91cc lis \u6216 sal \u5f00\u5934\u7684\u5206\u7c7b\u540d\n\n$ esearch -db taxonomy -query \n\"lis* OR sal*\"\n \n|\n efetch -db taxonomy -format txt\n\n\n# \u83b7\u5f97 species \u7ea7\u7684\u6240\u6709\u6c99\u95e8\u83cc\n\n$ esearch -db taxonomy -query \n\"Salmonella[NXLV]\"\n \n|\n efetch -db taxonomy -format txt\n\n\n\n\n\u4e0b\u8f7d\u6240\u6709\u7532\u578b\u526f\u4f24\u5bd2\u6c99\u95e8\u83cc\u57fa\u56e0\u7ec4\u5e8f\u5217\n\n\n$ esearch -db nuccore -query \n\"Salmonella[porgn:__txid54388] complete genome\"\n \n|\n \n\\\n\n> efetch -db nuccore -format fasta > SPA.fasta\n\n\n\n\n\u83b7\u53d6SRA\u6570\u636e\u5e93\u4e2d\u76ee\u7684\u6570\u636e\u7684\u6d4b\u5e8f\u6837\u672c\u5730\u7406\u4fe1\u606f\n\n\n$ esearch -db sra -query \n\"China\"\n -days \n1\n \n|\n elink -target biosample \n|\n \n\\\n\n> efetch -format docsum \n|\n xtract -pattern DocumentSummary -element Accession \n\\\n\n> -block Attribute -if Attribute@attribute_nam \n\\\n\n> -equals lat_lon -element Attribute\n\n\n\n\n\u83b7\u5f97\u67d0\u4e2abioproject\u4e0b\u7684\u6240\u6709sra run\u7684\u4fe1\u606f\n\n\n$ eserach -db bioproject -query \n\"PRJNA209644\"\n \n|\n elink -target sra \n|\n \n\\\n\n> efetch -format docsum \n|\n xtract -pattern DocumentSummary -ACC @acc \n\\\n\n> -block DocumentSummary -element \n\"&ACC\"\n\n\n\n\n\n\u4e0b\u8f7dassembly\u6570\u636e\u5e93\u7684refseq\u5e8f\u5217\n\n\n$ esearch -db assembly -query \n\"Salmonella enterica[ORGN] AND 2010[GRLS]\"\n \n|\n \n\\\n\n> efetch -format docsum \n|\n xtract -pattern DocumentSummary \n\\\n\n> -element FtpPath_RefSeq \n|\n awk -F\n\"/\"\n \n'{print $0\"/\"$NF\"_genomic.fna.gz\"}'\n \n|\n \n\\\n\n> xargs wget\n\n\n\n\n\u67e5\u770bassembly meta\u4fe1\u606f\n\n\nNCBI \u7684 Assembly \u6570\u636e\u5e93\u5305\u542b\u4e86 RefSeq \u6570\u636e\u5e93\u7684\u57fa\u56e0\u7ec4\u6570\u636e\uff0c\u9009\u62e9\u76f8\u5e94\u7684\u7269\u79cd\u53ef\u4ee5\u83b7\u5f97\u8be5\u7269\u79cd\u7684\u57fa\u56e0\u7ec4\u62fc\u63a5\u5e8f\u5217\uff0c\u6709\u5b8c\u6210\u56fe\u4e5f\u6709\u975e\u5b8c\u6210\u56fe\u3002\n\n\n$ esearch -db assembly -query \n'\"salmonella paratyphi A\"[ORGN] AND latest[FILT]'\n \n|\n \n\\\n\n> efetch -format docsum \n|\n xtract -pattern Meta -block Stats \n\\\n\n> -tab \n'\\n'\n -sep \n'\\t'\n -element Stat@category Stat \n|\n sort -ur > meta.txt\n\n\n\n\nimport\n \npandas\n \nas\n \npd\n\n\nimport\n \nseaborn\n \nas\n \nsns\n\n\n\ndf\n \n=\n \npd\n.\nread_table\n(\n\"meta.txt\"\n)\n\n\nsns\n.\njointplot\n(\nx\n=\n\"contig_count\"\n,\n \ny\n=\n\"scaffold_n50\"\n,\n \ndata\n=\ndf\n)\n\n\n\n\n\n\n\n\u83b7\u53d6SRA\u83cc\u682a\u4fe1\u606f\n\n\n\u5bf9\u67d0\u4e2a\u7269\u79cd\u5f00\u5c55\u8fdb\u5316\u7814\u7a76\u65f6\uff0c\u6211\u4eec\u5f80\u5f80\u4f1a\u7adf\u53ef\u80fd\u6536\u96c6\u516c\u5171\u6570\u636e\u5e93\u4e2d\u7684\u83cc\u682a\u80cc\u666f\u4fe1\u606f\u3002\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\u641c\u7d22\u67d0\u4e2a bioproject\uff0c\u7136\u540e\u83b7\u5f97\u8be5\u7814\u7a76\u7684\u6240\u6709\u6d4b\u5e8f\u6570\u636e\u7684 sra \u80cc\u666f\u4fe1\u606f\u3002\u901a\u8fc7 \\<SAMPLE_ATTRIBUTE> \u5143\u7d20\u4e0b\u7684\u5404\u4e2a TAG \u548c VALUE \u6765\u63d0\u53d6\u6240\u9700\u4fe1\u606f\u3002\n\n\n$ esearch -db bioproject -query \n273159\n \n|\n elink -target sra \n|\n \n\\\n\n> efetch -format xml \n|\n xtract -pattern EXPERIMENT_PACKAGE -tab \n\",\"\n \n\\\n\n> -element RUN@accession -block SAMPLE_ATTRIBUTE -tab \n\"\\t\"\n -sep \n\":\"\n \n\\\n\n> -element TAG,VALUE > sample.txt\n\n\n\n\n$ head sample.txt\n\n\n\n\n\u8fd9\u6837\u8f93\u51fa\u7684\u95ee\u9898\u5728\u4e8e\u5404\u4e2a\u6d4b\u5e8f\u6570\u636e\u7684 SAMPLE_ATTRIBUTE \u7684 TAG \u987a\u5e8f\u662f\u4e71\u5e8f\u7684\uff0c\u6bcf\u4e2a SRR \u8f93\u51fa\u7684\u987a\u5e8f\u4e0d\u540c\u5bfc\u81f4\u5404\u4e2a\u5b57\u6bb5\u8981\u91cd\u65b0\u6392\u5e8f\uff0c\u6bd4\u8f83\u9ebb\u70e6\u3002\u5982\u679c\u6211\u4eec\u53ea\u9700\u8981\u5176\u4e2d\u4e00\u4e2a\u5b57\u6bb5\uff0c\u53ef\u4ee5\u7528 -if *** -eqauls *** \u6765\u8fc7\u6ee4\u3002\u6bd4\u5982\u4e0b\u9762\u4ee3\u7801\u6211\u4eec\u8f93\u51fa\u83cc\u682a\u540d\u79f0\uff1a\n\n\n$ esearch -db bioproject -query \n273159\n \n|\n elink -target sra \n|\n \n\\\n\n> efetch -format xml \n|\n xtract -pattern EXPERIMENT_PACKAGE -tab \n\",\"\n \n\\\n\n> -element RUN@accession -block SAMPLE_ATTRIBUTE -if TAG -equals \n\"strain\"\n \n\\\n\n> -element VALUE \n|\n sort > strain-name.csv\n\n\n\n\n-if \u5728\u4e00\u884c\u8f93\u51fa\u4e2d\u4e0d\u80fd\u53cd\u590d\u4f7f\u7528\uff0c\u5982\u679c\u8981\u540c\u65f6\u5bf9\u591a\u4e2a\u6837\u54c1\u4fe1\u606f\u5b57\u6bb5\u5206\u522b\u8f93\u51fa\uff0c\u6211\u4eec\u91c7\u7528\u53d8\u901a\u7684\u65b9\u6cd5\uff0c\u5148\u628a xml \u6570\u636e\u4fdd\u5b58\u5230\u672c\u5730\uff0c\u7136\u540e\u5faa\u73af\u5206\u522b\u8f93\u51fa\u5404\u4e2a\u6240\u9700\u5185\u5bb9\uff0c\u7528 sort \u6392\u5e8f\uff0c\u518d\u7528 paste \u5408\u5e76\u3002\n\n\n# \u5206\u522b\u8f93\u51fa csv \u683c\u5f0f\u7684\u6570\u636e\n\n$ \nfor\n i in serovar strain isolate_name_alias collection_date isolation_source\n;\n \n\\\n\n> \ndo\n xtract -input bioproject.xml -pattern EXPERIMENT_PACKAGE -tab \n\",\"\n \n\\\n\n> -element RUN@accession -block SAMPLE_ATTRIBUTE -if TAG -equals \n$i\n -element \n\\\n\n> VALUE \n|\n sort > \n$i\n;\n \ndone\n\n\n# \u5408\u5e76 csv\n\n$ paste -d , strain serovar isolate_name_alias collection_date > sample.csv\n\n\n\n\nReference\n\u00b6\n\n\n\n\n\n\n\n\n\n\nEntrez Direct: E-utilities on the UNIX Command Line\n\u00a0\n\u21a9\n\n\n\n\n\n\nUnix Pipeline Wikipedia\n\u00a0\n\u21a9\n\n\n\n\n\n\nMedline Element Description\n\u00a0\n\u21a9\n\n\n\n\n\n\nXML\n\u00a0\n\u21a9",
            "title": "03. \u73a9\u8f6c edirect"
        },
        {
            "location": "/chapter_03/03_edirect/#edirect",
            "text": "NCBI  \u7684  Entrez  \u5de5\u5177\u529f\u80fd\u975e\u5e38\u5f3a\u5927\uff0c\u65e2\u53ef\u4ee5\u4ece web \u9875\u9762\u8bbf\u95ee  NCBI  \u6765\u67e5\u8be2\uff0c\u4e5f\u53ef\u4ee5\u5229\u7528  Entrez  \u63d0\u4f9b\u7684  Web Services  \u6765\u5b9e\u73b0\u8bf8\u591a\u529f\u80fd\uff08\u7f16\u5199\u7b2c\u4e09\u65b9\u7a0b\u5e8f\u7b49\uff09\u3002\u6b64\u5916  NCBI  \u8fd8\u63d0\u4f9b\u4e86  Entrez  \u7684\u547d\u4ee4\u884c\u5de5\u5177 edirect 1 \u3002edirect \u5168\u540d\u4e3a  Entrez Direct \uff0c\u91cc\u9762\u5305\u542b\u4e86\u4e00\u7ec4\u5404\u53f8\u5176\u804c\u7684\u5de5\u5177\u548c\u811a\u672c\uff0c\u901a\u8fc7 Linux \u7cfb\u7edf\u4e0b\u7684\u7ba1\u9053pipeline 2 \u529f\u80fd\u8054\u5408\u4f7f\u7528\u8fd9\u4e9b\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u5728\u670d\u52a1\u5668\u4e0a\u5b9e\u73b0\u9ad8\u6548\u7684\u8fdb\u884c  Entrez  \u7684\u68c0\u7d22\uff0c\u6293\u53d6\uff0c\u8fc7\u6ee4\uff0c\u6392\u5e8f\u7b49\u64cd\u4f5c\u3002",
            "title": "\u73a9\u8f6c edirect"
        },
        {
            "location": "/chapter_03/03_edirect/#1",
            "text": "",
            "title": "1. \u5b89\u88c5"
        },
        {
            "location": "/chapter_03/03_edirect/#11",
            "text": "edirect \u76f4\u63a5\u4e0b\u8f7d\u9884\u7f16\u8bd1\u5305\uff0c\u6dfb\u52a0\u5230\u7cfb\u7edf\u8def\u5f84\u4e2d\u5373\u53ef\u3002  # \u4e0b\u8f7d edirect \u5b89\u88c5\u5305 \n$ wget ftp://ftp.ncbi.nlm.nih.gov/entrez/entrezdirect/edirect.tar.gz # \u5c06 edirect \u5b89\u88c5\u5728\u7528\u6237 app \u76ee\u5f55\u4e0b\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u6c42\u81ea\u884c\u9009\u62e9\u5b89\u88c5\u8def\u5f84 \n$ tar zxvf edirect.tar.gz -C ~/app # \u8fd0\u884c\u5b89\u88c5\u811a\u672c \n$  cd  ~/app/edirect\n$ ./setup.sh # \u6dfb\u52a0\u8f6f\u4ef6\u5b89\u88c5\u76ee\u5f55\u5230\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u4e2d \n$  echo   \"export PATH='\\$PATH:\\$HOME/app/edirect/'\"  >> ~/.bashrc\n$  source  ~/.bashrc   \u5b89\u88c5\u8bf4\u660e  \u8010\u5fc3\u7b49\u5f85\u4e00\u4f1a\uff0c\u5f53\u770b\u5230\u4e0b\u9762\u5b57\u7b26\u65f6\uff0c\u8868\u793a\u5b89\u88c5\u6210\u529f\u3002   ENTREZ DIRECT HAS BEEN SUCCESSFULLY INSTALLED AND CONFIGURED  \u4e5f\u53ef\u4ee5\u4e0d\u8fd0\u884c  setup.sh  \u76f4\u63a5\u4f7f\u7528 edirect \u7684\u4e00\u4e9b\u5de5\u5177\uff0c\u4e0d\u8fc7\u5982\u679c\u8981\u4f7f\u7528\u5168\u90e8\u529f\u80fd\uff0c\u6709\u4e9bperl\u6a21\u5757\u9700\u8981\u5b89\u88c5\uff0c\u8fd0\u884c  setup.sh  \u6765\u81ea\u52a8\u5b8c\u6210 CPAN \u7684 modual \u5b89\u88c5\u4ee5\u53ca go \u7248\u672c\u7684 xtract \u7684\u7f16\u8bd1\uff08\u4e0d\u8fd0\u884c\u5b89\u88c5\u811a\u672c\u4f1a\u8c03\u7528 perl \u7248\u672c\u7684 xtract\uff0c\u6570\u636e\u91cf\u5927\u65f6\u901f\u5ea6\u7565\u6162\uff09\u3002   \u63d0\u793a  \u5bf9\u4e8e\u90e8\u5206\u64cd\u4f5c\u7cfb\u7edf\u5982  ubuntu  \u7b49\uff0c uname  \u4f4d\u4e8e /bin\uff0c\u800c xtract \u63a5\u53e3\u8c03\u7528\u811a\u672c\u4f7f\u7528 /usr/bin/uname \u6765\u5224\u65ad\u4f7f\u7528\u90a3\u4e2a\u7248\u672c\u7684 xtract\uff0c\u5982\u679c\u8981\u5728\u8fd9\u4e9b\u64cd\u4f5c\u7cfb\u7edf\u4e0b\u6b63\u5e38\u4f7f\u7528 xtract\uff0c\u9700\u8981\u8ba9\u7a0b\u5e8f\u5728\u6b63\u786e\u8def\u5f84\u53ef\u8bc6\u522b\uff0c\u8fd9\u91cc\u901a\u8fc7\u6dfb\u52a0\u7cfb\u7edf link \u5230 /usr/bin/unname\u3002   # \u67e5\u770b uname \u8def\u5f84\u3002 \n$ which uname # \u5982\u679c\u662f\u4f4d\u4e8e /bin/ \u4e0b\uff0c\u5c06\u5176\u94fe\u63a5\u5230 /usr/bin/ \u4e0b\u5373\u53ef\u3002 \n$ sudo ln -s /bin/uname /usr/bin/uname",
            "title": "1.1 \u4e0b\u8f7d\u5b89\u88c5"
        },
        {
            "location": "/chapter_03/03_edirect/#12-conda",
            "text": "\u5982\u679c\u7cfb\u7edf\u901a\u8fc7 conda \u8fdb\u884c\u8f6f\u4ef6\u7ba1\u7406\uff0c\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u5f0f\u5b89\u88c5\u3002  $ conda install entrez-direct  \u4e0d\u8fc7 conda \u5b89\u88c5\u7684\u8fd8\u662f perl \u7248\u672c\u7684 xtract\uff0c\u800c\u4e0d\u662f go \u7248\u672c\u7684\uff0c\u9700\u8981\u5230 conda/pkgs \u5305\u6839\u76ee\u5f55\u4e2d\u7684 edirect \u76f8\u5e94\u76ee\u5f55\uff0c\u7528  setup.sh  \u81ea\u884c\u7f16\u8bd1\u540e\u751f\u6210 xtract.Linux(Linux \u64cd\u4f5c\u7cfb\u7edf)\uff0c\u5c06\u5176\u590d\u5236\u5230 conda \u7684 bin \u8def\u5f84\u5373\u53ef\u3002go \u7248\u672c\u7684 xtract \u53ef\u4ee5\u7528 -help \u53c2\u6570\u67e5\u770b\u5e2e\u52a9\u3002",
            "title": "1.2 conda \u4e2d\u5b89\u88c5"
        },
        {
            "location": "/chapter_03/03_edirect/#2",
            "text": "\u4e3b\u8981\u5de5\u5177\u5217\u8868  \u5728 edirect \u5b89\u88c5\u76ee\u5f55\u4e0b\u53ef\u4ee5\u770b\u5230\u6240\u6709\u7684\u53ef\u6267\u884c\u547d\u4ee4\uff0c\u5176\u4e2d\u6700\u5e38\u7528\u7684\u5de5\u5177\u53c2\u89c1\u4e0b\u8868      \u5de5\u5177\u540d\u79f0  \u5de5\u5177\u7528\u9014  \u5e38\u7528\u53c2\u6570      esearch  \u641c\u7d22\u547d\u4ee4\uff0c\u5c06\u6240\u8981\u68c0\u7d22\u7684\u5185\u5bb9\u63d0\u4ea4\u5230 Entrez \u4e2d\uff0c\u8fd4\u56de\u76f8\u5e94\u7684\u7ed3\u679c\u8bb0\u5f55  -db\u3001-query    efetch  \u4e0b\u8f7d NCBI \u6570\u636e\u5e93\u4e2d\u7684\u8bb0\u5f55\u548c\u62a5\u544a\u5e76\u4ee5\u76f8\u5e94\u683c\u5f0f\u6253\u5370\u8f93\u51fa  -db\u3001-id\u3001-format\u3001-mode    einfo  \u83b7\u53d6\u76ee\u6807\u7ed3\u679c\u5728\u6570\u636e\u5e93\u4e2d\u7684\u4fe1\u606f  -db\u3001-dbs\u3001-fields\u3001-links    elink  \u5bf9\u76ee\u6807\u7ed3\u679c\u5728\u5176\u4ed6\u6570\u636e\u5e93\u4e2d\u6bd4\u914d\u7ed3\u679c  -db\u3001-id\u3001-related\u3001-target\u3001-name    epost  \u4e0a\u4f20 UIDs \u6216\u8005 \u5e8f\u5217\u767b\u8bb0\u53f7  -db\u3001-id\u3001-format\u3001-input\u3001-label    efilter  \u5bf9\u4e4b\u524d\u7684\u68c0\u7d22\u7ed3\u679c\u8fdb\u884c\u8fc7\u6ee4\u6216\u9650\u5236  -query\u3001-sort\u3001-field    xtract  \u5c06esearch\u83b7\u5f97\u7684 XML \u683c\u5f0f\u7ed3\u679c\u8f6c\u6362\u6210\u8868\u683c\u683c\u5f0f  -pattern\u3001-if\u3001-block\u3001-element\u3001-sep\u3001-filter    esummary  \u83b7\u5f97 XML \u683c\u5f0f\u7684\u5efa\u7acb  -db\u3001-id\u3001-format\u3001-mode    ecitmatch  \u7edf\u8ba1\u5f15\u7528\u6570\u636e  -journal\u3001-year\u3001-volume\u3001-page\u3001-author",
            "title": "2. \u57fa\u672c\u7528\u6cd5"
        },
        {
            "location": "/chapter_03/03_edirect/#21-esearch",
            "text": "esearch  \u8d1f\u8d23\u68c0\u7d22\u5e76\u8fd4\u56de xml \u683c\u5f0f\u7684\u547d\u4e2d\u60c5\u51b5\u3002\u4f7f\u7528 esearch \u547d\u4ee4\uff0c\u76f8\u5f53\u4e8e\u5e73\u65f6\u4f60\u901a\u8fc7\u6d4f\u89c8\u5668\u8bbf\u95ee NCBI\uff0c\u5728  GQuery  \u7684  nucletide  \u6570\u636e\u5e93\u641c\u7d22\u89c1\u9762\u641c\u7d20\u5173\u952e\u5b57  salmonella \uff0c\u8fd4\u56de\u547d\u4e2d\u7ed3\u679c\u3002  $ esearch -db nuccore -query  \"salmonella\"   \u7ec8\u7aef\u91cc\u4f1a\u8fd4\u56de\u547d\u4e2d\u7ed3\u679c\uff1a  <ENTREZ_DIRECT> \n   <Db> nuccore </Db> \n   <WebEnv> NCID_1_153624467_130.14.18.34_9001_1490828308_1411373464_0MetA0_S_MegaStore_F_1 </WebEnv> \n   <QueryKey> 1 </QueryKey> \n   <Count> 2093561 </Count> \n   <Step> 1 </Step>  </ENTREZ_DIRECT>   esearch  \u9700\u8981\u8bbe\u7f6e\u7684\u53c2\u6570\u6709  -db \uff08\u6240\u8981\u641c\u7d22\u7684\u76ee\u6807\u6570\u636e\u5e93\uff09\u548c  -query \uff08\u6240\u8981\u641c\u7d22\u7684\u5173\u952e\u8bcd\uff09\u3002  \u7ed3\u679c\u9ed8\u8ba4\u8fd4\u56de xml \u683c\u5f0f\u7684\u6570\u636e\uff08\u53c2\u89c1  <ENTREZ_DIRECT> ... </ENTREZ_DIRECT> \uff09\uff0c\u5176\u4e2d   \u4e2d\u7684\u6570\u503c\u8868\u793a\u68c0\u7d22\u547d\u4e2d\u7684\u8bb0\u5f55\u6570\uff0c\u8fd9\u4e0e  NCBI  \u7684  Entrez  \u7f51\u9875\u754c\u9762\u91cc\u8fdb\u884c\u68c0\u7d22\u64cd\u4f5c\u7684\u7ed3\u679c\u662f\u4e00\u81f4\u7684\u3002  esearch  \u8fd8\u6709\u4e00\u4e2a\u53c2\u6570 -sort \u53ef\u4ee5\u6839\u636e\u6570\u636e\u5e93\u7c7b\u578b\u8fd4\u56de\u4e0d\u540c\u7684\u6392\u5e8f\u65b9\u5f0f\u3002\u9ed8\u8ba4\u7684\u6392\u5e8f\u65b9\u5f0f\u662f\u6309\u7167\u65f6\u95f4\u9006\u5e8f\u6392\u5217\u7684\u3002\u60f3\u8981\u5f97\u5230\u51c6\u786e\u7684\u67e5\u8be2\u7ed3\u679c\uff0c\u4f18\u5316 query \u5f88\u91cd\uff0c\u53ef\u4ee5\u53c2\u89c1  Filter  \u76f8\u5173\u5185\u5bb9\u3002",
            "title": "2.1 esearch"
        },
        {
            "location": "/chapter_03/03_edirect/#22-efetch",
            "text": "efetch  \u53ef\u4ee5\u7528\u6765\u4e0b\u8f7d\u5404\u4e2a\u6570\u636e\u5e93\u7684\u5404\u79cd\u683c\u5f0f\u6570\u636e\u3002\u4f60\u53ef\u4ee5\u901a\u8fc72\u79cd\u65b9\u5f0f\u4e0b\u8f7d\uff1a   \u7528 esearch \u83b7\u5f97\u547d\u4e2d\u8bb0\u5f55\u540e\u518d\u4e0b\u8f7d\u3002\u4e0b\u9762\u8fd9\u4e2a\u547d\u4ee4\uff0c\u5c31\u4f1a\u4e0b\u8f7d\u6240\u6709\u7ed3\u679c\u5e76\u4fdd\u5b58\u5230 result.fasta \u6587\u4ef6\u4e2d\u3002   $ esearch -db nuccore -query  \"salmonella\"  -days  10   |   \\ \n> efetch -format fasta -db nuccore > result.fasta   Warning  \u4e00\u5b9a\u8981\u6ce8\u610f\u641c\u7d22\u547d\u4e2d\u503c\u7684\u6570\u91cf\uff0c\u5173\u952e\u8bcd\u547d\u4e2d\u592a\u591a\uff0c\u6570\u636e\u91cf\u4f1a\u592a\u5927\uff0c\u5168\u90e8\u4e0b\u8f7d\u53ef\u80fd\u76f4\u63a5\u8fdb\u5165\u5047\u6b7b\u72b6\u6001\u3002\u5e94\u8be5\u901a\u8fc7\u8bbe\u7f6e\u53c2\u6570\u6765\u9650\u5b9a\u641c\u7d22\u7ed3\u679c\u3002\u5f53\u4e0d\u786e\u5b9a\u65f6\uff0c\u5148\u7528esearch\u5de5\u5177\u770b\u8fd4\u56de\u7684\u547d\u4e2d\u503c \u6709\u591a\u5c11\u518d\u51b3\u5b9a\u662f\u5426\u8fdb\u4e00\u6b65\u9650\u5b9a\u3002    \u76f4\u63a5\u6307\u5b9a id \u4e0b\u8f7d   $ efetch -db pubmed -id  2142131  -format txt  efetch  \u8bbe\u7f6e\u7684\u53c2\u6570\u662f  -db \uff0c\u5c06\u641c\u7d22\u547d\u4e2d\u7684\u8bb0\u5f55\u4ece\u8be5\u6570\u636e\u5e93\u8fdb\u884c\u3002\u5982\u679c  esearch  \u68c0\u7d22\u7684\u7ed3\u679c\u548c\u9700\u8981\u4e0b\u8f7d\u7684\u7ed3\u679c\u6765\u81ea\u540c\u4e00\u6570\u636e\u5e93\uff0c\u53ef\u4ee5\u4e0d\u6dfb\u52a0  -db  \u53c2\u6570\uff0c\u7cfb\u7edf\u4f1a\u9ed8\u8ba4\u4f7f\u7528esearch\u7684\u6570\u636e\u5e93\u3002  efetch  \u8fd8\u8981\u8bbe\u7f6e\u7684\u53c2\u6570\u662f  -format \uff0c\u5373\u4e0b\u8f7d\u6570\u636e\u7684\u683c\u5f0f\u3002\u5e38\u7528\u7684\u6709  xml  \u683c\u5f0f\uff0c\u540e\u7eed\u53ef\u4ee5\u901a\u8fc7  xtract  \u548c  linux  \u4e00\u4e9b\u547d\u4ee4\u884c\u5de5\u5177\u6765\u505a\u5904\u7406\u3002\u4f60\u4e5f\u53ef\u4ee5\u76f4\u63a5\u6dfb\u52a0  -id  \u53c2\u6570\u76f4\u63a5\u8fdb\u884c\u4e0b\u8f7d\u800c\u4e0d\u901a\u8fc7  esearch  \u68c0\u7d22\u540e\u4e0b\u8f7d\u3002\u5982\u4e0b\u9762\u4f8b\u5b50\u4e2d\u5c06  pubmed id 2137412  \u7684\u6587\u732e\u8f93\u51fa\uff0c\u683c\u5f0f\u4e3a Medline 3  # \u641c\u7d22 pubmed \u6570\u636e\u5e93\u7f16\u53f7 2137412 \u7684\u6587\u732e\uff0c\u4ee5 medline \u683c\u5f0f\u8f93\u51fa \n$ efetch -db pubmed -id  2137412  -format medline  \u5bf9\u4e8e efetch \u53ef\u4ee5\u4e0b\u8f7d\u90a3\u4e9b\u6570\u636e\u5e93\uff0c\u5bf9\u4e8e\u5404\u4e2a\u6570\u636e\u5e93\u540d\u79f0\u548c\u6570\u636e\u683c\u5f0f\uff0c\u53ef\u4ee5\u7528 -h \u6765\u67e5\u770b  $ efetch -h",
            "title": "2.2 efetch"
        },
        {
            "location": "/chapter_03/03_edirect/#23-xtract",
            "text": "edirect \u7684\u6838\u5fc3\u547d\u4ee4\uff0c\u7531\u4e8e  esearch  \u67e5\u8be2\u548c\u4e0b\u8f7d\u7684\u6570\u636e\u5e38\u5e38\u662f xml \u683c\u5f0f\u7684\uff0c\u5bf9\u4e8e XML 4  \u683c\u5f0f\u7684\u6570\u636e\uff0c\u53ef\u4ee5\u7528  xtract  \u5de5\u5177\u5c06\u5176\u8f6c\u6362\u6210\u7eaf\u6587\u672c\u683c\u5f0f\u7684\u5185\u5bb9\u3002xtract \u4e0d\u4ec5\u53ef\u4ee5\u8f6c\u6362  NCBI  \u7684 XML \u683c\u5f0f\u6587\u4ef6\uff0c\u5bf9\u4e8e\u4efb\u4f55\u901a\u7528\u7684 XML \u683c\u5f0f\u6587\u4ef6\u90fd\u53ef\u4ee5\u8fdb\u884c\u8f6c\u6362\u3002  xtract \u57fa\u672c\u7528\u6cd5\uff1a  # \u8bfb\u53d6 XML \u6587\u4ef6\u65b9\u5f0f\n$ xtract -input XML-file.xml  \u4e00\u822c\u6211\u4eec\u90fd\u662f\u901a\u8fc7\u7ba1\u9053\u5de5\u5177 Pipeline \u7ec4\u5408 esearch \u548c efetch \u7b49\u5de5\u5177\u83b7\u5f97 XML \u683c\u5f0f\u7684 NCBI \u6570\u636e\u5e93\u547d\u4e2d\u8bb0\u5f55\u540e\uff0c\u518d\u7528 xtract \u8fdb\u884c\u5904\u7406\u3002  $ esearch -db pubmed -query  'E. coli AND (2016/12/30[pdat]:2016/12/31[pdat])'   |   \\ \n> efetch -format xml  |  xtract -pattern PubmedArticle -element  \\ \n> MedlineCitation/PMID Journal/ISOAbbreviation ArticleTitle  \u8fd9\u6761\u547d\u4ee4\u5c06\u68c0\u7d22\u5230\u7684\u6587\u732e\u8bb0\u5f55\u8f6c\u6362\u6210\u884c\uff0c\u518d\u4ee5 PMID\uff0c\u6742\u5fd7\u540d\u7f29\u5199\u548c\u6587\u7ae0\u9898\u76ee\u4e3a\u5217\u5c55\u5f00\u3002\u547d\u4ee4\u6253\u5370\u7684\u7ed3\u679c\u5982\u4e0b\uff1a  28239441J Public Health AfrQuality and labeling information of Mo       ringa oleifera products marketed for HIV-infected people in Zimbabwe.\n28115890Korean J Food Sci Anim ResourAntimicrobial Activity of Kefir against Variou     s Food Pathogens and Spoilage Bacteria.\n28110668Enzyme Microb. Technol  .A novel thermophilic and halophilic esterase from Janibacter sp. R02,   the first member of a new lipase family (Family XVII).\n...\n27030192J.   Vet. Sci.Development and evaluation of an immunochromatographic assay   using a gp51 monoclonal antibody for the detection of antibodies against the bovine leukemia virus.  \u5f53\u6211\u4eec\u4e0d\u6e05\u695aXML\u5143\u7d20\u7ed3\u6784\u65f6\uff0c\u53ef\u4ee5\u7528\u4ee5\u4e0b\u547d\u4ee4\u6253\u5370\u51fa\u6811\u5f62\u7ed3\u6784\u3002  $ xtract -input my.xml -outline  xtract \u53ef\u4ee5\u7075\u6d3b\u7684\u6539\u53d8\u6570\u636e\u7684\u683c\u5f0f\uff0c\u6240\u4ee5\u6d89\u53ca\u7684\u53c2\u6570\u4e5f\u6bd4\u8f83\u591a\u3002\u8981\u60f3\u83b7\u5f97\u81ea\u5df1\u9700\u8981\u7684\u6570\u636e\u683c\u5f0f\uff0c\u8981\u60f3\u7528\u597d edirect\uff0c\u638c\u63e1\u597d xtract \u7684\u7528\u6cd5\u662f\u5fc5\u4e0d\u53ef\u5c11\u7684\u3002  -pattern \u53c2\u6570 : \u5c06 xml \u683c\u5f0f\u6570\u636e\uff0c\u5c06 \u8f6c\u6362\u6210\u884c\u683c\u5f0f\u6570\u636e\u3002\u6bcf\u4e00\u4e2aelement\u5305\u542b\u7684\u6570\u636e\u505a\u4e3a\u4e00\u884c\u3002  xtract \u547d\u4ee4\u9996\u5148\u8981\u901a\u8fc7 -pattern \u5b9a\u4e49\u6240\u8981\u5206\u6790\u7684\u6570\u636e\u7ea7\u522b\u3002\u6bd4\u5982\u5bf9\u4e8e pubmed \u6570\u636e\u5e93\uff0cefetch \u8f93\u51fa -format \u683c\u5f0f\u4e3a docsum\uff0c\u90a3\u4e48\u6211\u4eec\u4e00\u822c\u8981\u6293\u53d6\u7684\u662f\u6bcf\u4e00\u4e2a\u547d\u4e2d\u7684\u6587\u732e\u8bb0\u5f55\uff0c-pattern \u5c31\u53ef\u4ee5\u7528 DocumentSummary \u5143\u7d20\u3002\u5982\u679c\u4f60\u53ea\u60f3\u77e5\u9053\u6240\u6709\u547d\u4e2d\u6587\u732e\u7684\u4f5c\u8005\uff08\u6bd4\u5982\u6309\u7167\u6b21\u6570\u6392\u5e8f\uff09\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u76f4\u63a5\u5c06 -pattern \u5b9a\u4e49\u4e3a Author\u3002  -element \u53c2\u6570 : \u5c06  -pattern  \u5b9a\u4e49\u7684\u884c\u4e2d\u4ee5\u6bcf\u4e2aelement\u5f62\u6210\u4e00\u5217\u3002\u6bcf\u4e2aelement\u4ee5tab\u952e\u5206\u9694\u3002  \u6bcf\u4e2a -pattern \u5b9a\u4e49\u540e\uff0c\u8981\u591a -pattern \u5b9a\u4e49\u7684\u5143\u7d20\u7684\u5b50\u5143\u7d20\u8fdb\u884c\u8f93\u51fa\uff0c\u5c31\u8981\u7528\u5230 -element \u53c2\u6570\u4e86\u3002-element \u53ef\u4ee5\u8ddf\u591a\u4e2a\u5b50\u5143\u7d20\uff0c\u9ed8\u8ba4\u4ee5tab\u952e\u5206\u5272\u3002\u4f46\u662f\u8981\u6ce8\u610f\u7684\u662f\u5b50\u5143\u7d20\u5fc5\u987b\u662f\u552f\u4e00\u5b50\u5143\u7d20\uff0c\u6bd4\u5982 -pattern \u5982\u679c\u5b9a\u4e49\u4e3a DocumentSummary\uff0c\u90a3\u4e48\u6bcf\u4e2a DocumentSummary \u5143\u7d20\u6709\u4e00\u4e2a Authors \u5b50\u5143\u7d20\uff0c\u800c\u6bcf\u4e2a Authors \u6709\u591a\u4e2a Author \u5b50\u5143\u7d20\uff08\u56e0\u4e3a\u4e00\u7bc7\u6587\u732e\u6709\u591a\u4e2a\u4f5c\u8005\uff09\uff0c\u5982\u679c\u76f4\u63a5\u5c06 -element Author\uff0c\u662f\u65e0\u6cd5\u8fd4\u56de\u4f5c\u8005\u4fe1\u606f\u7684\u3002\u9700\u8981\u7528 -block \u53c2\u6570\u628a Authors \u5217\u8f6c\u6362\u6210\u884c\u518d\u8fdb\u884c\u5206\u5272\u3002  -block \u53c2\u6570 : \u53ef\u4ee5\u5c06\u67d0\u4e2aXML\u6807\u7b7e\u4e0b\u7684\u591a\u4e2a\u76f8\u540c\u6807\u7b7e\u8f6c\u6362\u6210\u4e00\u884c\u7684\u591a\u4e2a\u5143\u7d20\uff0c\u6700\u5e38\u89c1\u7684\u7528\u6cd5\u662f\u5728  pubmed  \u6570\u636e\u5e93\u68c0\u7d22\u6587\u732e\u65f6 \u4e0b\u591a\u4e2a \u6807\u7b7e\u6253\u5370\u51fa\u6765\u3002  $ esearch -db pubmed -query  \"Salmonella[ORGN]\"  -days  5   |  efetch -format xml  |   \\ \n> xtract -pattern PubmedArticle -block Author -sep  \" \"  -element LastName,Initials  -tab\u3001-sep \u53c2\u6570 : \u5c06\u591a\u6761 element \u8bb0\u5f55\u5206\u5272\u3002  / : \u4e3b\u8981\u7528\u5728\u5b9a\u4e49\u8fde\u7eed\u591a\u5c42\u6807\u7b7e\u7684\u5b9a\u4e49\u4e0a\u3002\u6bd4\u5982PMID\u6807\u7b7e\u5373\u53ef\u4ee5\u5728 MedlineCitation \u6807\u7b7e\u4e0b\uff0c\u6709\u65f6\u4e5f\u4f1a\u5728 RefSource \u6807\u7b7e\u4e0b\u3002\u6240\u4ee5\u8981\u660e\u786e\u68c0\u7d22\u6587\u732e\u7684 PMID\uff0c\u5c31\u5e94\u8be5\u7528  MedlineCitation/PMID  @ : \u6307\u5b9a XML \u5143\u7d20 element \u7684 attribute \u503c  -if\u3001-if/-equals\u3001-if/-contains \u53c2\u6570 : \u6761\u4ef6\u8fd0\u7b97\u7b26  -and\u3001-or\u3001-position\u3001-def \u53c2\u6570 : \u5173\u7cfb\u8fd0\u7b97\u7b26",
            "title": "2.3 xtract"
        },
        {
            "location": "/chapter_03/03_edirect/#24-einfo",
            "text": "\u5bf9\u4e8e NCBI \u6570\u636e\u5e93\u7684\u5404\u9879\u590d\u6742\u53c2\u6570\uff0c\u5b57\u6bb5\u7b49\u8981\u5b8c\u5168\u4e86\u89e3\u548c\u638c\u63e1\u6bd4\u8f83\u56f0\u96be\u3002edirect \u91cc\u63d0\u4f9b\u4e86 einfo \u5de5\u5177\uff0c\u8fd9\u6837\u5176\u4ed6\u5de5\u5177\u6240\u80fd\u8bbf\u95ee\u7684\u5177\u4f53\u6570\u636e\u5e93\u3001\u5b57\u6bb5\u548c\u53ef\u94fe\u63a5\u6570\u636e\u5e93\u7b49\u4fe1\u606f\u90fd\u53ef\u4ee5\u7528 einfo \u4e86\u89e3\u3002  # \u67e5\u8be2 `esearch -db` \u53c2\u6570\u6240\u80fd\u8bbf\u95ee\u7684\u6240\u6709\u6570\u636e\u5e93\u540d\u79f0 \n$ einfo -dbs  |  sort # \u67e5\u8be2\u67d0\u4e2a\u6570\u636e\u5e93\u5b57\u6bb5\u60c5\u51b5\uff0c\u5982 sra \u6570\u636e\u5e93\u6240\u6709\u5bf9\u5e94\u7684\u5b57\u6bb5\u540d\u79f0 \n$ einfo -db sra -fields # \u67e5\u8be2\u6570\u636e\u5e93\u6240\u6709\u53ef\u94fe\u63a5\u7684\u5176\u4ed6\u6570\u636e\u5e93 \n$ einfo -db sra -links",
            "title": "2.4 einfo"
        },
        {
            "location": "/chapter_03/03_edirect/#3-filtering-queries",
            "text": "\u5de5\u5177 esearch \u548c efilter \u5728\u505a\u68c0\u7d22\u65f6\u5982\u679c\u505a\u597d\u7b5b\u9009\uff0c\u80fd\u6709\u52a9\u4e8e\u83b7\u5f97\u51c6\u786e\u7684\u7ed3\u679c\u3002\u7b5b\u9009\u67092\u79cd\u65b9\u5f0f\uff0c\u4e00\u79cd\u662f\u901a\u8fc7\u6dfb\u52a0\u53c2\u6570\u6765\u7b5b\u9009\u3002\u53e6\u4e00\u79cd\u662f\u5bf9 query \u53c2\u6570\u6dfb\u52a0\u5b57\u6bb5\u5b9a\u4e49\u6765\u7b5b\u9009\u3002  \u53c2\u6570\u8fc7\u6ee4 \uff1a  \u5e38\u7528\u7684\u53c2\u6570\u4e3a\u65e5\u671f\u53c2\u6570   -days 100\uff1a100\u5929\u5185\u7684\u68c0\u7d22\u6761\u4ef6\u547d\u4e2d  -maxdate\uff1a\u65f6\u95f4\u6bb5\u6700\u5927\u65e5\u671f\uff0c\u683c\u5f0f\u53ef\u4ee5\u662f 2001\uff0c2001/01/01  -mindate\uff1a\u65f6\u95f4\u6bb5\u6700\u5c0f\u65e5\u671f\uff0c\u683c\u5f0f\u53ef\u4ee5\u662f 2001\uff0c2001/01/01  -datetype: PDAT \u53d1\u5e03\u65f6\u95f4\uff1bMDAT \u4fee\u6539\u65f6\u95f4   \u5b57\u6bb5\u5b9a\u4e49 \uff1a  -query\u53c2\u6570: esearch \u548c efilter \u901a\u8fc7\u6dfb\u52a0\u8be5\u53c2\u6570\u8fdb\u884c\u68c0\u7d22\u6216\u8fc7\u6ee4\u76f8\u5e94\u7684\u5173\u952e\u8bcd\uff0cquery\u53c2\u6570\u53ef\u4ee5\u6dfb\u52a0 filter\uff0c\u4e0d\u540c\u6570\u636e\u5e93\u53ef\u9009\u62e9\u7684filter\u53ef\u4ee5\u7528\u4e0b\u9762\u547d\u4ee4\u6765\u67e5\u770b\u3002  # \u67e5\u770bsra\u6570\u636e\u5e93\u7684filter \n$ einfo -db sra -fields # \u67e5\u770bsra\u6570\u636e\u5e93field\uff0c\u7528xtract\u683c\u5f0f\u5316\u8f93\u51fa \n$ einfo -db sra  |  xtract -pattern Field -element Name Description  -query \u68c0\u7d22\u8bcd\u53ef\u4ee5\u7528\u903b\u8f91\u5173\u952e\u8bcd\u6784\u5efa\u903b\u8f91\u5173\u7cfb\uff1a   AND\uff1a\u548c  OR\uff1a\u6216  NOT\uff1a\u975e  ()\uff1a\u5171\u540c\u5b9a\u4e49   -query \u68c0\u7d22\u8bcd\u8fd8\u53ef\u4ee5\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\uff1a   \"*\"\u661f\u53f7\u8868\u793a\u4efb\u610f\u4e2a\u5339\u914d\u7684\u5b57\u7b26   -query \u5b57\u7b26\u4e32\u5b9a\u4e49  \u5efa\u8bae\u7528 '...' \u5b9a\u4e49 -query \u503c\uff0c\u91cc\u9762\u7684\u5404\u4e2a\u5173\u952e\u8bcd\u7528 AND/OR \u7b49\u5efa\u7acb\u903b\u8f91\u5173\u7cfb\u3002\u5173\u952e\u8bcd\u7ec4\u6dfb\u52a0 filter \u65f6\u7528 \"...\" \u5b9a\u4e49\u3002\u5982\uff1a  -query '\"salmonella paratyphi A\"[ORGN] AND latest[filter] AND \"complete genome[filter]\"'",
            "title": "3. Filtering Queries"
        },
        {
            "location": "/chapter_03/03_edirect/#4",
            "text": "\u4e0b\u9762\u6211\u4eec\u5c31\u7528\u51e0\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u6765\u5c1d\u8bd5 edirect \u7684\u529f\u80fd\u3002\u7ed3\u5408 Linux \u5176\u4ed6\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u53ef\u4ee5\u6781\u5927\u7684\u63d0\u5347\u6211\u4eec\u5728\u547d\u4ee4\u884c\u754c\u9762\u4e0b\u68c0\u7d22\u548c\u6293\u53d6 NCBI \u6570\u636e\u5e93\u7684\u6548\u7387\u3002  \u67e5\u770b2014~2016\u5e74\u53d1\u8868\u7684\u970d\u4e71\u5f27\u83ccCTX\u76f8\u5173\u6587\u732e\u7684\u6458\u8981  \u7528\u5173\u952e\u8bcd vibrio cholerae CTX \u68c0\u7d22 pubmed \u6570\u636e\u5e93\uff0c\u5c06\u641c\u7d22\u5230\u7684\u6587\u732e\u7684\u6458\u8981\u4fdd\u5b58\u5230\u6587\u4ef6\u4e2d\uff0c\u65b9\u4fbf\u67e5\u770b\u3002\u7531\u4e8e\u662f\u6587\u672c\u683c\u5f0f\u7684\u5185\u5bb9\uff0c\u65b9\u4fbf\u540e\u671f\u8fdb\u4e00\u6b65\u5904\u7406\uff0c\u6bd4\u5982\u63d0\u53d6\u5355\u8bcd\u8fdb\u884c\u8bcd\u9891\u8ba1\u7b97\uff0c\u7528\u7ffb\u8bd1API\u5c06\u6458\u8981\u8fdb\u884c\u81ea\u52a8\u7ffb\u8bd1\u7b49\u7b49\u3002  # \u793a\u4f8b\u4e3a\u4e86\u51cf\u5c11\u547d\u4e2d\u6570\u636e\uff0c\u8bbe\u7f6e\u4e86\u53d1\u5e03\u65e5\u671f\u7684 -mindate \u548c maxdata \n$ esearch -db pubmed -mindate  2014  -maxdate  2016  -datetype PDAT  \\ \n> -query  \"vibrio cholerae CTX\"   |  efetch -format abstract > abstract.txt # \u65e5\u671f\u8bbe\u7f6e\u7684\u53e6\u4e00\u79cd\u5199\u6cd5 \n$ esearch -db pubmed -query  \"vibrio cholerae CTX AND \\  > (2014[pdat]:2016[pdat])\"   |  efetch -format abstract > abstract.txt  \u67e5\u770b\u6587\u7ae0\u4f5c\u8005  \u5e38\u5e38\u4f1a\u5bf9\u67d0\u4e00\u7c7b\u6587\u7ae0\uff0c\u6216\u8005\u67d0\u4e00\u4e2a\u671f\u520a\u7684\u6587\u7ae0\u4f5c\u8005\u8fdb\u884c\u5173\u6ce8\uff0c\u8fd9\u91cc\u6839\u636e\u68c0\u7d22\u5173\u952e\u8bcd\uff0c\u683c\u5f0f\u5316\u8f93\u51fa\u6587\u7ae0\u7684ID\u548c\u4f5c\u8005\u5217\u8868\u3002\u8fd9\u4e5f\u662f xtract \u6700\u5e38\u89c1\u7684\u5e94\u7528\u4e4b\u4e00\u3002  # \u68c0\u7d22\u5173\u952e\u8bcd\uff0c\u4ee5\u6700\u8fd1300\u5929\u4e3a\u8303\u56f4 \n$ esearch -db pubmed -query  \"listeria monocytogenes AND prfA\"  -days  300   |   \\ \n> efetch -format xml  |  xtract -pattern PubmedArticle  \\ \n> -element MedlineCitation/PMID -block Author -sep  \" \"   \\ \n> -element LastName,Initials  \u67e5\u770b\u8fd1300\u5929\u4ee5\u6765\u53d1\u8868\u7684\u6587\u7ae0\u4e2d\uff0c\u4f5c\u8005\u4e2d\u6709\u53ebJim\u7684\u6240\u6709\u6587\u7ae0\u9898\u76ee  \u5229\u7528 pubmed \u6570\u636e\u5e93\u7684 filter [FULL], \u67e5\u8be2\u6240\u6709\u4f5c\u8005\u5217\u8868\u91cc\u6709\u53ebJim\u7684\u6587\u7ae0\u6807\u9898\uff0c\u8fd9\u91cc\u91c7\u7528 medline \u683c\u5f0f\u8f93\u51fa\uff0c\u5982\u679c\u8981\u8fdb\u4e00\u6b65\u505a\u683c\u5f0f\u5316\u53ef\u4ee5\u7528xml\u683c\u5f0f\u518d\u7528xtract\u91cd\u65b0\u6392\u7248\u6253\u5370\u3002  $ esearch -db pubmed -days  300  -query  \"Jim[FULL]\"   |  efetch -format medline  |   \\ \n> grep TI  |  awk -F '- '   '{print $2}'   \u67e5\u770b2016\u5e74CDC\u53d1\u5e03\u7684\u6240\u6709\u7528miseq\u6d4b\u5e8f\u7684\u6c99\u95e8\u83cc\u6587\u5e93\u5236\u5907\u65b9\u6cd5  \u60f3\u8981\u4e86\u89e3 CDC \u5f00\u5c55\u7684 miseq \u6c99\u95e8\u83cc\u6d4b\u5e8f\u65f6\u91c7\u7528\u7684\u6587\u5e93\u6784\u5efa\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5229\u7528 sra \u6570\u636e\u5e93\u7684 runinfo\u4fe1\u606f\u8f93\u51fa\u83b7\u5f97\u3002  $ esearch -db sra -query  \"salmonella[OGRN] miseq[PLAT] EDBL-CDC\"   \\ \n> -mindate  2016 /01/01 -maxdate  2016 /12/31 -datetype PDAT  |   \\ \n> efetch -format runinfo  |  cut -d  ','  -f  12  > library.txt  \u7ed8\u5236\u5355\u589e\u674e\u65af\u7279\u83cchlyA\u86cb\u767d\u8d28\u8fdb\u5316\u6811\u56fe  $ esearch -db protein -query  \"listeriolysin hlyA NOT partial\"   | \n> efetch -format fasta > hlyA.fasta\n$ mafft hlyA.fasta > hlyA.mafft.fasta\n$ raxml -m GTRGAMMA -p  12345  -s hlyA.mafft.fasta -f a -x  12345  -N  100  -T  40  -n hlyA  \u5bf910\u5e74\u5185\u53d1\u8868\u7684\u68c0\u7d22\u6587\u732e\u7684\u4f5c\u8005\u6392\u5e8f  $ esearch -db pubmed -days  3650  -datetype PDAT -query  \"hlyA\"   |   \\ \n> efetch -format xml  |   \\ \n> xtract -pattern Author -element LastName  |   \\ \n> sort-uniq-count-rank  \u67e5\u770b taxonomy  taxonomy \u6570\u636e\u5e93\u7684 filter [NXLV] \u53ef\u4ee5\u76f4\u63a5\u8f93\u51faspecies\u7ea7\u522b  # \u83b7\u5f97 taxonomy \u6570\u636e\u5e93\u91cc lis \u6216 sal \u5f00\u5934\u7684\u5206\u7c7b\u540d \n$ esearch -db taxonomy -query  \"lis* OR sal*\"   |  efetch -db taxonomy -format txt # \u83b7\u5f97 species \u7ea7\u7684\u6240\u6709\u6c99\u95e8\u83cc \n$ esearch -db taxonomy -query  \"Salmonella[NXLV]\"   |  efetch -db taxonomy -format txt  \u4e0b\u8f7d\u6240\u6709\u7532\u578b\u526f\u4f24\u5bd2\u6c99\u95e8\u83cc\u57fa\u56e0\u7ec4\u5e8f\u5217  $ esearch -db nuccore -query  \"Salmonella[porgn:__txid54388] complete genome\"   |   \\ \n> efetch -db nuccore -format fasta > SPA.fasta  \u83b7\u53d6SRA\u6570\u636e\u5e93\u4e2d\u76ee\u7684\u6570\u636e\u7684\u6d4b\u5e8f\u6837\u672c\u5730\u7406\u4fe1\u606f  $ esearch -db sra -query  \"China\"  -days  1   |  elink -target biosample  |   \\ \n> efetch -format docsum  |  xtract -pattern DocumentSummary -element Accession  \\ \n> -block Attribute -if Attribute@attribute_nam  \\ \n> -equals lat_lon -element Attribute  \u83b7\u5f97\u67d0\u4e2abioproject\u4e0b\u7684\u6240\u6709sra run\u7684\u4fe1\u606f  $ eserach -db bioproject -query  \"PRJNA209644\"   |  elink -target sra  |   \\ \n> efetch -format docsum  |  xtract -pattern DocumentSummary -ACC @acc  \\ \n> -block DocumentSummary -element  \"&ACC\"   \u4e0b\u8f7dassembly\u6570\u636e\u5e93\u7684refseq\u5e8f\u5217  $ esearch -db assembly -query  \"Salmonella enterica[ORGN] AND 2010[GRLS]\"   |   \\ \n> efetch -format docsum  |  xtract -pattern DocumentSummary  \\ \n> -element FtpPath_RefSeq  |  awk -F \"/\"   '{print $0\"/\"$NF\"_genomic.fna.gz\"}'   |   \\ \n> xargs wget  \u67e5\u770bassembly meta\u4fe1\u606f  NCBI \u7684 Assembly \u6570\u636e\u5e93\u5305\u542b\u4e86 RefSeq \u6570\u636e\u5e93\u7684\u57fa\u56e0\u7ec4\u6570\u636e\uff0c\u9009\u62e9\u76f8\u5e94\u7684\u7269\u79cd\u53ef\u4ee5\u83b7\u5f97\u8be5\u7269\u79cd\u7684\u57fa\u56e0\u7ec4\u62fc\u63a5\u5e8f\u5217\uff0c\u6709\u5b8c\u6210\u56fe\u4e5f\u6709\u975e\u5b8c\u6210\u56fe\u3002  $ esearch -db assembly -query  '\"salmonella paratyphi A\"[ORGN] AND latest[FILT]'   |   \\ \n> efetch -format docsum  |  xtract -pattern Meta -block Stats  \\ \n> -tab  '\\n'  -sep  '\\t'  -element Stat@category Stat  |  sort -ur > meta.txt  import   pandas   as   pd  import   seaborn   as   sns  df   =   pd . read_table ( \"meta.txt\" )  sns . jointplot ( x = \"contig_count\" ,   y = \"scaffold_n50\" ,   data = df )    \u83b7\u53d6SRA\u83cc\u682a\u4fe1\u606f  \u5bf9\u67d0\u4e2a\u7269\u79cd\u5f00\u5c55\u8fdb\u5316\u7814\u7a76\u65f6\uff0c\u6211\u4eec\u5f80\u5f80\u4f1a\u7adf\u53ef\u80fd\u6536\u96c6\u516c\u5171\u6570\u636e\u5e93\u4e2d\u7684\u83cc\u682a\u80cc\u666f\u4fe1\u606f\u3002\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\u641c\u7d22\u67d0\u4e2a bioproject\uff0c\u7136\u540e\u83b7\u5f97\u8be5\u7814\u7a76\u7684\u6240\u6709\u6d4b\u5e8f\u6570\u636e\u7684 sra \u80cc\u666f\u4fe1\u606f\u3002\u901a\u8fc7 \\<SAMPLE_ATTRIBUTE> \u5143\u7d20\u4e0b\u7684\u5404\u4e2a TAG \u548c VALUE \u6765\u63d0\u53d6\u6240\u9700\u4fe1\u606f\u3002  $ esearch -db bioproject -query  273159   |  elink -target sra  |   \\ \n> efetch -format xml  |  xtract -pattern EXPERIMENT_PACKAGE -tab  \",\"   \\ \n> -element RUN@accession -block SAMPLE_ATTRIBUTE -tab  \"\\t\"  -sep  \":\"   \\ \n> -element TAG,VALUE > sample.txt  $ head sample.txt  \u8fd9\u6837\u8f93\u51fa\u7684\u95ee\u9898\u5728\u4e8e\u5404\u4e2a\u6d4b\u5e8f\u6570\u636e\u7684 SAMPLE_ATTRIBUTE \u7684 TAG \u987a\u5e8f\u662f\u4e71\u5e8f\u7684\uff0c\u6bcf\u4e2a SRR \u8f93\u51fa\u7684\u987a\u5e8f\u4e0d\u540c\u5bfc\u81f4\u5404\u4e2a\u5b57\u6bb5\u8981\u91cd\u65b0\u6392\u5e8f\uff0c\u6bd4\u8f83\u9ebb\u70e6\u3002\u5982\u679c\u6211\u4eec\u53ea\u9700\u8981\u5176\u4e2d\u4e00\u4e2a\u5b57\u6bb5\uff0c\u53ef\u4ee5\u7528 -if *** -eqauls *** \u6765\u8fc7\u6ee4\u3002\u6bd4\u5982\u4e0b\u9762\u4ee3\u7801\u6211\u4eec\u8f93\u51fa\u83cc\u682a\u540d\u79f0\uff1a  $ esearch -db bioproject -query  273159   |  elink -target sra  |   \\ \n> efetch -format xml  |  xtract -pattern EXPERIMENT_PACKAGE -tab  \",\"   \\ \n> -element RUN@accession -block SAMPLE_ATTRIBUTE -if TAG -equals  \"strain\"   \\ \n> -element VALUE  |  sort > strain-name.csv  -if \u5728\u4e00\u884c\u8f93\u51fa\u4e2d\u4e0d\u80fd\u53cd\u590d\u4f7f\u7528\uff0c\u5982\u679c\u8981\u540c\u65f6\u5bf9\u591a\u4e2a\u6837\u54c1\u4fe1\u606f\u5b57\u6bb5\u5206\u522b\u8f93\u51fa\uff0c\u6211\u4eec\u91c7\u7528\u53d8\u901a\u7684\u65b9\u6cd5\uff0c\u5148\u628a xml \u6570\u636e\u4fdd\u5b58\u5230\u672c\u5730\uff0c\u7136\u540e\u5faa\u73af\u5206\u522b\u8f93\u51fa\u5404\u4e2a\u6240\u9700\u5185\u5bb9\uff0c\u7528 sort \u6392\u5e8f\uff0c\u518d\u7528 paste \u5408\u5e76\u3002  # \u5206\u522b\u8f93\u51fa csv \u683c\u5f0f\u7684\u6570\u636e \n$  for  i in serovar strain isolate_name_alias collection_date isolation_source ;   \\ \n>  do  xtract -input bioproject.xml -pattern EXPERIMENT_PACKAGE -tab  \",\"   \\ \n> -element RUN@accession -block SAMPLE_ATTRIBUTE -if TAG -equals  $i  -element  \\ \n> VALUE  |  sort >  $i ;   done  # \u5408\u5e76 csv \n$ paste -d , strain serovar isolate_name_alias collection_date > sample.csv",
            "title": "4. \u5177\u4f53\u4f7f\u7528\u793a\u4f8b"
        },
        {
            "location": "/chapter_03/03_edirect/#reference",
            "text": "Entrez Direct: E-utilities on the UNIX Command Line \u00a0 \u21a9    Unix Pipeline Wikipedia \u00a0 \u21a9    Medline Element Description \u00a0 \u21a9    XML \u00a0 \u21a9",
            "title": "Reference"
        },
        {
            "location": "/chapter_04/03_bacteria-assembly/",
            "text": "\u7ec6\u83cc\u57fa\u56e0\u7ec4\u77ed\u5e8f\u5217\u62fc\u63a5\u62fc\u63a5\n\u00b6\n\n\n\u5fae\u751f\u7269\u57fa\u56e0\u7ec4\u6d4b\u5e8f\u540e\u7684\u62fc\u63a5\u5de5\u4f5c\uff0c\u6709\u8bb8\u591a\u8f6f\u4ef6\u53ef\u4ee5\u5b8c\u6210\u3002\u8fd1\u51e0\u5e74\u4e0d\u65ad\u6709\u65b0\u7684\u4f18\u79c0\u62fc\u63a5\u8f6f\u4ef6\u6d8c\u73b0\uff0c\u672c\u8282\u4ec5\u6311\u9009\u51e0\u4e2a\u5fae\u751f\u7269\u57fa\u56e0\u7ec4\u62fc\u63a5\u4f7f\u7528\u8f83\u591a\u4e5f\u662f\u8bc4\u6d4b\u4e2d\u6bd4\u8f83\u4f18\u79c0\u7684\u51e0\u4e2a\u5de5\u5177\u3002\u4e5f\u53ef\u4ee5\u5148\u5bf9\u81ea\u5df1\u7684\u6d4b\u5e8f\u7269\u79cd\u505a\u4e00\u4e2a assembly evaluation\uff0c\u9009\u62e9\u6bd4\u8f83\u9002\u5408\u7684\u62fc\u63a5\u8f6f\u4ef6\u3002\n\n\n\u5e38\u7528\u62fc\u63a5\u8f6f\u4ef6\u5de5\u5177\u5217\u8868\n\n\n\n\nSPAdes <http://spades.bioinf.spbau.ru/>\n_\n\n\nMaSuRCA <http://www.genome.umd.edu/masurca.html>\n_\n\n\nVelvet\n\n\nA5_miseq\n\n\n\n\n\u66f4\u591a\u5de5\u5177\u53ef\u4ee5\u53c2\u89c1\n\u8fd9\u91cc <https://omictools.com/genome-assembly-category>\n_\n\n\n1. SPAdes\n\u00b6\n\n\nSPAdes \u662f\u7531\n\n\n1.1 \u4e0b\u8f7d\u5e76\u5b89\u88c5 SPAdes\n\u00b6\n\n\n\u4e0b\u8f7d\u7f16\u8bd1\u5305\u5b89\u88c5\n\n\n\u4e0b\u8f7d\u9884\u5148\u7f16\u8bd1\u7684\u7248\u672c\u5305\uff0c\u5c06\u53ef\u6267\u884c\u6587\u4ef6\u6dfb\u52a0\u5230\u7cfb\u7edf\u8def\u5f84\u4e2d\uff0c\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u8fd0\u884c\u3002\n\n\n$ curl -O http://spades.bioinf.spbau.ru/release3.11.1/SPAdes-3.9.0-Linux.tar.gz\n$ tar zxf SPAdes-3.9.0-Linux.tar.gz -C ~/app\n$ \ncd\n ~/app\n$ sudo ln -s \n`\npwd\n`\n/SPAdes-3.11.0-Linux/bin/* /usr/local/sbin\n\n\n\n\n\u901a\u8fc7conda\u5b89\u88c5\n\n\n$ conda create -n assembly\n$ conda activate assembly\n\n(\nassembly\n)\n$ conda install spades\n\n\n\n\nDocker\u65b9\u5f0f\u5b89\u88c5\n\n\n$\n\n\n\n\n1.2 \u62fc\u88c5\u7ec6\u83cc\u57fa\u56e0\u7ec4\n\u00b6\n\n\n# -t 40 \u8868\u793a\u752840\u4e2a threads \u8fdb\u884c\u62fc\u63a5\uff0c\u6839\u636e\u81ea\u5df1\u7535\u8111\u7684CPU\u60c5\u51b5\u81ea\u884c\u8bbe\u7f6e\u3002\n\n$ spades.py --careful -k \n21\n,33,55,77,99,121 -1 SRR95386_1.fastq -2 SRR955386_2.fastq -o spades_output -t \n40\n\n\n\n\n\nSPAdes\u4f1a\u5c1d\u8bd5\u4e0d\u540c\u7684Kmer\uff0c\u56e0\u6b64\u62fc\u88c5\u65f6\u95f4\u4e5f\u4f1a\u6839\u636eKmer\u9009\u62e9\u6570\u91cf\u6210\u500d\u589e\u52a0\u3002\u5bf9\u4e8e\u5e38\u89c1\u7684 Miseq v2/v3 \u8bd5\u5242\u76d2\uff0c\u91c7\u7528 PE150/PE250/PE300 \u7684\u8bfb\u957f\u6d4b\u5e8f\uff0c\u5e38\u7528\u7684\u62fc\u63a5\u547d\u4ee4\u662f\uff1a\n\n\n# PE150 \u8bfb\u957f\u6d4b\u5e8f\u6570\u636e\n\n$ spades.py -k \n21\n,33,55,77 --careful -1 SRR95386_1.fastq -2 SRR955386_2.fastq -o SRR95386_output -t \n40\n\n\n# PE250/300 \u8bfb\u957f\u6d4b\u5e8f\u6570\u636e\n\n$ spades.py -k \n21\n,33,55,77,99,127 --careful -1 SRR95386_1.fastq -2 SRR955386_2.fastq -o SRR95386_output -t \n40\n\n\n\n\n\n2. Macursa\n\u00b6\n\n\n2.1 \u4e0b\u8f7d\u5e76\u5b89\u88c5 MaSuRCA\n\n^\n^\n^\n^\n^\n^\n^\n^\n\n\n.. code-block:: bash\n\n\n~/tmp$ curl -O \nftp://ftp.genome.umd.edu/pub/MaSuRCA/MaSuRCA-3.1.3.tar.gz\n\n   ~/tmp$ tar zxvf MaSuRCA-3.1.3.tar.gz -C ~/app\n   ~/tmp$ cd ~/app\n   ~/app$ ./MaSuRCA-2.3.0/install.sh\n   ~/app$ sudo ln -s \npwd\n/MaSuRCA-2.3.0/bin/masurca /usr/local/sbin\n\n\n2.2 \u5efa\u7acb\u62fc\u88c5\u914d\u7f6e\u6587\u4ef6\n\n^\n^\n^\n^\n^\n^\n^^\n\n\n.. code-block:: bash\n\n\n~/data$ touch SRR955386_masurca.config\n   ~/data$ nano SRR955386_masurca.config\n\n\n\u6587\u4ef6\u5185\u5bb9\u4fee\u6539\u5982\u4e0b\uff1a\n\n\n.. code-block:: bash\n\n\nDATA\n   PE= p1 500 50 SRR955386_1.fastq SRR955386_2.fastq\n   END\n\n\nPARAMETERS\n   GRAPH_KMER_SIZE=auto\n   USE_LINKING_MATES=1\n   LIMIT_JUMP_COVERAGE = 60\n   KMER_COUNT_THRESHOLD = 1\n   NUM_THREADS= 2\n   JF_SIZE=100000000\n   DO_HOMOPOLYMER_TRIM=0\n   END\n\n\n\u8bbe\u7f6e \nGRAPH_KMER_SIZE=auto\n\uff0c\u8f6f\u4ef6\u4f1a\u8c03\u7528Kmer=31\u6765\u8fdb\u884c\u62fc\u88c5\u3002\u5bf9\u4e8eMiSeq PE250\u4ee5\u4e0a\u7684\u63d2\u7247\uff0c\u53ef\u4ee5\u8003\u8651\u624b\u52a8\u8bbe\u7f6e\u4f7f\u7528\u66f4\u5927\u7684Kmer\u3002\n\n\n2.3 \u5f00\u59cb\u62fc\u88c5\n\n^\n^\n^\n^\n\n\n.. code-block:: bash\n\n\n~/app$ masurca SRR955386_masurca.config\n   ~/app$ ./assemble.sh\n\n\n\n\n3. Velvet\n\u00b6\n\n\n3.1 \u4e0b\u8f7d\u5e76\u5b89\u88c5\n\n^\n^\n^\n^\n^^\n\n\nVelvet \u662f\u4e00\u4e2a\u8001\u724c\u7684\u57fa\u56e0\u7ec4\u6d4b\u5e8f\u6570\u636e\u62fc\u63a5\u8f6f\u4ef6\u3002Velvet\u6700\u65b0\u7248\u672c\u662f1.2.10\uff0c\u53ef\u4ee5\u8bbf\u95ee \n\u5b98\u65b9\u7f51\u7ad9 <https://www.ebi.ac.uk/~zerbino/velvet/>\n_ \u4e0b\u8f7d\u6e90\u4ee3\u7801\u5305\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u514b\u9686 \n\u8f6f\u4ef6\u4ed3\u5e93 <https://github.com/dzerbino/velvet.git>\n_ \u7684\u65b9\u5f0f\u83b7\u5f97\u6700\u65b0\u7684\u6e90\u4ee3\u7801\u3002\n\n\n\u4e0b\u8f7d\u6e90\u4ee3\u7801\n\n\n\u666e\u901a\u7528\u6237\u53ef\u4ee5\u4e0b\u8f7d\u6e90\u4ee3\u7801\u5305\u81ea\u884c\u7f16\u8bd1\u83b7\u5f97\u8f6f\u4ef6\u3002\n\n\n.. code-block:: bash\n\n\n~$ cd /tmp\n   ~/tmp$ wget \nhttps://www.ebi.ac.uk/~zerbino/velvet/velvet_1.2.10.tgz\n\n   ~/tmp$ tar xvf velvet_1.2.10.tgz -C ~/app/velvet\n\n\n\u514b\u9686\u4ee3\u7801\u4ed3\u5e93\n\n\n\u5982\u679c\u5728\u8f6f\u4ef6\u8fd0\u884c\u4e2d\u9047\u5230\u95ee\u9898\uff0c\u60f3\u8bd5\u7528\u6700\u65b0\u7248\u4ee3\u7801\uff0c\u6216\u662f\u6709\u80fd\u529b\u63d0\u4ea4issues\uff0c\u6216\u8005\u60f3\u6539\u8fdb\u8f6f\u4ef6\u53c2\u4e0e\u5f00\u6e90\u4ee3\u7801\u7f16\u5199\u7684\u53ef\u4ee5\u9009\u62e9\u514b\u9686\u4ee3\u7801\u5e93\u7684\u65b9\u5f0f\u3002\n\n\n.. code-block:: bash\n\n\n~$ cd ~/tmp\n   ~/tmp$ git clone \nhttps://github.com/dzerbino/velvet.git\n\n\n\u7f16\u8bd1\u5b89\u88c5\n\n\nmake\u53ef\u4ee5\u8fdb\u884c\u7f16\u8bd1\uff0c\u6709\u51e0\u4e2a\u7f16\u8bd1\u53c2\u6570\u53ef\u4ee5\u9009\u62e9\uff0c\u5206\u522b\u662fMAXKMERLENGTH, DIRECTORY\n\n\n.. code-block:: bash\n\n\n~$ cd ~/app/velvet\n   ~/app/velvet$ make 'MAXKMERLENGTH=127'\n   ~/app/velvet$ sudo cp velveth velvetg /usr/local/sbin\n\n\n3.2 \u62fc\u63a5\u57fa\u56e0\u7ec4\n\n^\n^\n^\n^\n^^\n\n\nvelvet\u8f6f\u4ef6\u75312\u4e2a\u53ef\u6267\u884c\u6587\u4ef6 \nvelveth\n \u548c \nvelvetg\n \u7ec4\u6210\u3002\n\n\n.. code-block\n\n\n~$ velvet\n\n\n3.3 \u5176\u4ed6\u7ec4\u4ef6\n\n^\n^\n^\n^\n\n\n\n\n4. A5-miseq\n\u00b6\n\n\nA5-miseq <https://sourceforge.net/projects/ngopt/>\n__ \u662f\u4e00\u4e2a\u7528 perl\n\u5f00\u53d1\u7684\u9488\u5bf9\u7ec6\u83cc\u57fa\u56e0\u7ec4 de novo assembly \u7684 pipeline\n\u5de5\u5177\u3002\u5b83\u672c\u8eab\u4e0d\u53c2\u4e0e\u7ec4\u88c5\uff0c\u800c\u662f\u901a\u8fc7\u7ec4\u5408\u4e00\u5957\u5de5\u5177\u6765\u5b8c\u6210\u5de5\u4f5c\uff0c\u5de5\u5177\u96c6\u5305\u62ec\uff1a\n\n\n\n\nbwa\n\n\nsamtools\n\n\nSGA\n\n\nbowtie\n\n\nTrimmomatic\n\n\nIDBA-UD\n\n\nSSPACE\n\n\n\n\n\u8fd9\u4e9b\u5de5\u5177\u90fd\u4ee5\u53ca\u96c6\u6210\u5728 A5-miseq \u4e2d\uff0c\u4e0d\u9700\u8981\u53e6\u5916\u5b89\u88c5\u3002\u4e3a\u4e86\u907f\u514d\u4e0d\u540c\u7248\u672c\u7684\nsamtools\uff0cbowtie \u5bf9\u7ed3\u679c\u4ea7\u751f\u7684\u5dee\u5f02\uff0c\u5efa\u8bae\u91c7\u7528\u865a\u62df\u73af\u5883\u5982 docker\n\u7b49\u6765\u9694\u79bb\u8fd0\u884c\u73af\u5883\u3002\n\n\n4.1 \u5b89\u88c5 A5-miseq\n\n^\n^\n^\n^\n^\n^^\n\n\n\u4e0b\u8f7d\u9884\u7f16\u8bd1\u5305\u5b89\u88c5\n\n~\n~\n~~\n\n\n.. code-block:: bash\n\n\n~/tmp$ wget \nhttp://downloads.sourceforge.net/project/ngopt/a5_miseq_linux_20150522.tar.gz\n\n   ~/tmp$ tar zxvf a5_miseq_linux_20150522.tar.gz -C ~/app\n   ~/tmp$ sudo ln -s ~/app/a5_miseq_linux_20150522/bin/a5_pipeline.pl /usr/local/sbin\n\n\n\u5efa\u7acb Docker \u5bb9\u5668\u5b89\u88c5\n\n~\n~\n~\n~\n\n\n.. code-block:: bash\n\n\n~/docker$ mkdir -p a5-miseq && cd a5-miseq\n   ~/docker/a5-miseq$ touch Dockerfile\n\n\n.. code-block:: bash\n\n\nFROM ubuntu:latest\n   MAINTAINER Mark Renton \nindexofire@gmail.com\n\n\nRUN apt-get update -qy\n   RUN apt-get install -qy openjdk-7-jre-headless file\n   ADD \nhttp://downloads.sourceforge.net/project/ngopt/a5_miseq_linux_20150522.tar.gz\n /tmp/a5_miseq.tar.gz\n   RUN mkdir /tmp/a5_miseq\n   RUN tar xzf /tmp/a5_miseq.tar.gz --directory /tmp/a5_miseq --strip-components=1\n   ADD run /usr/local/bin/\n   ADD Procfile /\n   ENTRYPOINT [\"/usr/local/bin/run\"]\n\n\n4.2 \u4f7f\u7528 A5-miseq\n\n^\n^\n^\n^\n^\n^^\n\n\n.. code-block:: bash\n\n\n$ perl a5_pipeline.pl SRR955386_1.fastq SRR955386_2.fastq ~/data/a5_output\n\n\n\n\n\n4.3 A5-miseq \u6587\u6863\n\n^\n^\n^\n^\n^\n^^\n\n\n\u67e5\u770b A5-miseq \u5de5\u5177\u7684\u4f7f\u7528\u6587\u6863\u53ef\u4ee5\u7528 a5_pipeline.pl \u5de5\u5177\u67e5\u770b\u3002\n\n\n.. code-block:: bash\n\n\n# Usage:\n$ a5_pipeline.pl [--begin=1-5] [--end=1-5] [--preprocessed] <lib_file> <out_base>\n\n\n\n\n\nReference:\n\u00b6\n\n\n\n\nhttp://www.chenlianfu.com/?p=1635\n\n\nhttp://www.bbioo.com/lifesciences/40-116878-1.html\n\n\nhttp://www.plob.org/2012/11/21/4797.html\n\n\nhttp://ged.msu.edu/angus/tutorials-2011/short-read-assembly-velvet.html",
            "title": "03. \u7ec6\u83cc\u57fa\u56e0\u7ec4\u7ec4\u88c5"
        },
        {
            "location": "/chapter_04/03_bacteria-assembly/#_1",
            "text": "\u5fae\u751f\u7269\u57fa\u56e0\u7ec4\u6d4b\u5e8f\u540e\u7684\u62fc\u63a5\u5de5\u4f5c\uff0c\u6709\u8bb8\u591a\u8f6f\u4ef6\u53ef\u4ee5\u5b8c\u6210\u3002\u8fd1\u51e0\u5e74\u4e0d\u65ad\u6709\u65b0\u7684\u4f18\u79c0\u62fc\u63a5\u8f6f\u4ef6\u6d8c\u73b0\uff0c\u672c\u8282\u4ec5\u6311\u9009\u51e0\u4e2a\u5fae\u751f\u7269\u57fa\u56e0\u7ec4\u62fc\u63a5\u4f7f\u7528\u8f83\u591a\u4e5f\u662f\u8bc4\u6d4b\u4e2d\u6bd4\u8f83\u4f18\u79c0\u7684\u51e0\u4e2a\u5de5\u5177\u3002\u4e5f\u53ef\u4ee5\u5148\u5bf9\u81ea\u5df1\u7684\u6d4b\u5e8f\u7269\u79cd\u505a\u4e00\u4e2a assembly evaluation\uff0c\u9009\u62e9\u6bd4\u8f83\u9002\u5408\u7684\u62fc\u63a5\u8f6f\u4ef6\u3002  \u5e38\u7528\u62fc\u63a5\u8f6f\u4ef6\u5de5\u5177\u5217\u8868   SPAdes <http://spades.bioinf.spbau.ru/> _  MaSuRCA <http://www.genome.umd.edu/masurca.html> _  Velvet  A5_miseq   \u66f4\u591a\u5de5\u5177\u53ef\u4ee5\u53c2\u89c1 \u8fd9\u91cc <https://omictools.com/genome-assembly-category> _",
            "title": "\u7ec6\u83cc\u57fa\u56e0\u7ec4\u77ed\u5e8f\u5217\u62fc\u63a5\u62fc\u63a5"
        },
        {
            "location": "/chapter_04/03_bacteria-assembly/#1-spades",
            "text": "SPAdes \u662f\u7531",
            "title": "1. SPAdes"
        },
        {
            "location": "/chapter_04/03_bacteria-assembly/#11-spades",
            "text": "\u4e0b\u8f7d\u7f16\u8bd1\u5305\u5b89\u88c5  \u4e0b\u8f7d\u9884\u5148\u7f16\u8bd1\u7684\u7248\u672c\u5305\uff0c\u5c06\u53ef\u6267\u884c\u6587\u4ef6\u6dfb\u52a0\u5230\u7cfb\u7edf\u8def\u5f84\u4e2d\uff0c\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u8fd0\u884c\u3002  $ curl -O http://spades.bioinf.spbau.ru/release3.11.1/SPAdes-3.9.0-Linux.tar.gz\n$ tar zxf SPAdes-3.9.0-Linux.tar.gz -C ~/app\n$  cd  ~/app\n$ sudo ln -s  ` pwd ` /SPAdes-3.11.0-Linux/bin/* /usr/local/sbin  \u901a\u8fc7conda\u5b89\u88c5  $ conda create -n assembly\n$ conda activate assembly ( assembly ) $ conda install spades  Docker\u65b9\u5f0f\u5b89\u88c5  $",
            "title": "1.1 \u4e0b\u8f7d\u5e76\u5b89\u88c5 SPAdes"
        },
        {
            "location": "/chapter_04/03_bacteria-assembly/#12",
            "text": "# -t 40 \u8868\u793a\u752840\u4e2a threads \u8fdb\u884c\u62fc\u63a5\uff0c\u6839\u636e\u81ea\u5df1\u7535\u8111\u7684CPU\u60c5\u51b5\u81ea\u884c\u8bbe\u7f6e\u3002 \n$ spades.py --careful -k  21 ,33,55,77,99,121 -1 SRR95386_1.fastq -2 SRR955386_2.fastq -o spades_output -t  40   SPAdes\u4f1a\u5c1d\u8bd5\u4e0d\u540c\u7684Kmer\uff0c\u56e0\u6b64\u62fc\u88c5\u65f6\u95f4\u4e5f\u4f1a\u6839\u636eKmer\u9009\u62e9\u6570\u91cf\u6210\u500d\u589e\u52a0\u3002\u5bf9\u4e8e\u5e38\u89c1\u7684 Miseq v2/v3 \u8bd5\u5242\u76d2\uff0c\u91c7\u7528 PE150/PE250/PE300 \u7684\u8bfb\u957f\u6d4b\u5e8f\uff0c\u5e38\u7528\u7684\u62fc\u63a5\u547d\u4ee4\u662f\uff1a  # PE150 \u8bfb\u957f\u6d4b\u5e8f\u6570\u636e \n$ spades.py -k  21 ,33,55,77 --careful -1 SRR95386_1.fastq -2 SRR955386_2.fastq -o SRR95386_output -t  40  # PE250/300 \u8bfb\u957f\u6d4b\u5e8f\u6570\u636e \n$ spades.py -k  21 ,33,55,77,99,127 --careful -1 SRR95386_1.fastq -2 SRR955386_2.fastq -o SRR95386_output -t  40",
            "title": "1.2 \u62fc\u88c5\u7ec6\u83cc\u57fa\u56e0\u7ec4"
        },
        {
            "location": "/chapter_04/03_bacteria-assembly/#2-macursa",
            "text": "2.1 \u4e0b\u8f7d\u5e76\u5b89\u88c5 MaSuRCA ^ ^ ^ ^ ^ ^ ^ ^  .. code-block:: bash  ~/tmp$ curl -O  ftp://ftp.genome.umd.edu/pub/MaSuRCA/MaSuRCA-3.1.3.tar.gz \n   ~/tmp$ tar zxvf MaSuRCA-3.1.3.tar.gz -C ~/app\n   ~/tmp$ cd ~/app\n   ~/app$ ./MaSuRCA-2.3.0/install.sh\n   ~/app$ sudo ln -s  pwd /MaSuRCA-2.3.0/bin/masurca /usr/local/sbin  2.2 \u5efa\u7acb\u62fc\u88c5\u914d\u7f6e\u6587\u4ef6 ^ ^ ^ ^ ^ ^ ^^  .. code-block:: bash  ~/data$ touch SRR955386_masurca.config\n   ~/data$ nano SRR955386_masurca.config  \u6587\u4ef6\u5185\u5bb9\u4fee\u6539\u5982\u4e0b\uff1a  .. code-block:: bash  DATA\n   PE= p1 500 50 SRR955386_1.fastq SRR955386_2.fastq\n   END  PARAMETERS\n   GRAPH_KMER_SIZE=auto\n   USE_LINKING_MATES=1\n   LIMIT_JUMP_COVERAGE = 60\n   KMER_COUNT_THRESHOLD = 1\n   NUM_THREADS= 2\n   JF_SIZE=100000000\n   DO_HOMOPOLYMER_TRIM=0\n   END  \u8bbe\u7f6e  GRAPH_KMER_SIZE=auto \uff0c\u8f6f\u4ef6\u4f1a\u8c03\u7528Kmer=31\u6765\u8fdb\u884c\u62fc\u88c5\u3002\u5bf9\u4e8eMiSeq PE250\u4ee5\u4e0a\u7684\u63d2\u7247\uff0c\u53ef\u4ee5\u8003\u8651\u624b\u52a8\u8bbe\u7f6e\u4f7f\u7528\u66f4\u5927\u7684Kmer\u3002  2.3 \u5f00\u59cb\u62fc\u88c5 ^ ^ ^ ^  .. code-block:: bash  ~/app$ masurca SRR955386_masurca.config\n   ~/app$ ./assemble.sh",
            "title": "2. Macursa"
        },
        {
            "location": "/chapter_04/03_bacteria-assembly/#3-velvet",
            "text": "3.1 \u4e0b\u8f7d\u5e76\u5b89\u88c5 ^ ^ ^ ^ ^^  Velvet \u662f\u4e00\u4e2a\u8001\u724c\u7684\u57fa\u56e0\u7ec4\u6d4b\u5e8f\u6570\u636e\u62fc\u63a5\u8f6f\u4ef6\u3002Velvet\u6700\u65b0\u7248\u672c\u662f1.2.10\uff0c\u53ef\u4ee5\u8bbf\u95ee  \u5b98\u65b9\u7f51\u7ad9 <https://www.ebi.ac.uk/~zerbino/velvet/> _ \u4e0b\u8f7d\u6e90\u4ee3\u7801\u5305\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u514b\u9686  \u8f6f\u4ef6\u4ed3\u5e93 <https://github.com/dzerbino/velvet.git> _ \u7684\u65b9\u5f0f\u83b7\u5f97\u6700\u65b0\u7684\u6e90\u4ee3\u7801\u3002  \u4e0b\u8f7d\u6e90\u4ee3\u7801  \u666e\u901a\u7528\u6237\u53ef\u4ee5\u4e0b\u8f7d\u6e90\u4ee3\u7801\u5305\u81ea\u884c\u7f16\u8bd1\u83b7\u5f97\u8f6f\u4ef6\u3002  .. code-block:: bash  ~$ cd /tmp\n   ~/tmp$ wget  https://www.ebi.ac.uk/~zerbino/velvet/velvet_1.2.10.tgz \n   ~/tmp$ tar xvf velvet_1.2.10.tgz -C ~/app/velvet  \u514b\u9686\u4ee3\u7801\u4ed3\u5e93  \u5982\u679c\u5728\u8f6f\u4ef6\u8fd0\u884c\u4e2d\u9047\u5230\u95ee\u9898\uff0c\u60f3\u8bd5\u7528\u6700\u65b0\u7248\u4ee3\u7801\uff0c\u6216\u662f\u6709\u80fd\u529b\u63d0\u4ea4issues\uff0c\u6216\u8005\u60f3\u6539\u8fdb\u8f6f\u4ef6\u53c2\u4e0e\u5f00\u6e90\u4ee3\u7801\u7f16\u5199\u7684\u53ef\u4ee5\u9009\u62e9\u514b\u9686\u4ee3\u7801\u5e93\u7684\u65b9\u5f0f\u3002  .. code-block:: bash  ~$ cd ~/tmp\n   ~/tmp$ git clone  https://github.com/dzerbino/velvet.git  \u7f16\u8bd1\u5b89\u88c5  make\u53ef\u4ee5\u8fdb\u884c\u7f16\u8bd1\uff0c\u6709\u51e0\u4e2a\u7f16\u8bd1\u53c2\u6570\u53ef\u4ee5\u9009\u62e9\uff0c\u5206\u522b\u662fMAXKMERLENGTH, DIRECTORY  .. code-block:: bash  ~$ cd ~/app/velvet\n   ~/app/velvet$ make 'MAXKMERLENGTH=127'\n   ~/app/velvet$ sudo cp velveth velvetg /usr/local/sbin  3.2 \u62fc\u63a5\u57fa\u56e0\u7ec4 ^ ^ ^ ^ ^^  velvet\u8f6f\u4ef6\u75312\u4e2a\u53ef\u6267\u884c\u6587\u4ef6  velveth  \u548c  velvetg  \u7ec4\u6210\u3002  .. code-block  ~$ velvet  3.3 \u5176\u4ed6\u7ec4\u4ef6 ^ ^ ^ ^",
            "title": "3. Velvet"
        },
        {
            "location": "/chapter_04/03_bacteria-assembly/#4-a5-miseq",
            "text": "A5-miseq <https://sourceforge.net/projects/ngopt/> __ \u662f\u4e00\u4e2a\u7528 perl\n\u5f00\u53d1\u7684\u9488\u5bf9\u7ec6\u83cc\u57fa\u56e0\u7ec4 de novo assembly \u7684 pipeline\n\u5de5\u5177\u3002\u5b83\u672c\u8eab\u4e0d\u53c2\u4e0e\u7ec4\u88c5\uff0c\u800c\u662f\u901a\u8fc7\u7ec4\u5408\u4e00\u5957\u5de5\u5177\u6765\u5b8c\u6210\u5de5\u4f5c\uff0c\u5de5\u5177\u96c6\u5305\u62ec\uff1a   bwa  samtools  SGA  bowtie  Trimmomatic  IDBA-UD  SSPACE   \u8fd9\u4e9b\u5de5\u5177\u90fd\u4ee5\u53ca\u96c6\u6210\u5728 A5-miseq \u4e2d\uff0c\u4e0d\u9700\u8981\u53e6\u5916\u5b89\u88c5\u3002\u4e3a\u4e86\u907f\u514d\u4e0d\u540c\u7248\u672c\u7684\nsamtools\uff0cbowtie \u5bf9\u7ed3\u679c\u4ea7\u751f\u7684\u5dee\u5f02\uff0c\u5efa\u8bae\u91c7\u7528\u865a\u62df\u73af\u5883\u5982 docker\n\u7b49\u6765\u9694\u79bb\u8fd0\u884c\u73af\u5883\u3002  4.1 \u5b89\u88c5 A5-miseq ^ ^ ^ ^ ^ ^^  \u4e0b\u8f7d\u9884\u7f16\u8bd1\u5305\u5b89\u88c5 ~ ~ ~~  .. code-block:: bash  ~/tmp$ wget  http://downloads.sourceforge.net/project/ngopt/a5_miseq_linux_20150522.tar.gz \n   ~/tmp$ tar zxvf a5_miseq_linux_20150522.tar.gz -C ~/app\n   ~/tmp$ sudo ln -s ~/app/a5_miseq_linux_20150522/bin/a5_pipeline.pl /usr/local/sbin  \u5efa\u7acb Docker \u5bb9\u5668\u5b89\u88c5 ~ ~ ~ ~  .. code-block:: bash  ~/docker$ mkdir -p a5-miseq && cd a5-miseq\n   ~/docker/a5-miseq$ touch Dockerfile  .. code-block:: bash  FROM ubuntu:latest\n   MAINTAINER Mark Renton  indexofire@gmail.com  RUN apt-get update -qy\n   RUN apt-get install -qy openjdk-7-jre-headless file\n   ADD  http://downloads.sourceforge.net/project/ngopt/a5_miseq_linux_20150522.tar.gz  /tmp/a5_miseq.tar.gz\n   RUN mkdir /tmp/a5_miseq\n   RUN tar xzf /tmp/a5_miseq.tar.gz --directory /tmp/a5_miseq --strip-components=1\n   ADD run /usr/local/bin/\n   ADD Procfile /\n   ENTRYPOINT [\"/usr/local/bin/run\"]  4.2 \u4f7f\u7528 A5-miseq ^ ^ ^ ^ ^ ^^  .. code-block:: bash  $ perl a5_pipeline.pl SRR955386_1.fastq SRR955386_2.fastq ~/data/a5_output  4.3 A5-miseq \u6587\u6863 ^ ^ ^ ^ ^ ^^  \u67e5\u770b A5-miseq \u5de5\u5177\u7684\u4f7f\u7528\u6587\u6863\u53ef\u4ee5\u7528 a5_pipeline.pl \u5de5\u5177\u67e5\u770b\u3002  .. code-block:: bash  # Usage:\n$ a5_pipeline.pl [--begin=1-5] [--end=1-5] [--preprocessed] <lib_file> <out_base>",
            "title": "4. A5-miseq"
        },
        {
            "location": "/chapter_04/03_bacteria-assembly/#reference",
            "text": "http://www.chenlianfu.com/?p=1635  http://www.bbioo.com/lifesciences/40-116878-1.html  http://www.plob.org/2012/11/21/4797.html  http://ged.msu.edu/angus/tutorials-2011/short-read-assembly-velvet.html",
            "title": "Reference:"
        },
        {
            "location": "/chapter_04/04_virus-assembly/",
            "text": "\u75c5\u6bd2\u57fa\u56e0\u7ec4\u7ec4\u88c5\n\u00b6\n\n\n\u75c5\u6bd2\u57fa\u56e0\u7ec4\u6d4b\u5e8f\u6709\u5f88\u591a\u65b9\u6cd5\uff0c\u8fd9\u91cc\u53ea\u9488\u5bf9\u4e8c\u4ee3\u9ad8\u901a\u91cf\u6d4b\u5e8f\u6570\u636e\u8fdb\u884c\u8ba8\u8bba\u3002\u7528\u4e8c\u4ee3\u6d4b\u75c5\u6bd2\u57fa\u56e0\u7ec4\u6709\u4e0d\u540c\u7684\u65b9\u6cd5\uff0c\u6bd4\u5982\u5bf9\u4e34\u5e8a\u6837\u672c\u4e2d\u5df2\u77e5\u75c5\u6bd2\u8fdb\u884c\u7279\u5f02\u6027PCR\u6269\u589e\u540e\u6d4b\u5e8f\uff1b\u6709\u4e9b\u5219\u91c7\u7528\u968f\u673a\u5f15\u7269\u6269\u589e\u540e\u518d\u6d4b\u5e8f\uff0c\u8fd9\u79cd\u65b9\u6cd5\u53ef\u4ee5\u9488\u5bf9\u672a\u77e5\u75c5\u6bd2\u5e8f\u5217\uff0c\u4f46\u7531\u4e8e\u4e0d\u540c\u6837\u672c\uff08\u6bd4\u5982\u4e34\u5e8a\u6837\u672c\uff09\u4e2d\u542b\u6709\u7684\u5e72\u6270\u6838\u9178\u8f83\u591a\uff08\u5982\u4eba\u6e90DNA\u7b49\uff09\uff0c\u5f80\u5f80\u9700\u8981\u5b9e\u9a8c\u4e2d\u8fdb\u884c\u7279\u6b8a\u5904\u7406\u6216\u8005\u751f\u7269\u4fe1\u606f\u5b66\u5206\u6790\u65f6\u7b5b\u9009\u3002\n\n\n\u56e0\u6b64\u6211\u4eec\u53ea\u8ba8\u8bba\u7279\u5f02\u6027PCR\u6269\u589e\u540e\uff08\u7c7b\u4f3c\u4e00\u4ee3\u6d4b\u5e8f\uff09\u7528\u4e8c\u4ee3\u6d4b\u5e8f\u5206\u6790\u5df2\u77e5\u75c5\u6bd2\u7684\u65b9\u6cd5\u3002\u548c\u7ec6\u83cc\u5355\u514b\u9686\u57f9\u517b\u7269\u4e0d\u540c\uff0c\u4e34\u5e8a\u6837\u672c\u5373\u4f7fPCR\u6269\u589e\u540e\uff0c\n\n\n\u7531\u4e8e\u75c5\u6bd2\u57fa\u56e0\u7ec4\u4f4d\u70b9\u53d8\u5f02\u8f83\u660e\u663e\uff0c\u4f46\u662f\u5927\u7247\u6bb5\u7684\u5f02\u4f4d\u91cd\u7ec4\u6bd4\u8f83\u5c11\uff0c\u56e0\u6b64\u53ef\u4ee5\u91c7\u7528\u57fa\u4e8e mapping \u7684\u65b9\u6cd5\u83b7\u5f97\u57fa\u56e0\u7ec4\u3002\n\n\n\u9996\u5148\u8981\u9009\u62e9\u53c2\u8003\u5e8f\u5217\uff0c\u7531\u4e8e\u75c5\u6bd2\u7f16\u8bd1\u5927\uff0c\u6211\u4eec\u4e00\u822c\u5c3d\u53ef\u80fd\u9009\u62e9\u8fd1\u6e90\u7684\u6bd2\u682a\u3002\u6211\u4e48\u90a3\u53ef\u4ee5\u91c7\u7528 denovo \u7684\u65b9\u6cd5\u5148\u83b7\u5f97\u4e00\u4e2a\u5927\u7247\u6bb5\u9ad8\u8986\u76d6\u7684\u975e\u6c61\u67d3\u5e8f\u5217\uff0c\u7136\u540e blast \u627e\u5230\u8fd1\u6e90\u6bd2\u682a\u57fa\u56e0\u7ec4\u5e8f\u5217\uff0c\u5c06\u5176\u4f5c\u4e3a\u53c2\u8003\u57fa\u56e0\u7ec4\u518d\u4f7f\u7528 mapping \u7684\u65b9\u6cd5\u83b7\u5f97\u6d4b\u5e8f\u6bd2\u682a\u7684\u57fa\u56e0\u7ec4\u3002\n\n\n\u91c7\u7528 freebayes\n\u00b6\n\n\n$ spades.py\n$ blast\n$ bwa index ref.fasta\n$ bwa mem\n$ samtools index\n$ samtools\n$ freebayes\n\n\n\n\n\u91c7\u7528 GATK4\n\u00b6\n\n\n$ trimmomatic\n\n\n# ID:\n\n\n# PL: Platform \u6d4b\u5e8f\u5e73\u53f0\uff0c\u8fd9\u91cc\u6570\u636e\u6765\u81ea illumina \u5e73\u53f0\n\n\n# PU:\n\n\n# LB:\n\n\n# SM: Sample \u6837\u672c\u540d\u79f0\n\n$ bwa mem -t \n40\n -M -Y -R \n\"@RG\\tID:S1\\tPL:illumina\\tPU:\\tLB:\\tSM:\"\n ref.fasta \n\\\n\n>\n$ samtools sort -@ \n4\n -m 16G -O bam -o .sorted.bam\n\n$ gatk MarkDuplicates -I -M -O\n$ samtools index sorted.markdup.bam\n$ gatk BaseRecalibrator -R ref.fasta -I sorted.markdup.bam \n\\\n\n> -O sorted.markdup.recal.table\n$ gatk ApplyBQSR --bqsr-recal-file sorted.markdup.recal.table -R ref.fasta\n> -I sorted.markdup.bam -O sorted.markdup.BQSR.bam\n$ samtools index\n$ gatk HaplotypeCaller -R ref.fasta -I sorted.markdup.BQSR.bam \n\\\n\n> -O HC.vcf.gz\n\n\n# SNP call\n\n$ gatk VariantRecalibrator\n\n# Indel call\n\n\n\n\n\n\u4f7f\u7528 snippy\n\u00b6",
            "title": "04. \u75c5\u6bd2\u57fa\u56e0\u7ec4\u7ec4\u88c5"
        },
        {
            "location": "/chapter_04/04_virus-assembly/#_1",
            "text": "\u75c5\u6bd2\u57fa\u56e0\u7ec4\u6d4b\u5e8f\u6709\u5f88\u591a\u65b9\u6cd5\uff0c\u8fd9\u91cc\u53ea\u9488\u5bf9\u4e8c\u4ee3\u9ad8\u901a\u91cf\u6d4b\u5e8f\u6570\u636e\u8fdb\u884c\u8ba8\u8bba\u3002\u7528\u4e8c\u4ee3\u6d4b\u75c5\u6bd2\u57fa\u56e0\u7ec4\u6709\u4e0d\u540c\u7684\u65b9\u6cd5\uff0c\u6bd4\u5982\u5bf9\u4e34\u5e8a\u6837\u672c\u4e2d\u5df2\u77e5\u75c5\u6bd2\u8fdb\u884c\u7279\u5f02\u6027PCR\u6269\u589e\u540e\u6d4b\u5e8f\uff1b\u6709\u4e9b\u5219\u91c7\u7528\u968f\u673a\u5f15\u7269\u6269\u589e\u540e\u518d\u6d4b\u5e8f\uff0c\u8fd9\u79cd\u65b9\u6cd5\u53ef\u4ee5\u9488\u5bf9\u672a\u77e5\u75c5\u6bd2\u5e8f\u5217\uff0c\u4f46\u7531\u4e8e\u4e0d\u540c\u6837\u672c\uff08\u6bd4\u5982\u4e34\u5e8a\u6837\u672c\uff09\u4e2d\u542b\u6709\u7684\u5e72\u6270\u6838\u9178\u8f83\u591a\uff08\u5982\u4eba\u6e90DNA\u7b49\uff09\uff0c\u5f80\u5f80\u9700\u8981\u5b9e\u9a8c\u4e2d\u8fdb\u884c\u7279\u6b8a\u5904\u7406\u6216\u8005\u751f\u7269\u4fe1\u606f\u5b66\u5206\u6790\u65f6\u7b5b\u9009\u3002  \u56e0\u6b64\u6211\u4eec\u53ea\u8ba8\u8bba\u7279\u5f02\u6027PCR\u6269\u589e\u540e\uff08\u7c7b\u4f3c\u4e00\u4ee3\u6d4b\u5e8f\uff09\u7528\u4e8c\u4ee3\u6d4b\u5e8f\u5206\u6790\u5df2\u77e5\u75c5\u6bd2\u7684\u65b9\u6cd5\u3002\u548c\u7ec6\u83cc\u5355\u514b\u9686\u57f9\u517b\u7269\u4e0d\u540c\uff0c\u4e34\u5e8a\u6837\u672c\u5373\u4f7fPCR\u6269\u589e\u540e\uff0c  \u7531\u4e8e\u75c5\u6bd2\u57fa\u56e0\u7ec4\u4f4d\u70b9\u53d8\u5f02\u8f83\u660e\u663e\uff0c\u4f46\u662f\u5927\u7247\u6bb5\u7684\u5f02\u4f4d\u91cd\u7ec4\u6bd4\u8f83\u5c11\uff0c\u56e0\u6b64\u53ef\u4ee5\u91c7\u7528\u57fa\u4e8e mapping \u7684\u65b9\u6cd5\u83b7\u5f97\u57fa\u56e0\u7ec4\u3002  \u9996\u5148\u8981\u9009\u62e9\u53c2\u8003\u5e8f\u5217\uff0c\u7531\u4e8e\u75c5\u6bd2\u7f16\u8bd1\u5927\uff0c\u6211\u4eec\u4e00\u822c\u5c3d\u53ef\u80fd\u9009\u62e9\u8fd1\u6e90\u7684\u6bd2\u682a\u3002\u6211\u4e48\u90a3\u53ef\u4ee5\u91c7\u7528 denovo \u7684\u65b9\u6cd5\u5148\u83b7\u5f97\u4e00\u4e2a\u5927\u7247\u6bb5\u9ad8\u8986\u76d6\u7684\u975e\u6c61\u67d3\u5e8f\u5217\uff0c\u7136\u540e blast \u627e\u5230\u8fd1\u6e90\u6bd2\u682a\u57fa\u56e0\u7ec4\u5e8f\u5217\uff0c\u5c06\u5176\u4f5c\u4e3a\u53c2\u8003\u57fa\u56e0\u7ec4\u518d\u4f7f\u7528 mapping \u7684\u65b9\u6cd5\u83b7\u5f97\u6d4b\u5e8f\u6bd2\u682a\u7684\u57fa\u56e0\u7ec4\u3002",
            "title": "\u75c5\u6bd2\u57fa\u56e0\u7ec4\u7ec4\u88c5"
        },
        {
            "location": "/chapter_04/04_virus-assembly/#freebayes",
            "text": "$ spades.py\n$ blast\n$ bwa index ref.fasta\n$ bwa mem\n$ samtools index\n$ samtools\n$ freebayes",
            "title": "\u91c7\u7528 freebayes"
        },
        {
            "location": "/chapter_04/04_virus-assembly/#gatk4",
            "text": "$ trimmomatic # ID:  # PL: Platform \u6d4b\u5e8f\u5e73\u53f0\uff0c\u8fd9\u91cc\u6570\u636e\u6765\u81ea illumina \u5e73\u53f0  # PU:  # LB:  # SM: Sample \u6837\u672c\u540d\u79f0 \n$ bwa mem -t  40  -M -Y -R  \"@RG\\tID:S1\\tPL:illumina\\tPU:\\tLB:\\tSM:\"  ref.fasta  \\ \n>\n$ samtools sort -@  4  -m 16G -O bam -o .sorted.bam\n\n$ gatk MarkDuplicates -I -M -O\n$ samtools index sorted.markdup.bam\n$ gatk BaseRecalibrator -R ref.fasta -I sorted.markdup.bam  \\ \n> -O sorted.markdup.recal.table\n$ gatk ApplyBQSR --bqsr-recal-file sorted.markdup.recal.table -R ref.fasta\n> -I sorted.markdup.bam -O sorted.markdup.BQSR.bam\n$ samtools index\n$ gatk HaplotypeCaller -R ref.fasta -I sorted.markdup.BQSR.bam  \\ \n> -O HC.vcf.gz # SNP call \n$ gatk VariantRecalibrator # Indel call",
            "title": "\u91c7\u7528 GATK4"
        },
        {
            "location": "/chapter_04/04_virus-assembly/#snippy",
            "text": "",
            "title": "\u4f7f\u7528 snippy"
        },
        {
            "location": "/chapter_05/01_prokka/",
            "text": "Prokka\n\u00b6\n\n\nProkka\n \u662f\u4e00\u4e2a\u539f\u6838\u7269\u79cd\u57fa\u56e0\u7ec4\u6ce8\u91ca\u5de5\u5177\uff0c\u7531\u58a8\u5c14\u672c\u5927\u5b66\u751f\u7269\u4fe1\u606f\u5b66\u5bb6 \nTorsten Seemann\n \u5f00\u53d1\u7684\u57fa\u4e8e\u547d\u4ee4\u884c\u7684\u672c\u5730\u5feb\u901f\u6ce8\u91ca\u5de5\u5177\uff0c\u4e3b\u8981\u7528\u6765\u6ce8\u91ca\u5c0f\u57fa\u56e0\u7ec4\u6bd4\u5982\u7ec6\u83cc\u3001\u75c5\u6bd2\u7b49\u3002\n\n\n\u5b89\u88c5 \nProkka\n\u00b6\n\n\n1. \u7f16\u8bd1\u5305\u5b89\u88c5\n\u00b6\n\n\n\u5982\u679c\u4e0b\u8f7d\u9884\u7f16\u8bd1\u5305\u5b89\u88c5\u7684\u8bdd\uff0c\u9700\u8981\u6709Bioperl\u652f\u6301\u3002\u4ee5\u53ca\u4e00\u4e9b\u7b2c\u4e09\u65b9\u5e93\u548c\u8f6f\u4ef6\u7684\u652f\u6301\u3002\n\n\n\u5b89\u88c5 Bioperl\n\n\n$ sudo apt-get install cpanminus\n$ cpanm Bio::Perl XML::Simple\n\n\n\n\n\u5b89\u88c5\u5176\u4ed6\u4f9d\u8d56\n\n\n$ sudo apt-get install libdatetime-perl libxml-simple-perl libdigest-md5-perl git default-jre bioperl\n\n\n\n\n\u5b89\u88c5 rRNA \u6ce8\u91ca\u529f\u80fd\n\n\n\u8fd9\u91cc\u9009\u62e9 Barrnap \u548c MINCED\n\n\n$ wget http://www.vicbioinformatics.com/barrnap-0.6.tar.gz\n$ tar zxvf barrnap-0.5.tar.gz -C ~/app/\n$ \necho\n \n\"export PATH=\n$PATH\n:\n$HOME\n/app/barrnap-0.6/bin\"\n >> ~/.bashrc\n$ \nsource\n ~/.bashrc\n\n$ wget https://github.com/ctSkennerton/minced/releases/download/0.3.0/minced\n$ sudo cp minced /usr/local/sbin\n\n\n\n\n\u5b89\u88c5 ncRNA \u6ce8\u91ca\u529f\u80fd\n\n\n\u4f7f\u7528 infernal\n\n\n$ wget http://eddylab.org/infernal/infernal-1.1.2.tar.gz\n$ tar zxvf infernal-1.1.2.tar.gz -C ~/app/\n$ \necho\n \n\"export PATH=\n$PATH\n:\n$HOME\n/app/infernal-1.1.2\"\n\n\n\n\n\n\u5b89\u88c5 prokka\n\n\n$ wget http://www.vicbioinformatics.com/prokka-1.12.tar.gz\n$ tar zxvf prokka-1.12.tar.gz -C ~/app\n$ \necho\n \n\"export PATH=\n$PATH\n:\n$HOME\n/app/prokka-1.12/bin\"\n >> ~/.bashrc\n$ \nsource\n ~/.bashrc\n$ prokka --setupdb\n\n\n\n\n\u5982\u679c\u8981\u4f7f\u7528 --gram \u529f\u80fd\uff0c\u9700\u8981\u5b89\u88c5 \nsignalp\n\u3002\nsignalp\n \u662f \nDTU \u5927\u5b66\u751f\u7269\u53ca\u536b\u751f\u4fe1\u606f\u5b66\u7cfb\n\u5f00\u53d1\uff0c\u652f\u6301web\u754c\u9762\u7684\u5de5\u5177\u3002\u547d\u4ee4\u884c\u7248\u672c\u9700\u8981\u63d0\u4f9b\u975e\u5546\u4e1aISP\u63d0\u4f9b\u7684\u90ae\u7bb1\u5e10\u53f7\u6ce8\u518c\u4ee5\u540e\u624d\u80fd\u4e0b\u8f7d\uff08\u6bd4\u5982\u653f\u5e9c\u6216\u5927\u5b66\uff09\u3002\u70b9\u51fb\n\u8fd9\u91cc\n\u3002\n\n\n2. conda \u5b89\u88c5\n\u00b6\n\n\n$ conda create -n prokka\n$ conda activate prokka\n\n(\nprokka\n)\n$ conda install prokka\n\n\n\n\n\u4f7f\u7528 Prokka\n\u00b6\n\n\n\u8981\u60f3\u6ce8\u91cafasta\u6587\u4ef6\uff0c\u6700\u7b80\u5355\u7684\u65b9\u5f0f\uff0c\u4e0d\u586b\u52a0\u4efb\u4f55\u53c2\u6570\u5c31\u53ef\u4ee5\u83b7\u5f97\u3002\u6240\u6709\u7684\u7ed3\u679c\u4f1a\u653e\u5728\n\n\n# \u4e0b\u8f7d\u57fa\u56e0\u7ec4\u6570\u636e\n\n$ esearch -db nuccore -query \n\"1639[txid] AND egd\"\n \n|\n efetch -format fasta > egd.fasta\n\n\n# \u6ce8\u91ca\u6570\u636e\n\n$ prokka egd.fasta\n\n\n\n\n\u901a\u8fc7\u6dfb\u52a0\n--listdb\n\u53ef\u4ee5\u67e5\u770b\u6570\u636e\u5e93\u4fe1\u606f\u3002\n\n\n# \u67e5\u770b\u53ef\u4ee5\u4f7f\u7528\u7684\u6570\u636e\u5e93\n\n$ prokka --listdb\n\nLooking \nfor\n databases in: ...\n* Kingdoms: Archaea Bacteria Mitochondria Viruses\n* Genera: Enterococcus Escherichia Staphylococcus\n* HMMs: HAMAP\n* CMs: Bacteria Viruses\n\n\n\n\n\u5982\u679c\u9700\u8981\u6bd4\u8f83\u5b8c\u6574\u7684\u8fdb\u884c\u5e8f\u5217\u6ce8\u91ca\uff0c\u7ed3\u679c\u53ef\u4ee5\u6bd4\u8f83\u65b9\u4fbf\u7684\u7528\u6765\u63d0\u4ea4\u7684\u8bdd\uff0c\u53ef\u4ee5\u6dfb\u52a0\u76f8\u5e94\u7684\u53c2\u6570\u6765\u89c4\u8303\u6ce8\u91ca\u4ee5\u53ca\u8c03\u7528\u4e0d\u540c\u7684\u5de5\u5177\u626b\u63cfncRNA\u7b49\u3002\n\n\n# \u6ce8\u91ca Listeria monocytogenes \u6807\u51c6\u682a egd\n\n$ prokka --outdir egd --prefix egd --addgenes --addmrna --compliant --centre CDC --genus Listeria --species \n\"Listeria monocytogenes\"\n --strain egd\n--kingdom Bacteria --usegenus --cpus \n4\n --rfam --rnammer --force egd.fasta\n\n\n# \u751f\u6210\u7ed3\u679c\u6ce8\u91ca\u6587\u4ef6\n\n$ ls -l egd \n|\n awk \n'{print $9}'\n\n\negd.err     \n# prokka \u5bf9\u6ce8\u91ca\u7ed3\u679c\u5b58\u5728\u7684\u4e00\u4e9b\u7591\u95ee\u8fdb\u884c\u62a5\u544a\u7684\u4fe1\u606f\n\negd.faa     \n# \u6ce8\u91ca\u7684\u6c28\u57fa\u9178\u5e8f\u5217\n\negd.ffn     \n# \u6ce8\u91ca\u7684\u78b1\u57fa\u5e8f\u5217\n\negd.fna     \n# \u4ee5 NCBI gnl|centre| \u4e3aID\u547d\u540d\u7684\u78b1\u57fa\u5e8f\u5217\u6587\u4ef6\n\negd.fsa     \n# \u4ee5 NCBI gnl|centre| \u4e3aID\u547d\u540d\u7684\u78b1\u57fa\u5e8f\u5217\u6587\u4ef6\n\negd.gbk     \n# genbank \u683c\u5f0f\u7684\u6ce8\u91ca\u6587\u4ef6\n\negd.gff     \n# gff \u683c\u5f0f\u7684\u6ce8\u91ca\u6587\u4ef6\n\negd.log     \n# prokka \u8fd0\u884c\u65e5\u5fd7\n\negd.sqn     \n# sqn \u683c\u5f0f\u7684\u6587\u4ef6\uff0c\u53ef\u4ee5\u7528\u6765\u63d0\u4ea4\u5230 NCBI\n\negd.tbl     \n# tbl \u683c\u5f0f\u7684\u6587\u4ef6\uff0c\u53ef\u4ee5\u7528\u6765\u63d0\u4ea4\u5230 NCBI\n\negd.tsv     \n# tsv \u683c\u5f0f\u6587\u4ef6\uff0c\n\negd.txt     \n# prokka \u6ce8\u91ca\u7684\u5404\u79cd\u7c7b\u578b\u5e8f\u5217\u7edf\u8ba1\u4fe1\u606f\n\n\n\n\n\n--kingdom\n\n\n\u9ed8\u8ba4\u6ce8\u91ca\u7684\u662f\u7ec6\u83cc\u57fa\u56e0\u7ec4\uff0c\u5982\u679c\u662f\u5176\u4ed6\u7269\u79cd\u5219\u8981\u6dfb\u52a0\u8fd9\u4e2a\u53c2\u6570\u3002\u53ef\u9009\u9879\u6709\uff1a\n\n\n\n\nArchaea\n\n\nBacteria\n\n\nMitochondria\n\n\nViruses\n\n\n\n\n\u6bd4\u5982\u8981\u6ce8\u91ca\u75c5\u6bd2\u57fa\u56e0\u7ec4\uff1a\n\n\n$ prokka --kingdom Viruses contigs.fasta\n\n\n\n\n.err \u6587\u4ef6\n\u00b6\n\n\n.tsv \u6587\u4ef6\n\u00b6\n\n\ntsv \u6587\u4ef6\u6309\u7167 locus_tag \u987a\u5e8f\u6392\u5e8f\u4e86\u6ce8\u91ca\u7684\u7ed3\u679c\u3002\u5b57\u6bb5\u5305\u62ec\nlocus_tag\n, \nftype\n, \nlength_bp\n, \ngene\n, \nEC_number\n, \nCOG\n, \nproduct\n\u3002\n\n\n$ head egd.tsv\nlocus_tag       ftype   length_bp       gene    EC_number       COG     product\nDJECODEN_00001  CDS     \n1356\n    dnaA            COG0593 Chromosomal replication initiator protein DnaA\nDJECODEN_00001  gene    \n1356\n    dnaA\nDJECODEN_00001  mRNA    \n1356\n    dnaA\nDJECODEN_00002  CDS     \n1146\n    dnaN            COG0592 Beta sliding clamp\nDJECODEN_00002  gene    \n1146\n    dnaN\nDJECODEN_00002  mRNA    \n1146\n    dnaN\nDJECODEN_00003  CDS     \n1344\n    yeeO_1          COG0534 putative FMN/FAD exporter YeeO\nDJECODEN_00003  gene    \n1344\n    yeeO_1\nDJECODEN_00003  mRNA    \n1344\n    yeeO_1\n\n\n\n\n# \u6ce8\u91caCDS\u957f\u5ea6\u6392\u5e8f\n\n$ awk \n'/CDS/ {print $0}'\n egd.tsv \n|\n sort -n -k3 -r \n|\n less\n\n\n# \u663e\u793a\u6240\u6709\u7684\u4e0d\u91cd\u590d\u6ce8\u91ca\u4ea7\u7269\n\n$ awk \n'!a[$1]++{print}'\n egd.tsv\n\n\n# \u663e\u793a\u6240\u6709COG\u6ce8\u91ca\n\n$ awk \n'/COG/'\n egd.tsv",
            "title": "01. Prokka \u5feb\u901f\u6ce8\u91ca"
        },
        {
            "location": "/chapter_05/01_prokka/#prokka",
            "text": "Prokka  \u662f\u4e00\u4e2a\u539f\u6838\u7269\u79cd\u57fa\u56e0\u7ec4\u6ce8\u91ca\u5de5\u5177\uff0c\u7531\u58a8\u5c14\u672c\u5927\u5b66\u751f\u7269\u4fe1\u606f\u5b66\u5bb6  Torsten Seemann  \u5f00\u53d1\u7684\u57fa\u4e8e\u547d\u4ee4\u884c\u7684\u672c\u5730\u5feb\u901f\u6ce8\u91ca\u5de5\u5177\uff0c\u4e3b\u8981\u7528\u6765\u6ce8\u91ca\u5c0f\u57fa\u56e0\u7ec4\u6bd4\u5982\u7ec6\u83cc\u3001\u75c5\u6bd2\u7b49\u3002",
            "title": "Prokka"
        },
        {
            "location": "/chapter_05/01_prokka/#prokka_1",
            "text": "",
            "title": "\u5b89\u88c5 Prokka"
        },
        {
            "location": "/chapter_05/01_prokka/#1",
            "text": "\u5982\u679c\u4e0b\u8f7d\u9884\u7f16\u8bd1\u5305\u5b89\u88c5\u7684\u8bdd\uff0c\u9700\u8981\u6709Bioperl\u652f\u6301\u3002\u4ee5\u53ca\u4e00\u4e9b\u7b2c\u4e09\u65b9\u5e93\u548c\u8f6f\u4ef6\u7684\u652f\u6301\u3002  \u5b89\u88c5 Bioperl  $ sudo apt-get install cpanminus\n$ cpanm Bio::Perl XML::Simple  \u5b89\u88c5\u5176\u4ed6\u4f9d\u8d56  $ sudo apt-get install libdatetime-perl libxml-simple-perl libdigest-md5-perl git default-jre bioperl  \u5b89\u88c5 rRNA \u6ce8\u91ca\u529f\u80fd  \u8fd9\u91cc\u9009\u62e9 Barrnap \u548c MINCED  $ wget http://www.vicbioinformatics.com/barrnap-0.6.tar.gz\n$ tar zxvf barrnap-0.5.tar.gz -C ~/app/\n$  echo   \"export PATH= $PATH : $HOME /app/barrnap-0.6/bin\"  >> ~/.bashrc\n$  source  ~/.bashrc\n\n$ wget https://github.com/ctSkennerton/minced/releases/download/0.3.0/minced\n$ sudo cp minced /usr/local/sbin  \u5b89\u88c5 ncRNA \u6ce8\u91ca\u529f\u80fd  \u4f7f\u7528 infernal  $ wget http://eddylab.org/infernal/infernal-1.1.2.tar.gz\n$ tar zxvf infernal-1.1.2.tar.gz -C ~/app/\n$  echo   \"export PATH= $PATH : $HOME /app/infernal-1.1.2\"   \u5b89\u88c5 prokka  $ wget http://www.vicbioinformatics.com/prokka-1.12.tar.gz\n$ tar zxvf prokka-1.12.tar.gz -C ~/app\n$  echo   \"export PATH= $PATH : $HOME /app/prokka-1.12/bin\"  >> ~/.bashrc\n$  source  ~/.bashrc\n$ prokka --setupdb  \u5982\u679c\u8981\u4f7f\u7528 --gram \u529f\u80fd\uff0c\u9700\u8981\u5b89\u88c5  signalp \u3002 signalp  \u662f  DTU \u5927\u5b66\u751f\u7269\u53ca\u536b\u751f\u4fe1\u606f\u5b66\u7cfb \u5f00\u53d1\uff0c\u652f\u6301web\u754c\u9762\u7684\u5de5\u5177\u3002\u547d\u4ee4\u884c\u7248\u672c\u9700\u8981\u63d0\u4f9b\u975e\u5546\u4e1aISP\u63d0\u4f9b\u7684\u90ae\u7bb1\u5e10\u53f7\u6ce8\u518c\u4ee5\u540e\u624d\u80fd\u4e0b\u8f7d\uff08\u6bd4\u5982\u653f\u5e9c\u6216\u5927\u5b66\uff09\u3002\u70b9\u51fb \u8fd9\u91cc \u3002",
            "title": "1. \u7f16\u8bd1\u5305\u5b89\u88c5"
        },
        {
            "location": "/chapter_05/01_prokka/#2-conda",
            "text": "$ conda create -n prokka\n$ conda activate prokka ( prokka ) $ conda install prokka",
            "title": "2. conda \u5b89\u88c5"
        },
        {
            "location": "/chapter_05/01_prokka/#prokka_2",
            "text": "\u8981\u60f3\u6ce8\u91cafasta\u6587\u4ef6\uff0c\u6700\u7b80\u5355\u7684\u65b9\u5f0f\uff0c\u4e0d\u586b\u52a0\u4efb\u4f55\u53c2\u6570\u5c31\u53ef\u4ee5\u83b7\u5f97\u3002\u6240\u6709\u7684\u7ed3\u679c\u4f1a\u653e\u5728  # \u4e0b\u8f7d\u57fa\u56e0\u7ec4\u6570\u636e \n$ esearch -db nuccore -query  \"1639[txid] AND egd\"   |  efetch -format fasta > egd.fasta # \u6ce8\u91ca\u6570\u636e \n$ prokka egd.fasta  \u901a\u8fc7\u6dfb\u52a0 --listdb \u53ef\u4ee5\u67e5\u770b\u6570\u636e\u5e93\u4fe1\u606f\u3002  # \u67e5\u770b\u53ef\u4ee5\u4f7f\u7528\u7684\u6570\u636e\u5e93 \n$ prokka --listdb\n\nLooking  for  databases in: ...\n* Kingdoms: Archaea Bacteria Mitochondria Viruses\n* Genera: Enterococcus Escherichia Staphylococcus\n* HMMs: HAMAP\n* CMs: Bacteria Viruses  \u5982\u679c\u9700\u8981\u6bd4\u8f83\u5b8c\u6574\u7684\u8fdb\u884c\u5e8f\u5217\u6ce8\u91ca\uff0c\u7ed3\u679c\u53ef\u4ee5\u6bd4\u8f83\u65b9\u4fbf\u7684\u7528\u6765\u63d0\u4ea4\u7684\u8bdd\uff0c\u53ef\u4ee5\u6dfb\u52a0\u76f8\u5e94\u7684\u53c2\u6570\u6765\u89c4\u8303\u6ce8\u91ca\u4ee5\u53ca\u8c03\u7528\u4e0d\u540c\u7684\u5de5\u5177\u626b\u63cfncRNA\u7b49\u3002  # \u6ce8\u91ca Listeria monocytogenes \u6807\u51c6\u682a egd \n$ prokka --outdir egd --prefix egd --addgenes --addmrna --compliant --centre CDC --genus Listeria --species  \"Listeria monocytogenes\"  --strain egd\n--kingdom Bacteria --usegenus --cpus  4  --rfam --rnammer --force egd.fasta # \u751f\u6210\u7ed3\u679c\u6ce8\u91ca\u6587\u4ef6 \n$ ls -l egd  |  awk  '{print $9}' \n\negd.err      # prokka \u5bf9\u6ce8\u91ca\u7ed3\u679c\u5b58\u5728\u7684\u4e00\u4e9b\u7591\u95ee\u8fdb\u884c\u62a5\u544a\u7684\u4fe1\u606f \negd.faa      # \u6ce8\u91ca\u7684\u6c28\u57fa\u9178\u5e8f\u5217 \negd.ffn      # \u6ce8\u91ca\u7684\u78b1\u57fa\u5e8f\u5217 \negd.fna      # \u4ee5 NCBI gnl|centre| \u4e3aID\u547d\u540d\u7684\u78b1\u57fa\u5e8f\u5217\u6587\u4ef6 \negd.fsa      # \u4ee5 NCBI gnl|centre| \u4e3aID\u547d\u540d\u7684\u78b1\u57fa\u5e8f\u5217\u6587\u4ef6 \negd.gbk      # genbank \u683c\u5f0f\u7684\u6ce8\u91ca\u6587\u4ef6 \negd.gff      # gff \u683c\u5f0f\u7684\u6ce8\u91ca\u6587\u4ef6 \negd.log      # prokka \u8fd0\u884c\u65e5\u5fd7 \negd.sqn      # sqn \u683c\u5f0f\u7684\u6587\u4ef6\uff0c\u53ef\u4ee5\u7528\u6765\u63d0\u4ea4\u5230 NCBI \negd.tbl      # tbl \u683c\u5f0f\u7684\u6587\u4ef6\uff0c\u53ef\u4ee5\u7528\u6765\u63d0\u4ea4\u5230 NCBI \negd.tsv      # tsv \u683c\u5f0f\u6587\u4ef6\uff0c \negd.txt      # prokka \u6ce8\u91ca\u7684\u5404\u79cd\u7c7b\u578b\u5e8f\u5217\u7edf\u8ba1\u4fe1\u606f   --kingdom  \u9ed8\u8ba4\u6ce8\u91ca\u7684\u662f\u7ec6\u83cc\u57fa\u56e0\u7ec4\uff0c\u5982\u679c\u662f\u5176\u4ed6\u7269\u79cd\u5219\u8981\u6dfb\u52a0\u8fd9\u4e2a\u53c2\u6570\u3002\u53ef\u9009\u9879\u6709\uff1a   Archaea  Bacteria  Mitochondria  Viruses   \u6bd4\u5982\u8981\u6ce8\u91ca\u75c5\u6bd2\u57fa\u56e0\u7ec4\uff1a  $ prokka --kingdom Viruses contigs.fasta",
            "title": "\u4f7f\u7528 Prokka"
        },
        {
            "location": "/chapter_05/01_prokka/#err",
            "text": "",
            "title": ".err \u6587\u4ef6"
        },
        {
            "location": "/chapter_05/01_prokka/#tsv",
            "text": "tsv \u6587\u4ef6\u6309\u7167 locus_tag \u987a\u5e8f\u6392\u5e8f\u4e86\u6ce8\u91ca\u7684\u7ed3\u679c\u3002\u5b57\u6bb5\u5305\u62ec locus_tag ,  ftype ,  length_bp ,  gene ,  EC_number ,  COG ,  product \u3002  $ head egd.tsv\nlocus_tag       ftype   length_bp       gene    EC_number       COG     product\nDJECODEN_00001  CDS      1356     dnaA            COG0593 Chromosomal replication initiator protein DnaA\nDJECODEN_00001  gene     1356     dnaA\nDJECODEN_00001  mRNA     1356     dnaA\nDJECODEN_00002  CDS      1146     dnaN            COG0592 Beta sliding clamp\nDJECODEN_00002  gene     1146     dnaN\nDJECODEN_00002  mRNA     1146     dnaN\nDJECODEN_00003  CDS      1344     yeeO_1          COG0534 putative FMN/FAD exporter YeeO\nDJECODEN_00003  gene     1344     yeeO_1\nDJECODEN_00003  mRNA     1344     yeeO_1  # \u6ce8\u91caCDS\u957f\u5ea6\u6392\u5e8f \n$ awk  '/CDS/ {print $0}'  egd.tsv  |  sort -n -k3 -r  |  less # \u663e\u793a\u6240\u6709\u7684\u4e0d\u91cd\u590d\u6ce8\u91ca\u4ea7\u7269 \n$ awk  '!a[$1]++{print}'  egd.tsv # \u663e\u793a\u6240\u6709COG\u6ce8\u91ca \n$ awk  '/COG/'  egd.tsv",
            "title": ".tsv \u6587\u4ef6"
        },
        {
            "location": "/chapter_05/02_rast/",
            "text": "",
            "title": "02. rast"
        },
        {
            "location": "/chapter_05/03_PGAAP/",
            "text": "PGAAP\n\u00b6\n\n\nhttp://www.ncbi.nlm.nih.gov/genome/annotation_prok/\n\n\nhttp://www.ncbi.nlm.nih.gov/books/NBK174280/",
            "title": "03. PGAAP"
        },
        {
            "location": "/chapter_05/03_PGAAP/#pgaap",
            "text": "http://www.ncbi.nlm.nih.gov/genome/annotation_prok/  http://www.ncbi.nlm.nih.gov/books/NBK174280/",
            "title": "PGAAP"
        },
        {
            "location": "/chapter_10/01_trace-Pae-from-different-source-by-SNP/",
            "text": "\u94dc\u7eff\u5047\u5355\u80de\u83cc\u4e34\u5e8a\u682a\u4e0e\u73af\u5883\u682aSNP\u6eaf\u6e90\n\u00b6\n\n\n\n\n\u672c\u8282\u5b9e\u8df5\n\n\n\u5229\u7528\u9ad8\u901a\u91cf\u6d4b\u5e8f\u6280\u672f\u5bf9\u94dc\u7eff\u5047\u5355\u80de\u83cc\u7684\u4e34\u5e8a\u5206\u79bb\u682a\u4e0e\u73af\u5883\u5206\u79bb\u682a\u5728\u57fa\u56e0\u7ec4\u6c34\u5e73\u4e0a\u8fdb\u884cSNP\u5206\u6790\uff0c\u4ece\u800c\u6eaf\u6e90\u83cc\u682a\u5e76\u505a\u8010\u836f\u5206\u6790\u3002\n\n\n\n\n\u5206\u6790\u65b9\u6cd5\n\uff1a\n\n\n\u5229\u7528 bwa \u5c06\u76ee\u6807\u57fa\u56e0\u7ec4 reads \u6bd4\u5bf9\u5230\u53c2\u8003\u57fa\u56e0\u7ec4\uff0c\u7528 freebayes \u505a variant calling\uff0c\u83b7\u5f97\u5404\u4e2a\u6837\u672c\u7684 SNPs\uff0c\u6839\u636e\u7ed3\u679c\u505a\u8fdb\u4e00\u6b65\u5206\u6790\u3002\n\n\n\u5e94\u7528\u5de5\u5177\n:\n\n\n\n\nbwa\n\n\nsamtools\n\n\nfreebayes\n\n\nvcffilter\n\n\n\n\n\u5206\u6790\u6d41\u7a0b\n:\n\n\n\u5b9e\u8df5\u610f\u4e49\n\uff1a\n\n\n\u53ef\u4ee5\u4f5c\u4e3a\u4eca\u540e\u5b9e\u9a8c\u5ba4\u5f00\u5c55\u75c5\u539f\u83cc\u6eaf\u6e90\u5de5\u4f5c\u7684\u4e00\u4e2a\u6280\u672f\u6307\u5bfc\u4f9d\u636e\u3002\n\n\n1. \u63d0\u51fa\u95ee\u9898\n\u00b6\n\n\n\u5de5\u4f5c\u6d41\u7a0b\u5c06\u4ece\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\u5bf9\u4e8e\u8fd9\u4e2a\u6848\u4f8b\u5f00\u5c55\u6570\u636e\u5206\u6790\uff1a\n\n\n\n\n\u6d4b\u5e8f\u8d28\u91cf\uff1areads\u7684\u957f\u5ea6\uff0c\u63d2\u5165\u7247\u6bb5\u7684\u957f\u5ea6\n\n\n\u5c06\u6d4b\u5e8f\u6570\u636e\u6bd4\u5bf9\u5230\u53c2\u8003\u57fa\u56e0\u7ec4ST17\uff1a\n\n\n\u6bcf\u4e2a\u6837\u54c1reads\u7684\u5206\u5e03\u60c5\u51b5\n\n\n\u6bcf\u4e2a\u6837\u54c1\u7684\u57fa\u56e0\u7ec4\u6d4b\u5e8f\u8986\u76d6\u5ea6\n\n\n\u4e0d\u540c\u6837\u54c1\u4e4b\u95f4\u7684\u5dee\u5f02\uff0c\u7279\u522b\u662f\u5f53\u8bbe\u7f6e\u4e0d\u540c\u7684\u8fc7\u6ee4\u53c2\u6570\u65f6\u7684\u60c5\u51b5\uff1a\n\n\nQuality filter: QUAL > 100\n\n\nLikelihood filter: QUAL / AO > 10\n\n\nVariant frequency filter: AO / DP > 0.9 (90% allele frequency)\n\n\n\n\n\n\n\u54ea\u4e00\u4e2a\u6c34\u9f99\u5934\u6c34\u6837\u7684\u5206\u79bb\u682a\u6700\u6709\u53ef\u80fd\u662f\u611f\u67d3\u6e90\u3002(\u65b9\u6cd5: \u7528\nvcfsamplediff\n\u6bd4\u8f83\u73af\u5883\u682a\u4e0e\u4e34\u5e8a\u682aSNPs\u6570\u91cf)\n\n\n2\u4e2a\u75c5\u4eba\u5206\u79bb\u682a\u4e4b\u95f4\u4f7f\u7528\u4e86\u5927\u91cf\u7684\u6297\u751f\u7d20\u6cbb\u7597\uff0c\u54ea\u4e00\u4e2a\u83b7\u5f97\u3001\u5f97\u4e86\u8010\u836f\u6027\uff1f\n\n\n\u7528 joint calling \u6765\u6bd4\u8f832\u4e2a\u4e34\u5e8a\u6837\u54c1\u6570\u636e\uff0c\u5e76\u7528\nvcfsamplediff\n\u5206\u6790\n\n\n\u5bf9\u4e8e\u83b7\u5f97\u7684\u5927\u91cfSNPs\uff0c\u662f\u5426\u9700\u8981\u8fc7\u6ee4\u4ee5\u53ca\u5982\u4f55\u8fc7\u6ee4\n\n\n\u4e86\u89e3SNPs\u7684\u5206\u5e03\u89c4\u5f8b\n\n\n\u91cd\u70b9\u67e5\u770bSNPs\n\n\n\n\n2. \u5206\u6790\u6d41\u7a0b\n\u00b6\n\n\n2.1 \u4e0b\u8f7d\u6570\u636e\n\u00b6\n\n\n\u6570\u636e\u53ef\u4ee5\u4ece\n\u8fd9\u91cc\n\u4e0b\u8f7d\u83b7\u5f97\uff0c\u53ef\u4ee5\u7528\nwget -m\n\u9012\u5f52\u4e0b\u8f7d\u8def\u5f84\u4e0b\u6240\u6709\u6587\u4ef6\u3002\u6587\u4ef6\u5305\u62ec\uff1a\n\n\n\n\nTAP1 - \u75c5\u623f1\u53f7\u6c34\u9f99\u5934\u6c34\u6837\u4e2d\u5206\u79bb\u7684\u83cc\u682a\n\n\nTAP2 - \u75c5\u623f2\u53f7\u6c34\u9f99\u5934\u6c34\u6837\u4e2d\u5206\u79bb\u7684\u83cc\u682a\n\n\nTAP3 - \u75c5\u623f3\u53f7\u6c34\u9f99\u5934\u6c34\u6837\u4e2d\u5206\u79bb\u7684\u83cc\u682a\n\n\nPATIENT1 - \u670d\u7528\u6297\u751f\u7d20\u540e\u7684\u75c5\u4eba\u5206\u79bb\u682a\n\n\nPATIENT2 - \u4e00\u5468\u5185\u8fdb\u4e00\u6b65\u670d\u7528\u6297\u751f\u7d20\u7684\u75c5\u4eba\u5206\u79bb\u682a\n\n\n\n\n# \u65b0\u5efa\u4e00\u4e2a\u76ee\u5f55\uff0c\u6570\u636e\u548c\u64cd\u4f5c\u5747\u5728\u91cc\u9762\u8fdb\u884c\n\n$ mkdir pae-case \n&&\n \ncd\n pae-case\n\n# \u4e0b\u8f7d\u6570\u636e\u6587\u4ef6\n\n$ wget -m http://www.microbesng.uk/filedist/pseudomonas-practical/\n$ mv www.microbesng.uk/filedist/pseudomonas-practical/* .\n\n\n\n\n2.2 \u5efa\u7acb ST17 \u578b\u53c2\u8003\u83cc\u682a\u7d22\u5f15\n\u00b6\n\n\n\u8f6f\u4ef6\u4f7f\u7528\nbwa\n\u6765\u5bf9\u53c2\u8003\u57fa\u56e0\u7ec4ST17\u5efa\u7acb\u7d22\u5f15\uff0c\u4ee5\u4fbf\u540e\u7eed\u6bd4\u5bf9\u3002\n\n\n$ bwa index ST17.fasta\n\n\n\n\n2.3 \u5c06\u6d4b\u5e8f reads \u6bd4\u5bf9\u5230 ST17 \u5e76\u6392\u5e8f\u7d22\u5f15\n\u00b6\n\n\n\u7528\nbwa mem\n\u8fdb\u884c\u6bd4\u5bf9\uff0c\u8f93\u51fa\u7684\u7ed3\u679c\u901a\u8fc7\u7ba1\u9053\u7531samtools\u8f6c\u6362\u6210BAM\u6587\u4ef6\u5e76\u8fdb\u884c\u6392\u5e8f\u548c\u7d22\u5f15\n\n\n$ bwa mem -t \n4\n -R \n'@RG\\tID:TAP1\\tSM:TAP1'\n ST17.fasta \n\\\n\n> TAP1_R1_paired.fastq.gz TAP1_R2_paired.fastq.gz \n|\n \n\\\n\n> samtools view -bS - \n|\n samtools sort - TAP1.sorted\n$ samtools index TAP1.sorted.bam\n\n\n\n\n\n\n\u53c2\u6570\u4ecb\u7ecd\n\n\n\n\n-t 4: \u8868\u793a\u4f7f\u75284\u7ebf\u7a0b\uff0c\u6839\u636e\u81ea\u5df1\u7684\u8ba1\u7b97\u673aCPU\u8d44\u6e90\u8bbe\u7f6e\u3002\n\n\n-R '...': \u8bbe\u7f6ereads\u7684ID\uff0c\\t\u4e3a\u5236\u8868\u7b26\u4f1a\u8f6c\u4e49\u6210tab\u952e\u3002\n\n\n\n\n\n\n\u5bf9\u5176\u4ed62\u682a\u73af\u5883\u682a\u548c2\u682a\u4e34\u5e8a\u682a\u91cd\u590d\u4ee5\u4e0a\u6b65\u9aa4\u3002\n\n\n2.4 \u7ed8\u5236\u6d4b\u5e8f reads \u7684\u8986\u76d6\u5ea6\n\u00b6\n\n\nbam\u6587\u4ef6\u542b\u6709\u6bd4\u5bf9\u7684\u4fe1\u606f\uff0c\u53ef\u4ee5\u7528\nstats\n\u53c2\u6570\u67e5\u770b\n\n\n$ samtools stats TAP1.sorted.bam \n|\n grep \n\"maximum length\"\n\n$ samtools stats TAP1.sorted.bam \n|\n grep \n\"insert size\"\n\n$ samtools stats TAP1.sorted.bam \n|\n grep \n\"^COV\"\n > TAP1.coverage.txt\n\n\n\n\n\u5c06\u622a\u53d6\u7684\u8986\u76d6\u5ea6\u76f8\u5173\u4fe1\u606f\u4fdd\u5b58\u6210\n.txt\n\u6587\u4ef6\uff0c\u5728R\u91cc\u7528ggplot2\u7ed8\u5236\u8986\u76d6\u5ea6\u56fe\uff1a\n\n\n>\n \nlibrary\n(\nggplot2\n)\n\n\n>\n cov\n=\nread.table\n(\n\"TAP1.coverage.txt\"\n,\n sep\n=\n\"\\t\"\n)\n\n\n>\n cov\n[\n1\n,]\n\n\n>\n ggplot\n(\ncov\n,\n aes\n(\nx\n=\nV3\n,\n y\n=\nV4\n))\n \n+\n geom_bar\n(\nstat\n=\n\"identity\"\n)\n \n+\n xlab\n(\n\"Coverage\"\n)\n \n+\n ylab\n(\n\"Count\"\n)\n\n\n\n\n\n\n\n2.5 \u6bd4\u8f831\u53f7\u4e34\u5e8a\u682a\u4e0e\u73af\u5883\u682a\u7684SNPs\u5dee\u5f02\n\u00b6\n\n\n\u7528\u540c\u6837\u7684\u65b9\u6cd5\u5bf9\u5176\u4ed6\u51e0\u4e2a\u6837\u672c\u8fdb\u884c\u64cd\u4f5c\uff0c\u83b7\u5f97sorted\u7684bam\u683c\u5f0f\u6587\u4ef6\uff0c\u7528\nfreebayes\n\u5bf9\u4e34\u5e8a\u4e0e\u73af\u5883\u682a\u6bd4\u8f83\u83b7\u5f97vcf\u6587\u4ef6\u3002\u7136\u540e\u7528vcflib\u5de5\u5177\u8fc7\u6ee4\nQUAL/AO>10\n\u7684\u90e8\u5206(VCF\u5143\u6570\u636e\u90e8\u5206\u53ef\u4ee5\u53c2\u8003\n\u6587\u6863\n)\uff0c\u5e76\u7528\nwc-l\n\u8ba1\u7b97\u884c\u6570\u7edf\u8ba1\u7ed3\u679c\u3002\n\n\n$ freebayes -p \n1\n -C \n5\n -f ST17.fasta TAP1.sorted.bam PATIENT1.sorted.bam  > compare_tap1.vcf\n$ vcffilter -f \n\"QUAL / AO > 10\"\n compare_tap1.vcf \n|\n vcffilter -f \n\"NS = 2\"\n \n|\n wc -l\n\n\n6685\n\n\n\n\n\n\u83b7\u5f97\u4e34\u5e8a\u682a\u4e0e\u73af\u5883\u682a\u4e4b\u95f4\u7684SNP\u5dee\u5f02\u6570\u91cf\uff0c\u7ed3\u679c\u8868\u660e\u8fd92\u682a\u4e4b\u95f4\u53ea\u67095\u4e2aSNPs\u3002\n\n\n$ vcfsamplediff SAME TAP1 PATIENT1 compare_tap1.vcf \n|\n vcffilter -f \n\"QUAL / AO > 10\"\n \n|\n vcffilter -f \n\"NS = 2\"\n \n|\n vcffilter -f \n\"! ( SAME = germline ) \"\n \n|\n grep -v \n\"^#\"\n \n|\n wc -l\n\n\n5\n\n\n\n\n\n\u7528\nvcfsamplediff\n\u4e86\u89e3SNPs\u5dee\u5f02\u7684\u57fa\u56e0\uff0c\u53ef\u4ee5\u77e5\u9053\u662f\u90a3\u4e9bgene/CDS\u91cc\u9762\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u8fd8\u53ef\u4ee5\u6839\u636e\u5b9a\u4f4d\u770b\u7a81\u53d8\u662f\u5426\u662f\u540c\u4e49\u7a81\u53d8\u3002\u5982\u679csnps\u6570\u91cf\u63a5\u8fd1\u65e0\u6cd5\u533a\u5206\uff0c\u4f46\u662f\u5b9a\u4f4d\u7684\u57fa\u56e0\u6709\u5dee\u5f02\uff0c\u90a3\u4e48\u83cc\u682a\u7684\u6eaf\u6e90\u8fd8\u9700\u8981\u8fdb\u4e00\u6b65\u8003\u8651\u3002\n\n\n$ vcfsamplediff SAME PATIENT1 TAP1 compare_tap1.vcf  \n|\n vcffilter -f \n\"QUAL / AO > 10\"\n \n|\n vcffilter -f \n\"NS = 2\"\n \n|\n vcffilter -f \n\"! ( SAME = germline ) \"\n > tap_differences.vcf\n$ bedtools intersect -a ST17.gff -b tap_differences.vcf \n|\n awk -F\n\";\"\n \n'{print NR, $2}'\n \nOFS\n=\n\"\\t\"\n\n\n\n\n\n\u7ed3\u679c\u8f93\u51fa\uff1a\n\n\n1\n   \ngene\n=\nyfiR\n\n2\n   \ninference\n=\nab initio prediction:Prodigal:2.60,similar to AA sequence:RefSeq:YP_261793.1,protein motif:TIGRFAMs:TIGR03756,protein motif:Pfam:PF06834.5\n\n3\n   \ninference\n=\nab initio prediction:Prodigal:2.60,similar to AA sequence:RefSeq:YP_261793.1,protein motif:TIGRFAMs:TIGR03756,protein motif:Pfam:PF06834.5\n\n4\n   \ngene\n=\ntrbL\n\n5\n   \ninference\n=\nab initio prediction:Prodigal:2.60,similar to AA sequence:RefSeq:YP_001349879.1,protein motif:Cdd:COG3481,protein motif:TIGRFAMs:TIGR03760,protein motif:Pfam:PF07514.5\n\n\n\n\n2.6 2\u4e2a\u4e34\u5e8a\u682a\u7684\u8010\u836f\u53d8\u8fc1\n\u00b6\n\n\n\u4e86\u89e32\u4e2a\u4e34\u5e8a\u682a\u7684SNPs\u5dee\u5f02\uff0c\u5e76\u67e5\u770b\u8fd9\u4e9bSNPs\u6240\u5f71\u54cd\u7684gene\n\n\n$ freebayes --ploidy \n1\n -C \n5\n -f ST17.fasta PATIENT1.sorted.bam PATIENT2.sorted.bam > compare_patient.vcf\n~$ vcfsamplediff SAME PATIENT1 TAP1 compare_patient.vcf  \n|\n vcffilter -f \n\"QUAL / AO > 10\"\n \n|\n vcffilter -f \n\"NS = 2\"\n \n|\n vcffilter -f \n\"! ( SAME = germline ) \"\n > patient_differences.vcf\n$ bedtools intersect -a ST17.gff -b patient_differences.vcf \n|\n awk -F\n\";\"\n \n'{print $2}'\n\n\n\n\n\n\n\n3. \u7528 Snippy \u6765\u5b9e\u73b0\n\u00b6\n\n\n\u5927\u91cf\u7684\u65e5\u5e38\u5de5\u4f5c\u6216\u8005\u4e0d\u719f\u6089\u5404\u79cd\u547d\u4ee4\u884c\u5de5\u5177\u4f7f\u7528\u7684\u8bdd\uff0c\u5c31\u9700\u8981\u66f4\u7b80\u4fbf\u7684\u8f6f\u4ef6\u6216\u8005pipelines\u6765\u5e2e\u52a9\u5b8c\u6210\u6574\u4e2a\u5206\u6790\u5de5\u4f5c\u3002\u56e0\u6b64\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528\nsnippy\n\u6765\u5b9e\u73b0\u5206\u6790SNPs\uff0c\u5e76\u7ed8\u5236\u57fa\u4e8esnps\u7684\u8fdb\u5316\u6811\u3002\n\n\n3.1 \u5b89\u88c5 Snippy\n\u00b6\n\n\nSnippy\u662f\u6bd4\u8f83\u9002\u5408\u65b0\u624b\u7684\u5de5\u5177\uff0c\u5b83\u63d0\u4f9b\u4e86All in One\u7684\u5de5\u5177\u5957\u88c5\u3002\u867d\u7136Snippy\u9700\u8981\u4ee5\u4e0b\u8f6f\u4ef6\u652f\u6301\uff1a\n\n\n\n\nPerl >= 5.6\n\n\nBioPerl >= 1.6\n\n\nbwa mem >= 0.7.12\n\n\nsamtools >= 1.1\n\n\nGNU parallel > 2013xxxx\n\n\nfreebayes >= 0.9.20\n\n\nfreebayes sripts ( freebayes-parallel,fasta_generate_regions.py)\n\n\nvcflib (vcffilter, vcfstreamsort, vcfuniq, vcffirstheader)\n\n\nvcftools (vcf-consensus)\n\n\nsnpEff >= 4.1\n\n\n\n\n\u4f46\u8fd9\u4e9b\u5de5\u5177\u5728Snippy\u5b89\u88c5\u5305\u91cc\u90fd\u5df2\u7ecf\u63d0\u4f9b\u4e86\uff0c\u6211\u4eec\u53ea\u9700\u8981\u6839\u636e\u81ea\u5df1\u7684\u7cfb\u7edf\u8bbe\u7f6e\u5c06\u4ee5\u6765\u5de5\u5177\u6dfb\u52a0\u5230\u7cfb\u7edf\u8def\u5f84\u4e2d\u53bb\u5373\u53ef\u3002\u5bf9\u4e8eperl\u7684\u4e00\u4e9b\u6a21\u5757\uff0c\u53ef\u80fd\u9700\u8981\u66f4\u65b0\u540e\u624d\u80fd\u6b63\u5e38\u4f7f\u7528\uff1a\nsudo cpan -u module_name\n\n\n$ wget https://github.com/tseemann/snippy/archive/v2.9.tar.gz\n$ tar xzf v2.9.tar.gz -C ~/app\n$ \necho\n \n\"export PATH=\n$PATH\n:\n$HOME\n/app/snippy-2.9/bin:\n$HOME\n/app/snippy-2.9/binaries/linux/\"\n >> /.bashrc\n$ \nsource\n ~/.bashrc\n\n# update all perl module\n\n$ sudo cpan -u\n\n\n\n\n3.2 \u4f7f\u7528 Snippy\n\u00b6\n\n\nSnippy \u4e0d\u4ec5\u53ef\u4ee5\u83b7\u5f97SNP(\u5305\u62ecMultiSNP)\uff0c\u4e5f\u53ef\u4ee5\u83b7\u5f97insertion, indeletion\u4ee5\u53caComibination\u3002\u6587\u672c\u683c\u5f0f\u7684\u7ed3\u679c\u8bb0\u5f55\u6587\u4ef6\u4e2d\u7684snps.tab\u4e2d\uff0c\u4e5f\u53ef\u4ee5\u7528\u6d4f\u89c8\u5668\u6253\u5f00snps.html\u67e5\u770b\u3002\n\n\n$ snippy --cpus \n4\n --outdir output1 --ref ST17.fasta \n\\\n\n> --R1 TAP1_R1_paired.fastq.gz --R2 TAP1_R2_paired.fastq.gz\n$ head output/snps.tab\n\n\n# snps.txt\u5bf9\u5404\u79cd\u7a81\u53d8\u4f4d\u70b9\u505a\u4e00\u4e2a\u6570\u636e\u7edf\u8ba1\n\n$ cat output1/snps.txt\n...\nSoftware    snippy \n2\n.9\nVariant-COMPLEX \n1124\n\nVariant-DEL     \n27\n\nVariant-INS     \n43\n\nVariant-MNP     \n222\n\nVariant-SNP     \n3351\n\nVariantTotal    \n4767\n\n\n\n# \u8ba1\u7b97\u4e0d\u540c\n\n\n\n# \u4e86\u89e3\u4e0d\u540c\u78b1\u57fa\u7684SNP\u53d8\u5316\u6570\u91cf\uff0c\u5982T->C\u7684SNP\u6570\u91cf\n\n$ awk \n'$10==\"T=>C\" {n++} END{print n}'\n output1/snps.gff\n\n\n\n\nSnippy\u8fd8\u53ef\u4ee5\u751f\u6210\u591a\u4e2a\u57fa\u56e0\u7ec4\u7684\u5171\u6709SNPs\u7684\u6bd4\u5bf9\u6587\u4ef6\u3002\u7528snippy\u5206\u522b\u751f\u62103\u4e2aTAP\u7684snp\u5217\u8868\u6570\u636e\u5230ouput*\u76ee\u5f55\u4e2d\uff0c\u7136\u540e\u7edf\u8ba1\u5171\u6709snps\u6570\u91cf\u5e76\u751f\u6210snp\u5e8f\u5217\u6587\u4ef6aln\u3002\n\n\n# for old ubuntu system you need update outdated perl module List::Util\n\n$ sudo cpan -u List::Util\n$ snippy-core --prefix core output1 output2 output3\n...\nFound \n30711\n core SNPs from \n42075\n variant sites.\nSaved SNP table: core.tab\nConstructing alignment object \nfor\n core.aln\n...\n\n\n\n\n\u5982\u679c\u8981\u7528raxml\u6784\u5efa\u8fdb\u5316\u6811\uff0c\u90a3\u83b7\u5f97\u7684.aln\u6587\u4ef6\u8fd8\u9700\u8981\u8f6c\u6362\u6210.phy\u624d\u53ef\u4ee5\u4f7f\u7528\u3002\u5f88\u591a\u5de5\u5177\u53ef\u4ee5\u5b9e\u73b0\u8f6c\u6362\uff0c\u8fd9\u91cc\u4f7f\u7528\u7f51\u7edc\u670d\u52a1\u6765\u5b9e\u73b0\uff1a\nhttp://sing.ei.uvigo.es/ALTER/\n\n\n# RAxML \u6784\u5efa\u8fdb\u5316\u6811\n\n$ raxmlHPC -f a -x \n12345\n -p \n12345\n -# \n100\n -m GTRGAMMA -s core.phy -n pae -T \n40\n\n$ figtree RAxML_bestTree.pae\n\n\n\n\n\u751f\u6210\u7684\u8fdb\u5316\u6811\u56fe\u7c7b\u4f3c\u4e0b\u56fe\n\n\n\n\n\n\n\u56e0\u4e3a\u6bd4\u5bf9\u7684\u662ffasta\u683c\u5f0f\u7684\u6587\u4ef6\uff0c\u6240\u4ee5snps\u4e0d\u6b62\u662f\u7f16\u7801\u533aCDS\u7684\uff0c\u800c\u662f\u6574\u4e2a\u57fa\u56e0\u7ec4\u4e0a\u7684snps\u3002\n\n\n\n\n4. \u7528 Workflow \u811a\u672c\u6765\u7b80\u5316\u64cd\u4f5c\n\u00b6\n\n\n\u5bf9\u4e8e\u6211\u4eec\u5b9e\u9a8c\u5ba4\u5e73\u65f6\u4f1a\u6709\u8bb8\u591a\u7c7b\u4f3c\u7684SNP\u9274\u5b9a\u5de5\u4f5c\uff0c\u90a3\u4e48\u4e0b\u673a\u6570\u636e\u8981\u4e00\u4e2a\u4e2a\u64cd\u4f5c\u4f1a\u5f88\u7e41\u7410\uff0c\u6709\u65f6\u5019\u6211\u4eec\u901a\u8fc7 unix \u7684 pipeline \u6765\u7b80\u5316\u6216\u8005\u5199 pipeline \u811a\u672c\u6765\u5b9e\u73b0\u3002\u800c\u53e6\u4e00\u79cd\u89e3\u51b3\u65b9\u5f0f\u662f\u901a\u8fc7 Workflow \u5de5\u5177\u6765\u81ea\u52a8\u5316\u6570\u636e\u5206\u6790\u3002\u4e13\u95e8\u7684 Workflow \u8f6f\u4ef6\u6709\u8bb8\u591a\uff0c\u6709\u4e9b\u5e26GUI\uff08\u5982 galaxy \u5c31\u53ef\u4ee5\u5efa\u7acb\u56fe\u5f62\u5316\u7684 workflow\uff09\uff0c\u6709\u4e9b\u57fa\u4e8eCML\u3002\u5bf9\u4e8e\u5728\u670d\u52a1\u5668\u4e0a\u7684\u751f\u7269\u4fe1\u606f\u5b66\u5206\u6790\uff0c\u6211\u4eec\u4e00\u822c\u90fd\u662f\u4e22\u7ed9\u547d\u4ee4\u884c\u6765\u5b9e\u73b0\u3002Workflow \u56e0\u6b64\uff0c\u8fd9\u91cc\u4f7f\u7528\u57fa\u4e8e python \u7684 ruffus \u6765\u5efa\u7acb workflow\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u793a\u4f8b\u6f14\u793a\u5982\u4f55\u7b80\u5316\u5e73\u65f6\u5927\u91cf\u91cd\u590d\u7684\u5de5\u4f5c\u3002\n\n\n\u5982\u679c\u60f3\u4e86\u89e3\u66f4\u591a\u5173\u4e8e workflow/pipeline \u7684\u8f6f\u4ef6\uff0c\u53ef\u4ee5\u67e5\u770b\u4ee5\u4e0b\u7f51\u7ad9\uff1a\n - \ncommon-workflow\n\n - \nawesome-pipeline\n\n\n4.1 \u51c6\u5907\u6570\u636e\n\u00b6\n\n\n\n\nundone\n\n\n\n\n5. \u5982\u4f55\u9009\u62e9 Reference\n\u00b6\n\n\n\u5728\u505a\u5fae\u751f\u7269SNP calling\u65f6\uff0c\u9009\u62e9\u4e0d\u540creference\u5bf9\u7ed3\u679c\u662f\u5426\u4f1a\u6709\u5f71\u54cd\uff1f\u4f1a\u6709\u591a\u5927\u5f71\u54cd\uff1f\u8fd9\u662f\u5177\u4f53\u5206\u6790\u65f6\u9700\u8981\u8003\u8651\u7684\u95ee\u9898\u3002\u6709\u4e00\u4e9b\n\u6587\u7ae0\n\u8fdb\u884c\u4e86\u8ba8\u8bba\u3002\u5bf9\u4e8e\u6211\u4eec\u5b9e\u9a8c\u5ba4\u5f00\u5c55\u75c5\u539f\u5fae\u751f\u7269\u6eaf\u6e90\u65f6\uff0c\u7531\u4e8e\u83cc\u682a\u4e00\u822c\u662f\u9ad8\u5ea6\u8fd1\u6e90\u7684\uff0c\u6240\u4ee5\u5f71\u54cd\u4e0d\u5927\u3002\u5bf9\u4e8e\u505a\u8fdb\u5316\u5173\u7cfb\u5206\u6790\u7684\uff0c\u8fd8\u662f\u9700\u8981\u8003\u8651snp\u7684\u5047\u9633\u6027\u95ee\u9898\uff0c\u901a\u5e38\u662f\u8981\u5bf9snp\u505a filtering\u3002\u800c\u4e14\u5bf9\u4e8e\u4e0d\u540c\u7269\u79cd\u8003\u8651\u5176\u4ed6\u7684\u7a81\u53d8\u4e8b\u4ef6\u4e0e\u91cd\u7ec4\u5728\u8fdb\u5316\u4e0a\u7684\u5f71\u54cd\u3002\n\n\n\u53e6\u4e00\u65b9\u9762\u4e0d\u540c\u8f6f\u4ef6\u7684\u6d41\u7a0b\u4e0e\u53c2\u6570\u4e0d\u540c\uff0c\u5bf9\u4e8e\u4e0d\u719f\u6089\u751f\u7269\u4fe1\u606f\u5b66\u7684\u751f\u7269\u5b66\u5bb6\u5f53\u4f7f\u7528\nAll in One\n\u4e4b\u7c7b\u7684\u5957\u4ef6\u5de5\u5177\u5206\u6790\u65f6\uff0c\u53ef\u80fd\u4f1a\u53d1\u73b0\u4e0d\u540c\u8f6f\u4ef6\u7684\u7ed3\u679c\u4f1a\u6709\u4e0d\u5c0f\u7684\u5dee\u5f02\u3002\u56e0\u6b64\u8fd8\u662f\u8981\u4ece\u81ea\u5df1\u7814\u7a76\u7684\u7269\u79cd\u7279\u70b9\u89d2\u5ea6\u53bb\u9009\u62e9\u8f6f\u4ef6\uff0c\u6240\u4ee5\u8bf4\u6700\u597d\u5bf9\u4e8e\u8fd9\u7c7b\u5de5\u5177\u7684\u5177\u4f53\u7ec6\u8282\u9700\u8981\u8fdb\u884c\u4e86\u89e3\uff0c\u7279\u522b\u662f\u8f6f\u4ef6\u7684\u53c2\u6570\u3002\u90a3\u4e48\u5bf9\u4e8e\u6587\u6863\u4e0d\u5168\u6216\u8005\u4e0d\u591f\u4e30\u5bcc\u7684\u8f6f\u4ef6\u6765\u8bf4\uff0c\u5c31\u8981\u4ed4\u7ec6\u7814\u8bfb\u5b83\u7684\u6e90\u4ee3\u7801\u6765\u4e86\u89e3\u5176\u5b9e\u73b0\u65b9\u5f0f\uff0c\u8fd9\u4e5f\u5c31\u662f\u5b66\u4e60\u4e00\u4e9bshell\u3001python\u3001perl\u7b49\u8bed\u8a00\u7684\u539f\u56e0\u4e4b\u4e00\u4e86\u3002\n\n\n6. \u53c2\u8003\u8d44\u6599\n\u00b6\n\n\n\n\nJupyter Notebook for Pseudomonas Practical\n\n\nSeeking the source of Pseudomonas aeruginosa infections in a recently opened hospital: an observational study using whole-genome sequencing.\n\n\nVcflib Git Repository\n\n\nFreebayes Git Repository\n\n\nSnippy\n\n\nVCF Document v4.1",
            "title": "10.1 \u94dc\u7eff\u5047\u5355\u80de\u83cc\u4e0d\u540c\u6765\u6e90\u682aSNP\u6eaf\u6e90"
        },
        {
            "location": "/chapter_10/01_trace-Pae-from-different-source-by-SNP/#snp",
            "text": "\u672c\u8282\u5b9e\u8df5  \u5229\u7528\u9ad8\u901a\u91cf\u6d4b\u5e8f\u6280\u672f\u5bf9\u94dc\u7eff\u5047\u5355\u80de\u83cc\u7684\u4e34\u5e8a\u5206\u79bb\u682a\u4e0e\u73af\u5883\u5206\u79bb\u682a\u5728\u57fa\u56e0\u7ec4\u6c34\u5e73\u4e0a\u8fdb\u884cSNP\u5206\u6790\uff0c\u4ece\u800c\u6eaf\u6e90\u83cc\u682a\u5e76\u505a\u8010\u836f\u5206\u6790\u3002   \u5206\u6790\u65b9\u6cd5 \uff1a  \u5229\u7528 bwa \u5c06\u76ee\u6807\u57fa\u56e0\u7ec4 reads \u6bd4\u5bf9\u5230\u53c2\u8003\u57fa\u56e0\u7ec4\uff0c\u7528 freebayes \u505a variant calling\uff0c\u83b7\u5f97\u5404\u4e2a\u6837\u672c\u7684 SNPs\uff0c\u6839\u636e\u7ed3\u679c\u505a\u8fdb\u4e00\u6b65\u5206\u6790\u3002  \u5e94\u7528\u5de5\u5177 :   bwa  samtools  freebayes  vcffilter   \u5206\u6790\u6d41\u7a0b :  \u5b9e\u8df5\u610f\u4e49 \uff1a  \u53ef\u4ee5\u4f5c\u4e3a\u4eca\u540e\u5b9e\u9a8c\u5ba4\u5f00\u5c55\u75c5\u539f\u83cc\u6eaf\u6e90\u5de5\u4f5c\u7684\u4e00\u4e2a\u6280\u672f\u6307\u5bfc\u4f9d\u636e\u3002",
            "title": "\u94dc\u7eff\u5047\u5355\u80de\u83cc\u4e34\u5e8a\u682a\u4e0e\u73af\u5883\u682aSNP\u6eaf\u6e90"
        },
        {
            "location": "/chapter_10/01_trace-Pae-from-different-source-by-SNP/#1",
            "text": "\u5de5\u4f5c\u6d41\u7a0b\u5c06\u4ece\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\u5bf9\u4e8e\u8fd9\u4e2a\u6848\u4f8b\u5f00\u5c55\u6570\u636e\u5206\u6790\uff1a   \u6d4b\u5e8f\u8d28\u91cf\uff1areads\u7684\u957f\u5ea6\uff0c\u63d2\u5165\u7247\u6bb5\u7684\u957f\u5ea6  \u5c06\u6d4b\u5e8f\u6570\u636e\u6bd4\u5bf9\u5230\u53c2\u8003\u57fa\u56e0\u7ec4ST17\uff1a  \u6bcf\u4e2a\u6837\u54c1reads\u7684\u5206\u5e03\u60c5\u51b5  \u6bcf\u4e2a\u6837\u54c1\u7684\u57fa\u56e0\u7ec4\u6d4b\u5e8f\u8986\u76d6\u5ea6  \u4e0d\u540c\u6837\u54c1\u4e4b\u95f4\u7684\u5dee\u5f02\uff0c\u7279\u522b\u662f\u5f53\u8bbe\u7f6e\u4e0d\u540c\u7684\u8fc7\u6ee4\u53c2\u6570\u65f6\u7684\u60c5\u51b5\uff1a  Quality filter: QUAL > 100  Likelihood filter: QUAL / AO > 10  Variant frequency filter: AO / DP > 0.9 (90% allele frequency)    \u54ea\u4e00\u4e2a\u6c34\u9f99\u5934\u6c34\u6837\u7684\u5206\u79bb\u682a\u6700\u6709\u53ef\u80fd\u662f\u611f\u67d3\u6e90\u3002(\u65b9\u6cd5: \u7528 vcfsamplediff \u6bd4\u8f83\u73af\u5883\u682a\u4e0e\u4e34\u5e8a\u682aSNPs\u6570\u91cf)  2\u4e2a\u75c5\u4eba\u5206\u79bb\u682a\u4e4b\u95f4\u4f7f\u7528\u4e86\u5927\u91cf\u7684\u6297\u751f\u7d20\u6cbb\u7597\uff0c\u54ea\u4e00\u4e2a\u83b7\u5f97\u3001\u5f97\u4e86\u8010\u836f\u6027\uff1f  \u7528 joint calling \u6765\u6bd4\u8f832\u4e2a\u4e34\u5e8a\u6837\u54c1\u6570\u636e\uff0c\u5e76\u7528 vcfsamplediff \u5206\u6790  \u5bf9\u4e8e\u83b7\u5f97\u7684\u5927\u91cfSNPs\uff0c\u662f\u5426\u9700\u8981\u8fc7\u6ee4\u4ee5\u53ca\u5982\u4f55\u8fc7\u6ee4  \u4e86\u89e3SNPs\u7684\u5206\u5e03\u89c4\u5f8b  \u91cd\u70b9\u67e5\u770bSNPs",
            "title": "1. \u63d0\u51fa\u95ee\u9898"
        },
        {
            "location": "/chapter_10/01_trace-Pae-from-different-source-by-SNP/#2",
            "text": "",
            "title": "2. \u5206\u6790\u6d41\u7a0b"
        },
        {
            "location": "/chapter_10/01_trace-Pae-from-different-source-by-SNP/#21",
            "text": "\u6570\u636e\u53ef\u4ee5\u4ece \u8fd9\u91cc \u4e0b\u8f7d\u83b7\u5f97\uff0c\u53ef\u4ee5\u7528 wget -m \u9012\u5f52\u4e0b\u8f7d\u8def\u5f84\u4e0b\u6240\u6709\u6587\u4ef6\u3002\u6587\u4ef6\u5305\u62ec\uff1a   TAP1 - \u75c5\u623f1\u53f7\u6c34\u9f99\u5934\u6c34\u6837\u4e2d\u5206\u79bb\u7684\u83cc\u682a  TAP2 - \u75c5\u623f2\u53f7\u6c34\u9f99\u5934\u6c34\u6837\u4e2d\u5206\u79bb\u7684\u83cc\u682a  TAP3 - \u75c5\u623f3\u53f7\u6c34\u9f99\u5934\u6c34\u6837\u4e2d\u5206\u79bb\u7684\u83cc\u682a  PATIENT1 - \u670d\u7528\u6297\u751f\u7d20\u540e\u7684\u75c5\u4eba\u5206\u79bb\u682a  PATIENT2 - \u4e00\u5468\u5185\u8fdb\u4e00\u6b65\u670d\u7528\u6297\u751f\u7d20\u7684\u75c5\u4eba\u5206\u79bb\u682a   # \u65b0\u5efa\u4e00\u4e2a\u76ee\u5f55\uff0c\u6570\u636e\u548c\u64cd\u4f5c\u5747\u5728\u91cc\u9762\u8fdb\u884c \n$ mkdir pae-case  &&   cd  pae-case # \u4e0b\u8f7d\u6570\u636e\u6587\u4ef6 \n$ wget -m http://www.microbesng.uk/filedist/pseudomonas-practical/\n$ mv www.microbesng.uk/filedist/pseudomonas-practical/* .",
            "title": "2.1 \u4e0b\u8f7d\u6570\u636e"
        },
        {
            "location": "/chapter_10/01_trace-Pae-from-different-source-by-SNP/#22-st17",
            "text": "\u8f6f\u4ef6\u4f7f\u7528 bwa \u6765\u5bf9\u53c2\u8003\u57fa\u56e0\u7ec4ST17\u5efa\u7acb\u7d22\u5f15\uff0c\u4ee5\u4fbf\u540e\u7eed\u6bd4\u5bf9\u3002  $ bwa index ST17.fasta",
            "title": "2.2 \u5efa\u7acb ST17 \u578b\u53c2\u8003\u83cc\u682a\u7d22\u5f15"
        },
        {
            "location": "/chapter_10/01_trace-Pae-from-different-source-by-SNP/#23-reads-st17",
            "text": "\u7528 bwa mem \u8fdb\u884c\u6bd4\u5bf9\uff0c\u8f93\u51fa\u7684\u7ed3\u679c\u901a\u8fc7\u7ba1\u9053\u7531samtools\u8f6c\u6362\u6210BAM\u6587\u4ef6\u5e76\u8fdb\u884c\u6392\u5e8f\u548c\u7d22\u5f15  $ bwa mem -t  4  -R  '@RG\\tID:TAP1\\tSM:TAP1'  ST17.fasta  \\ \n> TAP1_R1_paired.fastq.gz TAP1_R2_paired.fastq.gz  |   \\ \n> samtools view -bS -  |  samtools sort - TAP1.sorted\n$ samtools index TAP1.sorted.bam   \u53c2\u6570\u4ecb\u7ecd   -t 4: \u8868\u793a\u4f7f\u75284\u7ebf\u7a0b\uff0c\u6839\u636e\u81ea\u5df1\u7684\u8ba1\u7b97\u673aCPU\u8d44\u6e90\u8bbe\u7f6e\u3002  -R '...': \u8bbe\u7f6ereads\u7684ID\uff0c\\t\u4e3a\u5236\u8868\u7b26\u4f1a\u8f6c\u4e49\u6210tab\u952e\u3002    \u5bf9\u5176\u4ed62\u682a\u73af\u5883\u682a\u548c2\u682a\u4e34\u5e8a\u682a\u91cd\u590d\u4ee5\u4e0a\u6b65\u9aa4\u3002",
            "title": "2.3 \u5c06\u6d4b\u5e8f reads \u6bd4\u5bf9\u5230 ST17 \u5e76\u6392\u5e8f\u7d22\u5f15"
        },
        {
            "location": "/chapter_10/01_trace-Pae-from-different-source-by-SNP/#24-reads",
            "text": "bam\u6587\u4ef6\u542b\u6709\u6bd4\u5bf9\u7684\u4fe1\u606f\uff0c\u53ef\u4ee5\u7528 stats \u53c2\u6570\u67e5\u770b  $ samtools stats TAP1.sorted.bam  |  grep  \"maximum length\" \n$ samtools stats TAP1.sorted.bam  |  grep  \"insert size\" \n$ samtools stats TAP1.sorted.bam  |  grep  \"^COV\"  > TAP1.coverage.txt  \u5c06\u622a\u53d6\u7684\u8986\u76d6\u5ea6\u76f8\u5173\u4fe1\u606f\u4fdd\u5b58\u6210 .txt \u6587\u4ef6\uff0c\u5728R\u91cc\u7528ggplot2\u7ed8\u5236\u8986\u76d6\u5ea6\u56fe\uff1a  >   library ( ggplot2 )  >  cov = read.table ( \"TAP1.coverage.txt\" ,  sep = \"\\t\" )  >  cov [ 1 ,]  >  ggplot ( cov ,  aes ( x = V3 ,  y = V4 ))   +  geom_bar ( stat = \"identity\" )   +  xlab ( \"Coverage\" )   +  ylab ( \"Count\" )",
            "title": "2.4 \u7ed8\u5236\u6d4b\u5e8f reads \u7684\u8986\u76d6\u5ea6"
        },
        {
            "location": "/chapter_10/01_trace-Pae-from-different-source-by-SNP/#25-1snps",
            "text": "\u7528\u540c\u6837\u7684\u65b9\u6cd5\u5bf9\u5176\u4ed6\u51e0\u4e2a\u6837\u672c\u8fdb\u884c\u64cd\u4f5c\uff0c\u83b7\u5f97sorted\u7684bam\u683c\u5f0f\u6587\u4ef6\uff0c\u7528 freebayes \u5bf9\u4e34\u5e8a\u4e0e\u73af\u5883\u682a\u6bd4\u8f83\u83b7\u5f97vcf\u6587\u4ef6\u3002\u7136\u540e\u7528vcflib\u5de5\u5177\u8fc7\u6ee4 QUAL/AO>10 \u7684\u90e8\u5206(VCF\u5143\u6570\u636e\u90e8\u5206\u53ef\u4ee5\u53c2\u8003 \u6587\u6863 )\uff0c\u5e76\u7528 wc-l \u8ba1\u7b97\u884c\u6570\u7edf\u8ba1\u7ed3\u679c\u3002  $ freebayes -p  1  -C  5  -f ST17.fasta TAP1.sorted.bam PATIENT1.sorted.bam  > compare_tap1.vcf\n$ vcffilter -f  \"QUAL / AO > 10\"  compare_tap1.vcf  |  vcffilter -f  \"NS = 2\"   |  wc -l 6685   \u83b7\u5f97\u4e34\u5e8a\u682a\u4e0e\u73af\u5883\u682a\u4e4b\u95f4\u7684SNP\u5dee\u5f02\u6570\u91cf\uff0c\u7ed3\u679c\u8868\u660e\u8fd92\u682a\u4e4b\u95f4\u53ea\u67095\u4e2aSNPs\u3002  $ vcfsamplediff SAME TAP1 PATIENT1 compare_tap1.vcf  |  vcffilter -f  \"QUAL / AO > 10\"   |  vcffilter -f  \"NS = 2\"   |  vcffilter -f  \"! ( SAME = germline ) \"   |  grep -v  \"^#\"   |  wc -l 5   \u7528 vcfsamplediff \u4e86\u89e3SNPs\u5dee\u5f02\u7684\u57fa\u56e0\uff0c\u53ef\u4ee5\u77e5\u9053\u662f\u90a3\u4e9bgene/CDS\u91cc\u9762\u53d1\u751f\u4e86\u53d8\u5316\uff0c\u8fd8\u53ef\u4ee5\u6839\u636e\u5b9a\u4f4d\u770b\u7a81\u53d8\u662f\u5426\u662f\u540c\u4e49\u7a81\u53d8\u3002\u5982\u679csnps\u6570\u91cf\u63a5\u8fd1\u65e0\u6cd5\u533a\u5206\uff0c\u4f46\u662f\u5b9a\u4f4d\u7684\u57fa\u56e0\u6709\u5dee\u5f02\uff0c\u90a3\u4e48\u83cc\u682a\u7684\u6eaf\u6e90\u8fd8\u9700\u8981\u8fdb\u4e00\u6b65\u8003\u8651\u3002  $ vcfsamplediff SAME PATIENT1 TAP1 compare_tap1.vcf   |  vcffilter -f  \"QUAL / AO > 10\"   |  vcffilter -f  \"NS = 2\"   |  vcffilter -f  \"! ( SAME = germline ) \"  > tap_differences.vcf\n$ bedtools intersect -a ST17.gff -b tap_differences.vcf  |  awk -F \";\"   '{print NR, $2}'   OFS = \"\\t\"   \u7ed3\u679c\u8f93\u51fa\uff1a  1     gene = yfiR 2     inference = ab initio prediction:Prodigal:2.60,similar to AA sequence:RefSeq:YP_261793.1,protein motif:TIGRFAMs:TIGR03756,protein motif:Pfam:PF06834.5 3     inference = ab initio prediction:Prodigal:2.60,similar to AA sequence:RefSeq:YP_261793.1,protein motif:TIGRFAMs:TIGR03756,protein motif:Pfam:PF06834.5 4     gene = trbL 5     inference = ab initio prediction:Prodigal:2.60,similar to AA sequence:RefSeq:YP_001349879.1,protein motif:Cdd:COG3481,protein motif:TIGRFAMs:TIGR03760,protein motif:Pfam:PF07514.5",
            "title": "2.5 \u6bd4\u8f831\u53f7\u4e34\u5e8a\u682a\u4e0e\u73af\u5883\u682a\u7684SNPs\u5dee\u5f02"
        },
        {
            "location": "/chapter_10/01_trace-Pae-from-different-source-by-SNP/#26-2",
            "text": "\u4e86\u89e32\u4e2a\u4e34\u5e8a\u682a\u7684SNPs\u5dee\u5f02\uff0c\u5e76\u67e5\u770b\u8fd9\u4e9bSNPs\u6240\u5f71\u54cd\u7684gene  $ freebayes --ploidy  1  -C  5  -f ST17.fasta PATIENT1.sorted.bam PATIENT2.sorted.bam > compare_patient.vcf\n~$ vcfsamplediff SAME PATIENT1 TAP1 compare_patient.vcf   |  vcffilter -f  \"QUAL / AO > 10\"   |  vcffilter -f  \"NS = 2\"   |  vcffilter -f  \"! ( SAME = germline ) \"  > patient_differences.vcf\n$ bedtools intersect -a ST17.gff -b patient_differences.vcf  |  awk -F \";\"   '{print $2}'",
            "title": "2.6 2\u4e2a\u4e34\u5e8a\u682a\u7684\u8010\u836f\u53d8\u8fc1"
        },
        {
            "location": "/chapter_10/01_trace-Pae-from-different-source-by-SNP/#3-snippy",
            "text": "\u5927\u91cf\u7684\u65e5\u5e38\u5de5\u4f5c\u6216\u8005\u4e0d\u719f\u6089\u5404\u79cd\u547d\u4ee4\u884c\u5de5\u5177\u4f7f\u7528\u7684\u8bdd\uff0c\u5c31\u9700\u8981\u66f4\u7b80\u4fbf\u7684\u8f6f\u4ef6\u6216\u8005pipelines\u6765\u5e2e\u52a9\u5b8c\u6210\u6574\u4e2a\u5206\u6790\u5de5\u4f5c\u3002\u56e0\u6b64\u8fd9\u91cc\u6211\u4eec\u4f7f\u7528 snippy \u6765\u5b9e\u73b0\u5206\u6790SNPs\uff0c\u5e76\u7ed8\u5236\u57fa\u4e8esnps\u7684\u8fdb\u5316\u6811\u3002",
            "title": "3. \u7528 Snippy \u6765\u5b9e\u73b0"
        },
        {
            "location": "/chapter_10/01_trace-Pae-from-different-source-by-SNP/#31-snippy",
            "text": "Snippy\u662f\u6bd4\u8f83\u9002\u5408\u65b0\u624b\u7684\u5de5\u5177\uff0c\u5b83\u63d0\u4f9b\u4e86All in One\u7684\u5de5\u5177\u5957\u88c5\u3002\u867d\u7136Snippy\u9700\u8981\u4ee5\u4e0b\u8f6f\u4ef6\u652f\u6301\uff1a   Perl >= 5.6  BioPerl >= 1.6  bwa mem >= 0.7.12  samtools >= 1.1  GNU parallel > 2013xxxx  freebayes >= 0.9.20  freebayes sripts ( freebayes-parallel,fasta_generate_regions.py)  vcflib (vcffilter, vcfstreamsort, vcfuniq, vcffirstheader)  vcftools (vcf-consensus)  snpEff >= 4.1   \u4f46\u8fd9\u4e9b\u5de5\u5177\u5728Snippy\u5b89\u88c5\u5305\u91cc\u90fd\u5df2\u7ecf\u63d0\u4f9b\u4e86\uff0c\u6211\u4eec\u53ea\u9700\u8981\u6839\u636e\u81ea\u5df1\u7684\u7cfb\u7edf\u8bbe\u7f6e\u5c06\u4ee5\u6765\u5de5\u5177\u6dfb\u52a0\u5230\u7cfb\u7edf\u8def\u5f84\u4e2d\u53bb\u5373\u53ef\u3002\u5bf9\u4e8eperl\u7684\u4e00\u4e9b\u6a21\u5757\uff0c\u53ef\u80fd\u9700\u8981\u66f4\u65b0\u540e\u624d\u80fd\u6b63\u5e38\u4f7f\u7528\uff1a sudo cpan -u module_name  $ wget https://github.com/tseemann/snippy/archive/v2.9.tar.gz\n$ tar xzf v2.9.tar.gz -C ~/app\n$  echo   \"export PATH= $PATH : $HOME /app/snippy-2.9/bin: $HOME /app/snippy-2.9/binaries/linux/\"  >> /.bashrc\n$  source  ~/.bashrc # update all perl module \n$ sudo cpan -u",
            "title": "3.1 \u5b89\u88c5 Snippy"
        },
        {
            "location": "/chapter_10/01_trace-Pae-from-different-source-by-SNP/#32-snippy",
            "text": "Snippy \u4e0d\u4ec5\u53ef\u4ee5\u83b7\u5f97SNP(\u5305\u62ecMultiSNP)\uff0c\u4e5f\u53ef\u4ee5\u83b7\u5f97insertion, indeletion\u4ee5\u53caComibination\u3002\u6587\u672c\u683c\u5f0f\u7684\u7ed3\u679c\u8bb0\u5f55\u6587\u4ef6\u4e2d\u7684snps.tab\u4e2d\uff0c\u4e5f\u53ef\u4ee5\u7528\u6d4f\u89c8\u5668\u6253\u5f00snps.html\u67e5\u770b\u3002  $ snippy --cpus  4  --outdir output1 --ref ST17.fasta  \\ \n> --R1 TAP1_R1_paired.fastq.gz --R2 TAP1_R2_paired.fastq.gz\n$ head output/snps.tab # snps.txt\u5bf9\u5404\u79cd\u7a81\u53d8\u4f4d\u70b9\u505a\u4e00\u4e2a\u6570\u636e\u7edf\u8ba1 \n$ cat output1/snps.txt\n...\nSoftware    snippy  2 .9\nVariant-COMPLEX  1124 \nVariant-DEL      27 \nVariant-INS      43 \nVariant-MNP      222 \nVariant-SNP      3351 \nVariantTotal     4767  # \u8ba1\u7b97\u4e0d\u540c  # \u4e86\u89e3\u4e0d\u540c\u78b1\u57fa\u7684SNP\u53d8\u5316\u6570\u91cf\uff0c\u5982T->C\u7684SNP\u6570\u91cf \n$ awk  '$10==\"T=>C\" {n++} END{print n}'  output1/snps.gff  Snippy\u8fd8\u53ef\u4ee5\u751f\u6210\u591a\u4e2a\u57fa\u56e0\u7ec4\u7684\u5171\u6709SNPs\u7684\u6bd4\u5bf9\u6587\u4ef6\u3002\u7528snippy\u5206\u522b\u751f\u62103\u4e2aTAP\u7684snp\u5217\u8868\u6570\u636e\u5230ouput*\u76ee\u5f55\u4e2d\uff0c\u7136\u540e\u7edf\u8ba1\u5171\u6709snps\u6570\u91cf\u5e76\u751f\u6210snp\u5e8f\u5217\u6587\u4ef6aln\u3002  # for old ubuntu system you need update outdated perl module List::Util \n$ sudo cpan -u List::Util\n$ snippy-core --prefix core output1 output2 output3\n...\nFound  30711  core SNPs from  42075  variant sites.\nSaved SNP table: core.tab\nConstructing alignment object  for  core.aln\n...  \u5982\u679c\u8981\u7528raxml\u6784\u5efa\u8fdb\u5316\u6811\uff0c\u90a3\u83b7\u5f97\u7684.aln\u6587\u4ef6\u8fd8\u9700\u8981\u8f6c\u6362\u6210.phy\u624d\u53ef\u4ee5\u4f7f\u7528\u3002\u5f88\u591a\u5de5\u5177\u53ef\u4ee5\u5b9e\u73b0\u8f6c\u6362\uff0c\u8fd9\u91cc\u4f7f\u7528\u7f51\u7edc\u670d\u52a1\u6765\u5b9e\u73b0\uff1a http://sing.ei.uvigo.es/ALTER/  # RAxML \u6784\u5efa\u8fdb\u5316\u6811 \n$ raxmlHPC -f a -x  12345  -p  12345  -#  100  -m GTRGAMMA -s core.phy -n pae -T  40 \n$ figtree RAxML_bestTree.pae  \u751f\u6210\u7684\u8fdb\u5316\u6811\u56fe\u7c7b\u4f3c\u4e0b\u56fe    \u56e0\u4e3a\u6bd4\u5bf9\u7684\u662ffasta\u683c\u5f0f\u7684\u6587\u4ef6\uff0c\u6240\u4ee5snps\u4e0d\u6b62\u662f\u7f16\u7801\u533aCDS\u7684\uff0c\u800c\u662f\u6574\u4e2a\u57fa\u56e0\u7ec4\u4e0a\u7684snps\u3002",
            "title": "3.2 \u4f7f\u7528 Snippy"
        },
        {
            "location": "/chapter_10/01_trace-Pae-from-different-source-by-SNP/#4-workflow",
            "text": "\u5bf9\u4e8e\u6211\u4eec\u5b9e\u9a8c\u5ba4\u5e73\u65f6\u4f1a\u6709\u8bb8\u591a\u7c7b\u4f3c\u7684SNP\u9274\u5b9a\u5de5\u4f5c\uff0c\u90a3\u4e48\u4e0b\u673a\u6570\u636e\u8981\u4e00\u4e2a\u4e2a\u64cd\u4f5c\u4f1a\u5f88\u7e41\u7410\uff0c\u6709\u65f6\u5019\u6211\u4eec\u901a\u8fc7 unix \u7684 pipeline \u6765\u7b80\u5316\u6216\u8005\u5199 pipeline \u811a\u672c\u6765\u5b9e\u73b0\u3002\u800c\u53e6\u4e00\u79cd\u89e3\u51b3\u65b9\u5f0f\u662f\u901a\u8fc7 Workflow \u5de5\u5177\u6765\u81ea\u52a8\u5316\u6570\u636e\u5206\u6790\u3002\u4e13\u95e8\u7684 Workflow \u8f6f\u4ef6\u6709\u8bb8\u591a\uff0c\u6709\u4e9b\u5e26GUI\uff08\u5982 galaxy \u5c31\u53ef\u4ee5\u5efa\u7acb\u56fe\u5f62\u5316\u7684 workflow\uff09\uff0c\u6709\u4e9b\u57fa\u4e8eCML\u3002\u5bf9\u4e8e\u5728\u670d\u52a1\u5668\u4e0a\u7684\u751f\u7269\u4fe1\u606f\u5b66\u5206\u6790\uff0c\u6211\u4eec\u4e00\u822c\u90fd\u662f\u4e22\u7ed9\u547d\u4ee4\u884c\u6765\u5b9e\u73b0\u3002Workflow \u56e0\u6b64\uff0c\u8fd9\u91cc\u4f7f\u7528\u57fa\u4e8e python \u7684 ruffus \u6765\u5efa\u7acb workflow\uff0c\u4f5c\u4e3a\u4e00\u4e2a\u793a\u4f8b\u6f14\u793a\u5982\u4f55\u7b80\u5316\u5e73\u65f6\u5927\u91cf\u91cd\u590d\u7684\u5de5\u4f5c\u3002  \u5982\u679c\u60f3\u4e86\u89e3\u66f4\u591a\u5173\u4e8e workflow/pipeline \u7684\u8f6f\u4ef6\uff0c\u53ef\u4ee5\u67e5\u770b\u4ee5\u4e0b\u7f51\u7ad9\uff1a\n -  common-workflow \n -  awesome-pipeline",
            "title": "4. \u7528 Workflow \u811a\u672c\u6765\u7b80\u5316\u64cd\u4f5c"
        },
        {
            "location": "/chapter_10/01_trace-Pae-from-different-source-by-SNP/#41",
            "text": "undone",
            "title": "4.1 \u51c6\u5907\u6570\u636e"
        },
        {
            "location": "/chapter_10/01_trace-Pae-from-different-source-by-SNP/#5-reference",
            "text": "\u5728\u505a\u5fae\u751f\u7269SNP calling\u65f6\uff0c\u9009\u62e9\u4e0d\u540creference\u5bf9\u7ed3\u679c\u662f\u5426\u4f1a\u6709\u5f71\u54cd\uff1f\u4f1a\u6709\u591a\u5927\u5f71\u54cd\uff1f\u8fd9\u662f\u5177\u4f53\u5206\u6790\u65f6\u9700\u8981\u8003\u8651\u7684\u95ee\u9898\u3002\u6709\u4e00\u4e9b \u6587\u7ae0 \u8fdb\u884c\u4e86\u8ba8\u8bba\u3002\u5bf9\u4e8e\u6211\u4eec\u5b9e\u9a8c\u5ba4\u5f00\u5c55\u75c5\u539f\u5fae\u751f\u7269\u6eaf\u6e90\u65f6\uff0c\u7531\u4e8e\u83cc\u682a\u4e00\u822c\u662f\u9ad8\u5ea6\u8fd1\u6e90\u7684\uff0c\u6240\u4ee5\u5f71\u54cd\u4e0d\u5927\u3002\u5bf9\u4e8e\u505a\u8fdb\u5316\u5173\u7cfb\u5206\u6790\u7684\uff0c\u8fd8\u662f\u9700\u8981\u8003\u8651snp\u7684\u5047\u9633\u6027\u95ee\u9898\uff0c\u901a\u5e38\u662f\u8981\u5bf9snp\u505a filtering\u3002\u800c\u4e14\u5bf9\u4e8e\u4e0d\u540c\u7269\u79cd\u8003\u8651\u5176\u4ed6\u7684\u7a81\u53d8\u4e8b\u4ef6\u4e0e\u91cd\u7ec4\u5728\u8fdb\u5316\u4e0a\u7684\u5f71\u54cd\u3002  \u53e6\u4e00\u65b9\u9762\u4e0d\u540c\u8f6f\u4ef6\u7684\u6d41\u7a0b\u4e0e\u53c2\u6570\u4e0d\u540c\uff0c\u5bf9\u4e8e\u4e0d\u719f\u6089\u751f\u7269\u4fe1\u606f\u5b66\u7684\u751f\u7269\u5b66\u5bb6\u5f53\u4f7f\u7528 All in One \u4e4b\u7c7b\u7684\u5957\u4ef6\u5de5\u5177\u5206\u6790\u65f6\uff0c\u53ef\u80fd\u4f1a\u53d1\u73b0\u4e0d\u540c\u8f6f\u4ef6\u7684\u7ed3\u679c\u4f1a\u6709\u4e0d\u5c0f\u7684\u5dee\u5f02\u3002\u56e0\u6b64\u8fd8\u662f\u8981\u4ece\u81ea\u5df1\u7814\u7a76\u7684\u7269\u79cd\u7279\u70b9\u89d2\u5ea6\u53bb\u9009\u62e9\u8f6f\u4ef6\uff0c\u6240\u4ee5\u8bf4\u6700\u597d\u5bf9\u4e8e\u8fd9\u7c7b\u5de5\u5177\u7684\u5177\u4f53\u7ec6\u8282\u9700\u8981\u8fdb\u884c\u4e86\u89e3\uff0c\u7279\u522b\u662f\u8f6f\u4ef6\u7684\u53c2\u6570\u3002\u90a3\u4e48\u5bf9\u4e8e\u6587\u6863\u4e0d\u5168\u6216\u8005\u4e0d\u591f\u4e30\u5bcc\u7684\u8f6f\u4ef6\u6765\u8bf4\uff0c\u5c31\u8981\u4ed4\u7ec6\u7814\u8bfb\u5b83\u7684\u6e90\u4ee3\u7801\u6765\u4e86\u89e3\u5176\u5b9e\u73b0\u65b9\u5f0f\uff0c\u8fd9\u4e5f\u5c31\u662f\u5b66\u4e60\u4e00\u4e9bshell\u3001python\u3001perl\u7b49\u8bed\u8a00\u7684\u539f\u56e0\u4e4b\u4e00\u4e86\u3002",
            "title": "5. \u5982\u4f55\u9009\u62e9 Reference"
        },
        {
            "location": "/chapter_10/01_trace-Pae-from-different-source-by-SNP/#6",
            "text": "Jupyter Notebook for Pseudomonas Practical  Seeking the source of Pseudomonas aeruginosa infections in a recently opened hospital: an observational study using whole-genome sequencing.  Vcflib Git Repository  Freebayes Git Repository  Snippy  VCF Document v4.1",
            "title": "6. \u53c2\u8003\u8d44\u6599"
        },
        {
            "location": "/chapter_10/02_comparative-analysis-Ban-genomes/",
            "text": "\u70ad\u75bd\u82bd\u80de\u6746\u83cc\u57fa\u56e0\u7ec4 SNPs \u5206\u6790\n\u00b6\n\n\n\n\n\u80cc\u666f\u7b80\u4ecb\n\n\n\u505a\u4e3a\u75be\u63a7\u4e2d\u5fc3\u7684\u5b9e\u9a8c\u5ba4\uff0c\u5bf9\u751f\u7269\u6050\u6016\u4e8b\u4ef6\u7684\u9632\u63a7\u548c\u5e94\u5bf9\u5904\u7f6e\u80fd\u529b\u662f\u5e94\u6025\u5de5\u4f5c\u80fd\u529b\u7684\u91cd\u8981\u7ec4\u6210\u4e4b\u4e00\u3002\u800c\u7ec6\u83cc\u6027\u751f\u7269\u6050\u6016\u6218\u5242\u4e2d\u6700\u8457\u540d\u7684\u5c31\u662f\u542b\u6709\u70ad\u75bd\u82bd\u80de\u6746\u83cc\u7684\u767d\u8272\u7c89\u672b\u3002\u505a\u4e3a\u57fa\u5c42\u5b9e\u9a8c\u5ba4\uff0c\u56e0\u4e3a\u5728\u65e5\u5e38\u5de5\u4f5c\u4e2d\u63a5\u89e6\u5230\u8fd9\u4e9b\u6837\u54c1\u548c\u75c5\u539f\u7684\u673a\u4f1a\u5fae\u4e4e\u5176\u5fae\uff0c\u6240\u4ee5\u7ecf\u9a8c\u548c\u6280\u80fd\u65b9\u9762\u8f83\u4e3a\u7f3a\u4e4f\u3002\u901a\u8fc7\u5e73\u65f6\u52a0\u5f3a\u76f8\u5173\u9879\u76ee\u7684\u5e94\u6025\u6f14\u7ec3\u5916\uff0c\u5b9e\u9a8c\u5ba4\u5feb\u901f\u5206\u6790\u548c\u6eaf\u6e90\u5de5\u4f5c\u9700\u8981\u505a\u597d\u80fd\u529b\u50a8\u5907\uff0c\u56e0\u6b64\u5b9e\u9a8c\u5ba4\u5bf9\u70ad\u75bd\u82bd\u80de\u6746\u83cc\u7684\u57fa\u56e0\u7ec4\u6570\u636e\u8fdb\u884c\u4e86\u57fa\u672c\u5206\u6790\uff0c\u5bf9\u76f8\u5173\u8d44\u6599\u548c\u4fe1\u606f\u8fdb\u884c\u4e86\u50a8\u5907\u3002\n\n\n\n\n\u672c\u8282\u4e3b\u8981\u901a\u8fc7\u6784\u5efa\u76f8\u5e94\u7684\u5206\u6790\u6d41\u7a0b\uff0c\u83b7\u5f97\u70ad\u75bd\u82bd\u80de\u6746\u83cc\u83cc\u682a\u57fa\u56e0\u7ec4\u6570\u636e\uff0c\u53ef\u4ee5\u7b2c\u4e00\u65f6\u95f4\u5c31\u8fdb\u884c\u6eaf\u6e90\u65b9\u9762\u7684\u7814\u7a76\u3002\u5c06\u8fd9\u4e2a\u5de5\u4f5c\u7684\u8fc7\u7a0b\u5efa\u7acb\u6587\u6863\u4fdd\u5b58\u3002\u5206\u6790\u6d41\u7a0b\u7c97\u7565\u7b80\u5355\uff0c\u4e3b\u8981\u76ee\u7684\u4e5f\u662f\u4e3a\u5b9e\u9a8c\u5ba4\u5185\u90e8\u6559\u5b66\uff0c\u5e0c\u671b\u80fd\u505a\u5230\u4e3e\u4e00\u53cd\u4e09\uff0c\u7ed9\u5176\u4ed6\u7ec6\u83cc\u6027\u75c5\u539f\u5fae\u751f\u7269\u57fa\u56e0\u7ec4\u6eaf\u6e90\u5206\u6790\u7814\u7a76\u63d0\u4f9b\u5e2e\u52a9\u3002\n\n\n\u8f6f\u4ef6\u4e2d\u4f7f\u7528\u7684\u4e00\u4e9b\u53c2\u6570\u662f\u6839\u636e\u81ea\u5df1\u7684\u670d\u52a1\u5668\u8bbe\u7f6e\u7684\uff0c\u5177\u4f53\u8fd0\u884c\u65f6\u9700\u8981\u6839\u636e\u8ba1\u7b97\u673a\u914d\u7f6e\u8fdb\u884c\u76f8\u5e94\u7684\u8c03\u6574\u3002\n\n\n\n\n\u670d\u52a1\u5668\u914d\u7f6e\n\n\n\n\nCPU: E3 2650v3 x2\n\n\nMemory: ECC 16G x8\n\n\nHarddisk: 7200\u8f6c 1T x4 \u7ec4 Raid 5 + 1 Hotspare\n\n\nSystem: Ubuntu 16.04 LTS 64bit\n\n\n\n\n\n\n1. \u83b7\u53d6\u516c\u5171\u6570\u636e\u5e93\u6570\u636e\n\u00b6\n\n\n\u6570\u636e\u91c7\u7528 NCBI SRA \u6570\u636e\u5e93\u4e2d\u7684\u516c\u5171\u6570\u636e\u6765\u4f5c\u5206\u6790\u3002\u9996\u5148\u68c0\u7d22 NCBI SRA \u6570\u636e\u5e93\u4e2d\u6240\u6709\u4f7f\u7528 illumina \u5e73\u53f0\u5bf9\u70ad\u75bd\u82bd\u80de\u6746\u83cc\u57fa\u56e0\u7ec4\u8fdb\u884c PE \u6d4b\u5e8f\u7684 \u5927\u4e8e 100M \u7684 NGS \u6570\u636e\uff0c\u5e76\u5728\u4e0b\u8f7d\u8fd9\u4e9b sra \u6570\u636e\u540e\u8f6c\u6362\u6210 fastq.gz \u683c\u5f0f\u3002\u4f7f\u7528\u7684\u5de5\u5177\u4e3b\u8981\u4e3a \nedirect\n \u548c \nsra-tools\n\u3002\n\n\n1.1 \u4e0b\u8f7d sra\n\u00b6\n\n\n# \u4e0b\u8f7d\u70ad\u75bd\u82bd\u80de\u6746\u83cc SRA \u53cc\u672b\u7aef\u6d4b\u5e8f\u6570\u636e\n\n$ esearch -db sra -query \n'\"Bacillus anthracis\"[Organism] AND \\\n\n\n> (Hiseq[ALL] OR Miseq[ALL]) AND \"strategy wgs\"[Properties] AND paired[ALL]'\n \n|\n \n\\\n\n> efetch -db sra -format runinfo \n|\n grep \n'^[DSE]RR*'\n \n|\n \n\\\n\n> awk -F\n','\n \n'{if($5>100000000) print $1}'\n \n|\n sort -n \n|\n \n\\\n\n> xargs fastq-dump --split-files --gzip --outdir bacillus_anthracis\n\n\n\n\n\u4e0a\u9762\u7684\u547d\u4ee4\u4f1a\u76f4\u63a5\u8c03\u7528 \nfastq-dump\n \u4e0b\u8f7d\u6570\u636e\u5230 \n--outdir\n \u4e2d\u3002\u867d\u7136\u6211\u4eec\u7528\u4e86 \ngrep PAIRED\n \u6765\u533a\u5206\u4e0d\u540c\u7684\u6d4b\u5e8f\u65b9\u5f0f\uff0c\u4f46\u662f\u7531\u4e8e\u4fe1\u606f\u662f\u63d0\u4ea4\u8005\u4e0a\u4f20\u7684\uff0c\u53ef\u80fd\u4fe1\u606f\u4e0d\u4e00\u5b9a\u662f\u6b63\u786e\u7684\u3002\u7531\u4e8e\u540e\u9762\u7684\u6d41\u7a0b\u4e2d\u7275\u6d89\u5230\u7ec4\u88c5\u548c\u6bd4\u5bf9\u7b49\u64cd\u4f5c\uff0cPE/SE\u7684\u65b9\u5f0f\u4f1a\u6709\u533a\u522b\uff0c\u6700\u597d\u8fd8\u662f\u8fdb\u884c\u9a8c\u8bc1\u540e\u518d\u4e0b\u8f7d\uff0c\u6216\u8005\u5c06PE/SE\u7684\u6570\u636e\u533a\u5206\u5b58\u653e\u3002\n\n\n# \u5148\u751f\u6210\u6570\u636e\u8bb0\u5f55\n\n$ esearch -db sra -query \n'\"Bacillus anthracis\"[Organism] AND \\\n\n\n> (Hiseq[ALL] OR Miseq[ALL]) AND \"strategy wgs\"[Properties]'\n \n|\n \n\\\n\n> efetch -db sra -format runinfo \n|\n grep \n'PAIRED'\n \n|\n grep \n'^[DSE]RR*'\n \n|\n \n\\\n\n> awk -F\n','\n \n'{if($5>100000000) print $1}'\n \n|\n sort -n > ban-sra.txt\n\n\n# \u4e0b\u8f7d sra\n\n$ cat ban-sra.txt \n|\n xargs prefetch\n\n\n\n\n\u8fd9\u6837\u4f1a\u4e0b\u8f7d sra \u6587\u4ef6\u5230\u9ed8\u8ba4\u76ee\u5f55(~/.ncbi/public/sra)\uff0c\u7136\u540e\u7528\u4e0b\u9762\u7684\u65b9\u6cd5\u6765\u533a\u5206\u4e0b\u8f7d\u7684\u6570\u636e\u5230\u5e95\u662fPE\u8fd8\u662fSE\u6d4b\u5e8f\u3002\n\n\n1.2 \u533a\u5206 PE/SE \u6570\u636e\n\u00b6\n\n\n\u867d\u7136\u6211\u4eec\u68c0\u7d22\u65f6\u9650\u5b9a\u4e86 PE \u6d4b\u5e8f\u6570\u636e\uff0c\u4f46\u662f\u5f88\u591a\u65f6\u5019\u6570\u636e\u5e93\u91cc\u7684\u4fe1\u606f\u4e0d\u51c6\u786e\uff0c\u8fd8\u662f\u4f1a\u6709\u5f88\u591a SE \u7684\u6570\u636e\u4f1a\u88ab\u4e0b\u8f7d\u3002\u786e\u5b9a PE \u6216\u8005 SE \u7684\u65b9\u6cd5\u5f88\u591a\u3002\n\n\n# sra-stat \u7edf\u8ba1 sra \u6587\u4ef6\uff0cnreads=1 \u8868\u793a SE \u6d4b\u5e8f\uff0cnreads=2 \u8868\u793a PE \u6d4b\u5e8f\u3002-e 2 \u53ea\u7edf\u8ba1\u524d2\u4e2aspot\uff0c\u5982\u679c\u53bb\u6389-e\u53c2\u6570\uff0c\u7a0b\u5e8f\u7edf\u8ba1\u6574\u4e2a\u6587\u4ef6\uff0c\u901f\u5ea6\u6bd4\u8f83\u6162\n\n$ \nfor\n i in *.sra\n;\n \ndo\n \necho\n \n$i\n \n`\nsra-stat -xs -e \n2\n \n$i\n \n|\n grep \n\"nreads\"\n`\n;\n \ndone\n\n\n\n# \u6279\u91cf\u5220\u9664\n\n$ parallel \n'sra-stat -xs -e 2'\n ::: *.sra \n|\n xtract -Pattern Run -element Run@accession \n\\\n\n> Statistics@nreads \n|\n awk \n'{if($2==1) print $1}'\n \n|\n xargs rm\n\n\n\n\nsra-stat\n \u5de5\u5177\u53ef\u4ee5\u63d0\u53d6 sra \u6587\u4ef6\u7684\u6d4b\u5e8f\u76f8\u5173\u4fe1\u606f\u3002\n-xs\n \u53c2\u6570\u751f\u6210 xml \u683c\u5f0f\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\u91cc\u9762\u5c5e\u6027\u503c nreads \u53ef\u4ee5\u8868\u793a\u91c7\u7528\u7684\u662f\u54ea\u4e00\u79cd\u6d4b\u5e8f\u65b9\u5f0f\u3002\u5982\u679c spot-id \u662f\u89c4\u5219\u6392\u5217\uff0c\u90a3\u4e48\u53ef\u4ee5\u6dfb\u52a0 \n-e 2\n \u6700\u5feb\u65f6\u95f4\u83b7\u5f97\u7ed3\u679c\u3002\n\n\nparallel\n \u5de5\u5177\u6765\u5e76\u884c\u5316\u5904\u7406 \nsra-stat\n\uff0c\u5982\u679c\u8ba1\u7b97\u91cf\u5927\u662f\u5f88\u597d\u7684\u5229\u7528\u591a\u6838CPU\u5904\u7406\u7ec8\u7aef\u547d\u4ee4\u7684\u65b9\u6cd5\u3002\n\n\n# fastq-dump \u8f93\u51fa\u4e00\u4e2a reads\uff0c\u8ba1\u7b97\u884c\u6570\u5982\u679c\u662f4\uff0c\u90a3\u4e48\u5c31\u662f SE\uff0c\u5982\u679c\u662f8,\u5219\u662f PE\n\n$ fastq-dump -X \n1\n --split-spot -Z SRR955386.sra \n|\n wc -l\n\n\n# \u5229\u7528 -A \u53c2\u6570\u8fdc\u7a0b\u83b7\u5f97\u7ed3\u679c\n\n$ fastq-dump -X1 --split-spot -Z -L \n5\n -A SRR955386\n\n\n# fastq-dump \u81ea\u5df1\u5224\u65ad\uff0c\u5f53 sra \u6587\u4ef6\u662f SE \u6d4b\u5e8f\u65f6\uff0cfastq-dump \u53ea\u80fd\u751f\u62101\u4e2a *_1.fastq \u6587\u4ef6\n\n$ fastq-dump --split-files ERR493452.sra\n\n\n# fastq-dump \u53ea\u80fd\u8c03\u7528\u5355\u6838\u8f6c\u6362\uff0c\u53ef\u4ee5\u4f7f\u7528 parallel \u5de5\u5177\u5e76\u884c\u5904\u7406\u52a0\u5feb\u901f\u5ea6\u3002\n\n$ parallel \n\"fastq-dump --split-files --gzip --outdir bacillus_anthracis\"\n ::: *.sra\n\n\n\n\n\u53e6\u5916\u4e00\u79cd\u83b7\u5f97\u662f PE/SE \u7684\u65b9\u6cd5\u662f\u7528 \nfastq-dump\n \u6765\u8bfb\u53d6\u51fa\u76f8\u540c spot-id \u7684 reads \u518d\u8ba1\u7b97\u884c\u6570\u3002\n-X\n \u8868\u793a\u6700\u591a\u8bfb\u53d6\u7684 spot-id \u6570\u91cf\uff1b\n--split-spot\n \u533a\u5206spot\u5230reads\u7136\u540e\u7528\n-Z\n\u8f93\u51fa\uff0c\u518d\nwc -l\n\u7edf\u8ba1\u884c\u6570\u3002\n\n\n\u6709\u65f6\u5019\u6709\u4e9bsra\u6587\u4ef6\u5728 dump \u65f6\u4f1a\u51fa\u9519\uff0c\u4e0d\u80fd\u751f\u6210\u5bf9\u5e94\u7684 PE fastq \u6587\u4ef6\uff0c\u8fd9\u5c31\u9700\u8981\u6bd4\u8f83\u540e\u5220\u9664\u4e86\u3002\u5982\u679c\u662f mate pair \u7684\u6570\u636e\uff0c\u4f1a\u751f\u6210 \n*_3.fastq.gz\n\uff0c\u5982\u679c\u4e0d\u9700\u8981\u5219\u53ef\u624b\u5de5\u5220\u9664\u3002\n\n\n1.3 \u9a8c\u8bc1 fastq.gz \u6587\u4ef6\u540d\u7684\u4e00\u81f4\u6027\n\u00b6\n\n\nfastq-dump\n \u6279\u91cf\u751f\u6210 fastq \u6570\u636e\u540e\uff0c\u6709\u65f6\u56e0\u4e3a\u5404\u79cd\u539f\u56e0\uff0c\u8fd8\u662f\u4f1a dump \u51fa\u975e PE \u7c7b\u578b\u7684 \n*._1\n \u548c \n*._2\n \u547d\u540d\u98ce\u683c\u76842\u4e2aPE\u6570\u636e\u6587\u4ef6\u3002\u6587\u4ef6\u91cf\u5927\u65f6\u901a\u8fc7\u8089\u773c\u5f88\u96be\u5224\u65ad\u3002\n\n\n# \u6838\u5bf9 PE \u53cc\u7aef\u6d4b\u5e8f\u6587\u4ef6\u662f\u5426\u4e00\u81f4\n\n$ ls -l *_1.fastq.gz \n|\n awk \n'{print $9}'\n \n|\n awk -F\n'_'\n \n'{print $1}'\n > R1.txt\n$ ls -l *_2.fastq.gz \n|\n awk \n'{print $9}'\n \n|\n awk -F\n'_'\n \n'{print $1}'\n > R2.txt\n$ diff R1.txt R2.txt\n\n\n\n\n\u901a\u8fc7 \ndiff\n \u5de5\u5177\u6bd4\u8f83\uff0c\u5982\u679c2\u4e2a\u6587\u4ef6\u5185\u5bb9\u4e00\u81f4\uff0c\u5219\u7ec8\u7aef\u4e0d\u4f1a\u6709\u8f93\u51fa\u3002\u5426\u5219\u5c31\u8981\u5220\u9664\u5dee\u5f02\u7684\u90a3\u4e2a\u6587\u4ef6\u4e86\u3002\n\n\n2. \u6570\u636e\u7684\u524d\u671f\u5904\u7406\n\u00b6\n\n\n\u7531\u4e8e\u662f\u516c\u5171\u6570\u636e\u5e93\u4e0b\u8f7d\u7684\u6570\u636e\uff0c\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u6d4b\u5e8f\u5b9e\u9a8c\u8d28\u91cf\u6216\u8005\u6570\u636e\u63d0\u4ea4\u8005\u662f\u5426\u63d0\u4ea4\u7684\u662f\u8d28\u63a7\u540e\u7684\u6570\u636e\u3002\u56e0\u6b64\u5efa\u8bae\u8981\u5bf9\u6570\u636e\u505a\u4e00\u4e9b\u524d\u671f\u7684\u8d28\u63a7\u5904\u7406\u3002\n\n\n2.1 \u6570\u636e QC\n\u00b6\n\n\n\u9996\u5148\u5bf9\u57fa\u56e0\u7ec4 GC \u542b\u91cf\u548c Q \u503c\u8fdb\u884c\u521d\u6b65\u7b5b\u9009\uff0c\u5bf9\u4e8e\u504f\u5dee\u8f83\u5927\u7684\u6570\u636e\u8003\u8651\u76f4\u63a5\u5254\u9664\uff08\u6216\u8005\u7528\u5176\u4ed6\u8f6f\u4ef6\u9a8c\u8bc1\u770b\u662f\u5426\u662f\u9519\u8bef\u7269\u79cd\uff09\u3002\u8fd9\u91cc\u4f7f\u7528\u7684\u5de5\u5177\u4e3a \nbioawk\n \u6216 \nparallel\n\u3002\n\n\n# \u56e0\u4e3a reads \u8986\u76d6\u5ea6\u53ef\u80fd\u5e76\u4e0d\u5747\u4e00\uff0c\u9ad8\u8986\u76d6\u5ea6\u7684\u533a\u57df GC \u542b\u91cf\u6bd4\u91cd\u4f1a\u7565\u9ad8\u3002\u4f46\u662f\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u6b63\u5e38\u6d4b\u5e8f\u7684\u57fa\u56e0\u7ec4\u8fd9\u79cd\u533a\u57df\u76f8\u5bf9\u6765\u8bf4\u4e0d\u591a\uff0c\u5e73\u5747\u5230\u57fa\u56e0\u7ec4\u540e\u4f1a\u6574\u4f53 GC \u542b\u91cf\u5f71\u54cd\u4e0d\u5927\u3002\n\n$ \nfor\n i in *.fastq.gz\n;\n \ndo\n bioawk -c fastx \n'BEGIN{n=0;q=0}{n+=gc($seq);q+=meanqual($seq)}END{print $name,n/NR,q/NR}'\n \n$i\n >> result.txt\n;\n \ndone\n\n\n\n# awk \u7c7b\u5de5\u5177\u662f\u5355\u8fdb\u7a0b\u7684\uff0c\u4e3a\u4e86\u52a0\u901f\u53ef\u4ee5\u4f7f\u7528 parallel \u6765\u5e76\u884c\u8ba1\u7b97\n\n$ parallel \n\"bioawk -c fastx 'BEGIN{n=0;q=0}{n+=gc(\\$seq);q+=meanqual(\\$seq)}END{print \\$name,n/NR,q/NR}' >> result.txt\"\n ::: *.fastq.gz\n\n\n# \u6309\u7167 GC \u542b\u91cf\u6392\u5e8f\n\n$ cat result.txt \n|\n sort -n -k3\n\n\n\n\nR \u7ed8\u5236 gc \u5206\u5e03\u56fe\uff0c\u5982\u679c gc \u542b\u91cf\u504f\u5dee\u8d85\u8fc7 10% \u65f6\u5c31\u5254\u9664\u8be5\u57fa\u56e0\u7ec4\u6570\u636e\u3002\n\n\n>\n \nlibrary\n(\nggplot2\n)\n\n\n>\n data\n<-\nread.table\n(\n\"result.txt\"\n)\n\n\n>\n qplot\n(\nv2\n,\n v3\n,\n data\n=\ndata\n)\n\n\n\n\n\n\u7ed3\u679c\u663e\u793a\u6709\u4e00\u4e2a\u9ed1\u70b9\u7684GC\u542b\u91cf\u7279\u522b\u4f4e\uff0c\u4e14Q\u503c\u7279\u522b\u9ad8\u3002\u7ed3\u679c\u663e\u793a\u6d4b\u5e8f\u5b9e\u9a8c SRR2155551 \u548c SRR2164197 \u7684 GC \u542b\u91cf\u4ec5\u4e3a22%\uff0c\u800c\u5176\u4ed6\u6837\u672c GC \u542b\u91cf\u8303\u56f4\u572834%\uff5e41%\u3002\u4e14\u8fd92\u4e2a\u5b9e\u9a8c\u7684\u6837\u672c\u5747\u4e3a\u540c\u4e00\u4e2a\uff0c\u662f1\u4e2a\u6837\u672c\u76842\u6b64\u6d4b\u5e8f\uff08\u6216\u8005\u6570\u636e\u4e0a\u4f20\u4e862\u6b21\uff09\uff0c\u56e0\u6b64\u5c06\u5176\u5254\u9664\u3002\n\n\n2.2 \u53bb\u9664\u63a5\u5934\n\u00b6\n\n\n\u5176\u6b21\u8981\u53bb\u9664\u63a5\u5934\u7684\u6c61\u67d3\u3002\u56e0\u4e3a\u5206\u6790\u6d41\u7a0b\u4e2d\u4e0d\u4ec5\u5305\u62ec mapping \u7684\u65b9\u5f0f\uff0c\u8fd8\u5305\u542b de novo assembly\uff0c\u4e3a\u4e86\u907f\u514d\u63a5\u5934\u5e8f\u5217\u5bf9\u57fa\u56e0\u7ec4\u62fc\u63a5\u7684\u5f71\u54cd\uff0c\u8fd9\u91cc\u6700\u597d\u8fdb\u884c\u3002\u8fd9\u91cc\u4f7f\u7528\u7684\u5de5\u5177\u662f \nFastQC\n \u548c \nfadapa\n\n\n# \u4f7f\u7528\u811a\u672c scan_adaptors.py \u6765\u626b\u63cf\u4e0b\u8f7d\u7684\u9ad8\u901a\u91cf\u57fa\u56e0\u7ec4\u6d4b\u5e8f\u6570\u636e\u662f\u5426\u6709\u63a5\u5934\u6c61\u67d3\u7684\u60c5\u51b5\u3002\n\n$ fastqc -t \n40\n -q --extract *.fastq.gz\n$ python scan_fastqc_report.py -d qc\n\n\n\n\n\u63a5\u5934\u53bb\u9664\u8f6f\u4ef6\u5f88\u591a\uff0c\u4f46\u662f\u8981\u81ea\u52a8\u5224\u65ad\u5e76\u4e14\u6279\u91cf\u5904\u7406\u6700\u597d\u81ea\u5df1\u5199\u811a\u672c\u6bd4\u8f83\u65b9\u4fbf\u3002\u8fd9\u91cc\u7528 python \u5199\u4e00\u4e2a\u6279\u91cf\u79fb\u9664\u7684\u811a\u672c\u3002\n\n\n#!usr/bin/env python\n\n\n# -*- coding: utf-8 -*-\n\n\n# scripts name: scan_fastqc_report.py\n\n\nimport\n \nos\n\n\nfrom\n \nBio.Seq\n \nimport\n \nSeq\n\n\nfrom\n \nBio\n \nimport\n \nSeqIO\n\n\nfrom\n \nBio.SeqRecord\n \nimport\n \nSeqRecord\n\n\nfrom\n \nBio.Alphabet\n \nimport\n \ngeneric_nucleotide\n\n\nfrom\n \nfadapa\n \nimport\n \nFadapa\n\n\nimport\n \nargparse\n\n\n\nparser\n \n=\n \nargparse\n.\nArgumentParser\n()\n\n\nparser\n.\nadd_argument\n(\n'-i'\n,\n \n'--input'\n,\n \naction\n=\n'store'\n,\n \ndest\n=\n'qcfile'\n,\n \ntype\n=\nstr\n,\n \nhelp\n=\n\"fastqc extract data file\"\n)\n\n\nparser\n.\nadd_argument\n(\n'-o'\n,\n \n'--output'\n,\n \naction\n=\n'store'\n,\n \ndest\n=\n'adaptor'\n,\n \ntype\n=\nstr\n,\n \nhelp\n=\n\"adaptors file\"\n)\n\n\nargs\n \n=\n \nparser\n.\nparse_args\n()\n\n\nqc_file\n \n=\n \nFadapa\n(\nargs\n.\nqcfile\n)\n\n\n\nif\n \nqc_file\n.\nsummary\n()[\n-\n3\n][\n0\n]\n \n==\n \n'fail'\n:\n\n    \nadaptors\n \n=\n \n[]\n\n    \nors\n \n=\n \nqc_file\n.\nclean_data\n(\n\"Overrepresented sequences\"\n)\n\n    \nors\n.\npop\n(\n0\n)\n\n\n    \nfor\n \n(\nindex\n,\n \nseq\n)\n \nin\n \nenumerate\n(\nors\n):\n\n        \nif\n \n'NNNNNN'\n \nin\n \nseq\n[\n0\n]:\n\n            \ncontinue\n\n        \nadaptors\n.\nappend\n(\nSeqRecord\n(\nSeq\n(\nseq\n[\n0\n],\n \ngeneric_nucleotide\n),\n \nid\n=\n\"adaptor_\n%d\n\"\n \n%\n \n(\nindex\n+\n1\n)))\n\n\n    \nif\n \nnot\n \nos\n.\npath\n.\nexists\n(\nargs\n.\nadaptor\n):\n\n        \nos\n.\nmakedirs\n(\nargs\n.\nadaptor\n)\n\n    \nSeqIO\n.\nwrite\n(\nadaptors\n,\n \n\"\n%s\n/adaptor.fasta\"\n \n%\n \nargs\n.\nadaptor\n,\n \n\"fasta\"\n)\n\n    \nprint\n \n\"Overrepresented sequences has been save to adaptors.fasta\"\n\n\nelse\n:\n\n    \nprint\n \n\"No Overrepresented sequences\"\n\n\n\n\n\n3. Pangenome \u5206\u6790\n\u00b6\n\n\n\u5e38\u7528\u7684 Pangenome \u5206\u6790\u5305\u62ec\u57fa\u56e0\u7ec4\u7ec4\u88c5\u6ce8\u91ca\u540e\u5bf9\u57fa\u56e0\n\n\n3.1 \u57fa\u56e0\u7ec4\u7ec4\u88c5\n\u00b6\n\n\n\u7ec4\u88c5\u7ec6\u83cc\u57fa\u56e0\u7ec4\u6700\u5e38\u7528\u7684\u5de5\u5177\u662f \nspades\n\uff0c\u5b83\u53ef\u4ee5\u5206\u6279\u5bf9\u591a\u4e2akmer\u8fdb\u884c\u7ec4\u88c5\u3002\n\n\n# spades \u7ec4\u88c5\n\n$ \nfor\n i in \n$(\nawk -F\n'_'\n \n'!a[$1]++{print}'\n)\n;\n \ndo\n spades.py --careful \n\\\n\n> -k \n21\n,33,55,77,99,121 -1 \n$i_1\n.fastq.gz -2 \n$i_2\n.fastq.gz -T \n40\n -o \n$i\n;\n \ndone\n\n\n\n\n\n\u4f46\u662f\u7531\u4e8e\u4e0b\u8f7d\u7684\u6279\u91cf\u6570\u636e\u91c7\u7528\u4e0d\u540c\u5e73\u53f0\uff0c\u5728\u4e0d\u540c\u65f6\u95f4\u8fdb\u884c\u7684\u6d4b\u5e8f\uff0c\u8bfb\u957f\u5f7c\u6b64\u5dee\u5f02\u8fd8\u662f\u6bd4\u8f83\u5927\u7684\u3002\u6bd4\u598210K\u75c5\u539f\u57fa\u56e0\u7ec4\u8ba1\u5212\u91cc\uff0c\u5f88\u591a\u6837\u672c\u9002\u7528 miseq \u8fdb\u884c\u6d4b\u5e8f\u7684\uff0c\u8bfb\u957f\u53ef\u8fbe250\u4ee5\u4e0a\uff0c\u800c\u5f88\u591a\u5546\u4e1a\u516c\u53f8\u6216\u8005\u79d1\u7814\u9662\u6821\u5219\u7528 hiseq \u6d4b\u5e8f\uff0c\u8bfb\u957f\u4e00\u822c\u5728100\uff5e150\u3002\u7528\u540c\u4e00\u4e2a\u53c2\u6570\u6765\u7ec4\u88c5\u53ef\u80fd\u4e0d\u4f1a\u83b7\u5f97\u8f83\u597d\u7684\u7ed3\u679c\u3002\nshovill\n\u5de5\u5177\u53ef\u4ee5\u5e2e\u6211\u4eec\u81ea\u52a8\u5316\u6700\u4f73kmer\u9009\u62e9\uff0c\u53bb\u9664\u4f4e\u8986\u76d6contigs\u7b49\u64cd\u4f5c\uff0c\u4e00\u6b65\u8fbe\u5230\u8f83\u597d\u7684\u7ec4\u88c5\u5e8f\u5217\u3002\n\n\n# shovill \u7ec4\u88c5\n\n$ \nfor\n i in \n$(\nawk -F\n'_'\n \n'!a[$1]++{print}'\n)\n;\n \ndo\n shovill -R1 \n$i_1\n.fastq.gz -R2 \n$i_2\n.fastq.gz -o \n$i\n;\n \ndone\n\n\n\n\n\n3.2 \u57fa\u56e0\u7ec4\u6ce8\u91ca\n\u00b6\n\n\n$ \nfor\n i in \n$(\nawk -F\n'_'\n \n'!a[$1]++{print}'\n)\n;\n \ndo\n prokka --prefix prokka_\n$i\n \n$i\n/contigs.fa\n;\n \ndone\n\n\n\n\n\n3.3 \u7528 Roary \u8fdb\u884c\u5206\u6790\n\u00b6\n\n\n$ cp prokka_*/\n$i\n.gff gff/ \n&&\n \ncd\n gff\n$ roary -p -e mafft *.gff\n\n\n\n\n3.4 Harvest\n\u00b6\n\n\n$ parsnp\n\n\n\n\n4. SNPs \u6784\u5efa\u8fdb\u5316\u6811\n\u00b6\n\n\n$ raxml -f a -x \n12345\n -p \n12345\n -#100 -n ban -T \n40\n -s snp -m GTRGAMMA\n\n\n\n\n4.1 \u57fa\u4e8e\u53c2\u8003\u57fa\u56e0\u7ec4 Mapping \u7684\u65b9\u6cd5\n\u00b6\n\n\nSnippy\n\n\n# snippy mapping\n\n$ \nfor\n i in *.fastq.gz \n|\n sort \n|\n uniq\n;\n \n\\\n\n> \ndo\n snippy --cpus \n40\n --outdir \n$i\n -ref reference.fa \n\\\n\n> --R1 \n$i\n*_1*.fastq.gz --R2 \n$i\n*_2*.fastq.gz\n;\n \ndone\n\n\n\n# snippy-core \u6c47\u96c6 snps\n\n$ snippy-core --prefix core-snps SRR* DRR* ERR*\n\n\n# raxml \u7ed8\u5236\u8fdb\u5316\u6811\n\n$ raxml -f a -x \n12345\n -p \n12345\n -# \n100\n -m GTRGAMMA -s core-snps.aln -n ex -T \n40\n\n\n\n# \u5c06 raxml \u8fdb\u5316\u6811\u7ed3\u679c\u6587\u4ef6\u4ece\u670d\u52a1\u5668\u4f20\u5230\u672c\u5730\u7535\u8111\uff0c\u7528 figtree \u751f\u6210\u56fe\u7247\n\n$ scp user@server-ip:/path/RAxML_bestTree.ex .\n$ figtree RAxML_bestTree.ex \n&\n\n\n\n\n\nTools\n\n\n5. \u6838\u5fc3\u57fa\u56e0\u5206\u6790\n\u00b6\n\n\n5.1 get_homologues\n\u00b6\n\n\n6. \u76f8\u5173\u8f6f\u4ef6\u5b89\u88c5\n\u00b6\n\n\nedirect\n\n\n$ wget ftp://ftp.ncbi.nlm.nih.gov/entrez/entrezdirect/edirect.tar.gz\n$ sudo tar zxf edirect.tar.gz -C /opt\n$ sudo chown -R root:root /opt/edirect\n$ \ncd\n /opt/edirect \n&&\n sudo ./setup.sh\n$ sudo ln -s /opt/edirect/* /usr/local/sbin/\n\n\n\n\nsra-tools\n\n\n$ wget http://ftp-trace.ncbi.nlm.nih.gov/sra/sdk/2.7.0/sratoolkit.2.7.0-ubuntu64.tar.gz\n$ sudo tar zxf sratoolkit.2.7.0-ubuntu64.tar.gz -C /opt/sratoolkit\n$ sudo chown -R root:root /opt/sratoolkit \n&&\n \ncd\n /opt/sratoolkit\n$ sudo ln -s \n`\npwd\n`\n/bin/* /usr/local/sbin/\n\n\n\n\nbio-awk\n\n\n$ sudo apt-get install bison\n$ git clone https://github.com/lh3/bioawk\n$ \ncd\n bioawk \n&&\n make\n$ sudo cp bioawk /usr/local/sbin\n\n\n\n\nparallel\n\n\n$ sudo apt install parallel\n\n\n\n\ngplot\n\n\n$ sudo apt install gnuplot\n$ git clone https://github.com/RhysU/gplot\n$ sudo cp gplot/gplot /usr/local/sbin\n\n\n\n\nFastQC\n\n\n$ wget http://www.bioinformatics.babraham.ac.uk/projects/fastqc/fastqc_v0.11.5.zip\n$ sudo unzip fastqc_v0.11.5.zip\n$ sudo mv fastqc_v0.11.5 /opt/fastqc \n&&\n sudo chown -R root:root /opt/fastqc\n$ sudo cp /opt/fastqc/fastqc /usr/local/sbin\n\n\n\n\nFadapa\n\n\n$ sudo pip install fadapa\n\n\n\n\nsnippy\n\n\n$ git clone https://github.com/tseemann/snippy\n$ sudo cp snippy/bin/* /usr/local/sbin\n$ sudo cp snippy/binaries/linux/* /usr/local/sbin\n\n\n\n\nRAxML\n\n\n$ wget https://github.com/stamatak/standard-RAxML/archive/v8.1.17.tar.gz\n$ sudo tar zxf v8.1.17.tar.gz -C /opt/raxml\n$ sudo chown -R root:root /opt/raxml \n&&\n \ncd\n /opt/raxml\n$ sudo make -f Makefile.SSE3.PTHREADS.gcc\n$ sudo ln -s \n`\npwd\n`\n/raxmlHPC-PTHREADS-SSE3 /usr/local/raxml\n\n\n\n\n7. Reference\n\u00b6\n\n\n\n\nedirect help book: \nhttp://www.ncbi.nlm.nih.gov/books/NBK179288/\n\n\nsra-tools wiki: \nhttps://github.com/ncbi/sra-tools/wiki\n\n\nparallel tutorial: \nhttps://www.biostars.org/p/63816/\n\n\ngnuplot tutorial: \nhttp://lzz5235.github.io/2016/01/12/gnuplot.html\n\n\ngplot usage: \nhttps://github.com/RhysU/gplot/blob/master/README.md",
            "title": "10.2 \u70ad\u75bd\u82bd\u80de\u6746\u83cc\u6bd4\u8f83\u57fa\u56e0\u7ec4\u5b66\u7814\u7a76"
        },
        {
            "location": "/chapter_10/02_comparative-analysis-Ban-genomes/#snps",
            "text": "\u80cc\u666f\u7b80\u4ecb  \u505a\u4e3a\u75be\u63a7\u4e2d\u5fc3\u7684\u5b9e\u9a8c\u5ba4\uff0c\u5bf9\u751f\u7269\u6050\u6016\u4e8b\u4ef6\u7684\u9632\u63a7\u548c\u5e94\u5bf9\u5904\u7f6e\u80fd\u529b\u662f\u5e94\u6025\u5de5\u4f5c\u80fd\u529b\u7684\u91cd\u8981\u7ec4\u6210\u4e4b\u4e00\u3002\u800c\u7ec6\u83cc\u6027\u751f\u7269\u6050\u6016\u6218\u5242\u4e2d\u6700\u8457\u540d\u7684\u5c31\u662f\u542b\u6709\u70ad\u75bd\u82bd\u80de\u6746\u83cc\u7684\u767d\u8272\u7c89\u672b\u3002\u505a\u4e3a\u57fa\u5c42\u5b9e\u9a8c\u5ba4\uff0c\u56e0\u4e3a\u5728\u65e5\u5e38\u5de5\u4f5c\u4e2d\u63a5\u89e6\u5230\u8fd9\u4e9b\u6837\u54c1\u548c\u75c5\u539f\u7684\u673a\u4f1a\u5fae\u4e4e\u5176\u5fae\uff0c\u6240\u4ee5\u7ecf\u9a8c\u548c\u6280\u80fd\u65b9\u9762\u8f83\u4e3a\u7f3a\u4e4f\u3002\u901a\u8fc7\u5e73\u65f6\u52a0\u5f3a\u76f8\u5173\u9879\u76ee\u7684\u5e94\u6025\u6f14\u7ec3\u5916\uff0c\u5b9e\u9a8c\u5ba4\u5feb\u901f\u5206\u6790\u548c\u6eaf\u6e90\u5de5\u4f5c\u9700\u8981\u505a\u597d\u80fd\u529b\u50a8\u5907\uff0c\u56e0\u6b64\u5b9e\u9a8c\u5ba4\u5bf9\u70ad\u75bd\u82bd\u80de\u6746\u83cc\u7684\u57fa\u56e0\u7ec4\u6570\u636e\u8fdb\u884c\u4e86\u57fa\u672c\u5206\u6790\uff0c\u5bf9\u76f8\u5173\u8d44\u6599\u548c\u4fe1\u606f\u8fdb\u884c\u4e86\u50a8\u5907\u3002   \u672c\u8282\u4e3b\u8981\u901a\u8fc7\u6784\u5efa\u76f8\u5e94\u7684\u5206\u6790\u6d41\u7a0b\uff0c\u83b7\u5f97\u70ad\u75bd\u82bd\u80de\u6746\u83cc\u83cc\u682a\u57fa\u56e0\u7ec4\u6570\u636e\uff0c\u53ef\u4ee5\u7b2c\u4e00\u65f6\u95f4\u5c31\u8fdb\u884c\u6eaf\u6e90\u65b9\u9762\u7684\u7814\u7a76\u3002\u5c06\u8fd9\u4e2a\u5de5\u4f5c\u7684\u8fc7\u7a0b\u5efa\u7acb\u6587\u6863\u4fdd\u5b58\u3002\u5206\u6790\u6d41\u7a0b\u7c97\u7565\u7b80\u5355\uff0c\u4e3b\u8981\u76ee\u7684\u4e5f\u662f\u4e3a\u5b9e\u9a8c\u5ba4\u5185\u90e8\u6559\u5b66\uff0c\u5e0c\u671b\u80fd\u505a\u5230\u4e3e\u4e00\u53cd\u4e09\uff0c\u7ed9\u5176\u4ed6\u7ec6\u83cc\u6027\u75c5\u539f\u5fae\u751f\u7269\u57fa\u56e0\u7ec4\u6eaf\u6e90\u5206\u6790\u7814\u7a76\u63d0\u4f9b\u5e2e\u52a9\u3002  \u8f6f\u4ef6\u4e2d\u4f7f\u7528\u7684\u4e00\u4e9b\u53c2\u6570\u662f\u6839\u636e\u81ea\u5df1\u7684\u670d\u52a1\u5668\u8bbe\u7f6e\u7684\uff0c\u5177\u4f53\u8fd0\u884c\u65f6\u9700\u8981\u6839\u636e\u8ba1\u7b97\u673a\u914d\u7f6e\u8fdb\u884c\u76f8\u5e94\u7684\u8c03\u6574\u3002   \u670d\u52a1\u5668\u914d\u7f6e   CPU: E3 2650v3 x2  Memory: ECC 16G x8  Harddisk: 7200\u8f6c 1T x4 \u7ec4 Raid 5 + 1 Hotspare  System: Ubuntu 16.04 LTS 64bit",
            "title": "\u70ad\u75bd\u82bd\u80de\u6746\u83cc\u57fa\u56e0\u7ec4 SNPs \u5206\u6790"
        },
        {
            "location": "/chapter_10/02_comparative-analysis-Ban-genomes/#1",
            "text": "\u6570\u636e\u91c7\u7528 NCBI SRA \u6570\u636e\u5e93\u4e2d\u7684\u516c\u5171\u6570\u636e\u6765\u4f5c\u5206\u6790\u3002\u9996\u5148\u68c0\u7d22 NCBI SRA \u6570\u636e\u5e93\u4e2d\u6240\u6709\u4f7f\u7528 illumina \u5e73\u53f0\u5bf9\u70ad\u75bd\u82bd\u80de\u6746\u83cc\u57fa\u56e0\u7ec4\u8fdb\u884c PE \u6d4b\u5e8f\u7684 \u5927\u4e8e 100M \u7684 NGS \u6570\u636e\uff0c\u5e76\u5728\u4e0b\u8f7d\u8fd9\u4e9b sra \u6570\u636e\u540e\u8f6c\u6362\u6210 fastq.gz \u683c\u5f0f\u3002\u4f7f\u7528\u7684\u5de5\u5177\u4e3b\u8981\u4e3a  edirect  \u548c  sra-tools \u3002",
            "title": "1. \u83b7\u53d6\u516c\u5171\u6570\u636e\u5e93\u6570\u636e"
        },
        {
            "location": "/chapter_10/02_comparative-analysis-Ban-genomes/#11-sra",
            "text": "# \u4e0b\u8f7d\u70ad\u75bd\u82bd\u80de\u6746\u83cc SRA \u53cc\u672b\u7aef\u6d4b\u5e8f\u6570\u636e \n$ esearch -db sra -query  '\"Bacillus anthracis\"[Organism] AND \\  > (Hiseq[ALL] OR Miseq[ALL]) AND \"strategy wgs\"[Properties] AND paired[ALL]'   |   \\ \n> efetch -db sra -format runinfo  |  grep  '^[DSE]RR*'   |   \\ \n> awk -F ','   '{if($5>100000000) print $1}'   |  sort -n  |   \\ \n> xargs fastq-dump --split-files --gzip --outdir bacillus_anthracis  \u4e0a\u9762\u7684\u547d\u4ee4\u4f1a\u76f4\u63a5\u8c03\u7528  fastq-dump  \u4e0b\u8f7d\u6570\u636e\u5230  --outdir  \u4e2d\u3002\u867d\u7136\u6211\u4eec\u7528\u4e86  grep PAIRED  \u6765\u533a\u5206\u4e0d\u540c\u7684\u6d4b\u5e8f\u65b9\u5f0f\uff0c\u4f46\u662f\u7531\u4e8e\u4fe1\u606f\u662f\u63d0\u4ea4\u8005\u4e0a\u4f20\u7684\uff0c\u53ef\u80fd\u4fe1\u606f\u4e0d\u4e00\u5b9a\u662f\u6b63\u786e\u7684\u3002\u7531\u4e8e\u540e\u9762\u7684\u6d41\u7a0b\u4e2d\u7275\u6d89\u5230\u7ec4\u88c5\u548c\u6bd4\u5bf9\u7b49\u64cd\u4f5c\uff0cPE/SE\u7684\u65b9\u5f0f\u4f1a\u6709\u533a\u522b\uff0c\u6700\u597d\u8fd8\u662f\u8fdb\u884c\u9a8c\u8bc1\u540e\u518d\u4e0b\u8f7d\uff0c\u6216\u8005\u5c06PE/SE\u7684\u6570\u636e\u533a\u5206\u5b58\u653e\u3002  # \u5148\u751f\u6210\u6570\u636e\u8bb0\u5f55 \n$ esearch -db sra -query  '\"Bacillus anthracis\"[Organism] AND \\  > (Hiseq[ALL] OR Miseq[ALL]) AND \"strategy wgs\"[Properties]'   |   \\ \n> efetch -db sra -format runinfo  |  grep  'PAIRED'   |  grep  '^[DSE]RR*'   |   \\ \n> awk -F ','   '{if($5>100000000) print $1}'   |  sort -n > ban-sra.txt # \u4e0b\u8f7d sra \n$ cat ban-sra.txt  |  xargs prefetch  \u8fd9\u6837\u4f1a\u4e0b\u8f7d sra \u6587\u4ef6\u5230\u9ed8\u8ba4\u76ee\u5f55(~/.ncbi/public/sra)\uff0c\u7136\u540e\u7528\u4e0b\u9762\u7684\u65b9\u6cd5\u6765\u533a\u5206\u4e0b\u8f7d\u7684\u6570\u636e\u5230\u5e95\u662fPE\u8fd8\u662fSE\u6d4b\u5e8f\u3002",
            "title": "1.1 \u4e0b\u8f7d sra"
        },
        {
            "location": "/chapter_10/02_comparative-analysis-Ban-genomes/#12-pese",
            "text": "\u867d\u7136\u6211\u4eec\u68c0\u7d22\u65f6\u9650\u5b9a\u4e86 PE \u6d4b\u5e8f\u6570\u636e\uff0c\u4f46\u662f\u5f88\u591a\u65f6\u5019\u6570\u636e\u5e93\u91cc\u7684\u4fe1\u606f\u4e0d\u51c6\u786e\uff0c\u8fd8\u662f\u4f1a\u6709\u5f88\u591a SE \u7684\u6570\u636e\u4f1a\u88ab\u4e0b\u8f7d\u3002\u786e\u5b9a PE \u6216\u8005 SE \u7684\u65b9\u6cd5\u5f88\u591a\u3002  # sra-stat \u7edf\u8ba1 sra \u6587\u4ef6\uff0cnreads=1 \u8868\u793a SE \u6d4b\u5e8f\uff0cnreads=2 \u8868\u793a PE \u6d4b\u5e8f\u3002-e 2 \u53ea\u7edf\u8ba1\u524d2\u4e2aspot\uff0c\u5982\u679c\u53bb\u6389-e\u53c2\u6570\uff0c\u7a0b\u5e8f\u7edf\u8ba1\u6574\u4e2a\u6587\u4ef6\uff0c\u901f\u5ea6\u6bd4\u8f83\u6162 \n$  for  i in *.sra ;   do   echo   $i   ` sra-stat -xs -e  2   $i   |  grep  \"nreads\" ` ;   done  # \u6279\u91cf\u5220\u9664 \n$ parallel  'sra-stat -xs -e 2'  ::: *.sra  |  xtract -Pattern Run -element Run@accession  \\ \n> Statistics@nreads  |  awk  '{if($2==1) print $1}'   |  xargs rm  sra-stat  \u5de5\u5177\u53ef\u4ee5\u63d0\u53d6 sra \u6587\u4ef6\u7684\u6d4b\u5e8f\u76f8\u5173\u4fe1\u606f\u3002 -xs  \u53c2\u6570\u751f\u6210 xml \u683c\u5f0f\u7684\u7edf\u8ba1\u4fe1\u606f\u3002\u91cc\u9762\u5c5e\u6027\u503c nreads \u53ef\u4ee5\u8868\u793a\u91c7\u7528\u7684\u662f\u54ea\u4e00\u79cd\u6d4b\u5e8f\u65b9\u5f0f\u3002\u5982\u679c spot-id \u662f\u89c4\u5219\u6392\u5217\uff0c\u90a3\u4e48\u53ef\u4ee5\u6dfb\u52a0  -e 2  \u6700\u5feb\u65f6\u95f4\u83b7\u5f97\u7ed3\u679c\u3002  parallel  \u5de5\u5177\u6765\u5e76\u884c\u5316\u5904\u7406  sra-stat \uff0c\u5982\u679c\u8ba1\u7b97\u91cf\u5927\u662f\u5f88\u597d\u7684\u5229\u7528\u591a\u6838CPU\u5904\u7406\u7ec8\u7aef\u547d\u4ee4\u7684\u65b9\u6cd5\u3002  # fastq-dump \u8f93\u51fa\u4e00\u4e2a reads\uff0c\u8ba1\u7b97\u884c\u6570\u5982\u679c\u662f4\uff0c\u90a3\u4e48\u5c31\u662f SE\uff0c\u5982\u679c\u662f8,\u5219\u662f PE \n$ fastq-dump -X  1  --split-spot -Z SRR955386.sra  |  wc -l # \u5229\u7528 -A \u53c2\u6570\u8fdc\u7a0b\u83b7\u5f97\u7ed3\u679c \n$ fastq-dump -X1 --split-spot -Z -L  5  -A SRR955386 # fastq-dump \u81ea\u5df1\u5224\u65ad\uff0c\u5f53 sra \u6587\u4ef6\u662f SE \u6d4b\u5e8f\u65f6\uff0cfastq-dump \u53ea\u80fd\u751f\u62101\u4e2a *_1.fastq \u6587\u4ef6 \n$ fastq-dump --split-files ERR493452.sra # fastq-dump \u53ea\u80fd\u8c03\u7528\u5355\u6838\u8f6c\u6362\uff0c\u53ef\u4ee5\u4f7f\u7528 parallel \u5de5\u5177\u5e76\u884c\u5904\u7406\u52a0\u5feb\u901f\u5ea6\u3002 \n$ parallel  \"fastq-dump --split-files --gzip --outdir bacillus_anthracis\"  ::: *.sra  \u53e6\u5916\u4e00\u79cd\u83b7\u5f97\u662f PE/SE \u7684\u65b9\u6cd5\u662f\u7528  fastq-dump  \u6765\u8bfb\u53d6\u51fa\u76f8\u540c spot-id \u7684 reads \u518d\u8ba1\u7b97\u884c\u6570\u3002 -X  \u8868\u793a\u6700\u591a\u8bfb\u53d6\u7684 spot-id \u6570\u91cf\uff1b --split-spot  \u533a\u5206spot\u5230reads\u7136\u540e\u7528 -Z \u8f93\u51fa\uff0c\u518d wc -l \u7edf\u8ba1\u884c\u6570\u3002  \u6709\u65f6\u5019\u6709\u4e9bsra\u6587\u4ef6\u5728 dump \u65f6\u4f1a\u51fa\u9519\uff0c\u4e0d\u80fd\u751f\u6210\u5bf9\u5e94\u7684 PE fastq \u6587\u4ef6\uff0c\u8fd9\u5c31\u9700\u8981\u6bd4\u8f83\u540e\u5220\u9664\u4e86\u3002\u5982\u679c\u662f mate pair \u7684\u6570\u636e\uff0c\u4f1a\u751f\u6210  *_3.fastq.gz \uff0c\u5982\u679c\u4e0d\u9700\u8981\u5219\u53ef\u624b\u5de5\u5220\u9664\u3002",
            "title": "1.2 \u533a\u5206 PE/SE \u6570\u636e"
        },
        {
            "location": "/chapter_10/02_comparative-analysis-Ban-genomes/#13-fastqgz",
            "text": "fastq-dump  \u6279\u91cf\u751f\u6210 fastq \u6570\u636e\u540e\uff0c\u6709\u65f6\u56e0\u4e3a\u5404\u79cd\u539f\u56e0\uff0c\u8fd8\u662f\u4f1a dump \u51fa\u975e PE \u7c7b\u578b\u7684  *._1  \u548c  *._2  \u547d\u540d\u98ce\u683c\u76842\u4e2aPE\u6570\u636e\u6587\u4ef6\u3002\u6587\u4ef6\u91cf\u5927\u65f6\u901a\u8fc7\u8089\u773c\u5f88\u96be\u5224\u65ad\u3002  # \u6838\u5bf9 PE \u53cc\u7aef\u6d4b\u5e8f\u6587\u4ef6\u662f\u5426\u4e00\u81f4 \n$ ls -l *_1.fastq.gz  |  awk  '{print $9}'   |  awk -F '_'   '{print $1}'  > R1.txt\n$ ls -l *_2.fastq.gz  |  awk  '{print $9}'   |  awk -F '_'   '{print $1}'  > R2.txt\n$ diff R1.txt R2.txt  \u901a\u8fc7  diff  \u5de5\u5177\u6bd4\u8f83\uff0c\u5982\u679c2\u4e2a\u6587\u4ef6\u5185\u5bb9\u4e00\u81f4\uff0c\u5219\u7ec8\u7aef\u4e0d\u4f1a\u6709\u8f93\u51fa\u3002\u5426\u5219\u5c31\u8981\u5220\u9664\u5dee\u5f02\u7684\u90a3\u4e2a\u6587\u4ef6\u4e86\u3002",
            "title": "1.3 \u9a8c\u8bc1 fastq.gz \u6587\u4ef6\u540d\u7684\u4e00\u81f4\u6027"
        },
        {
            "location": "/chapter_10/02_comparative-analysis-Ban-genomes/#2",
            "text": "\u7531\u4e8e\u662f\u516c\u5171\u6570\u636e\u5e93\u4e0b\u8f7d\u7684\u6570\u636e\uff0c\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u6d4b\u5e8f\u5b9e\u9a8c\u8d28\u91cf\u6216\u8005\u6570\u636e\u63d0\u4ea4\u8005\u662f\u5426\u63d0\u4ea4\u7684\u662f\u8d28\u63a7\u540e\u7684\u6570\u636e\u3002\u56e0\u6b64\u5efa\u8bae\u8981\u5bf9\u6570\u636e\u505a\u4e00\u4e9b\u524d\u671f\u7684\u8d28\u63a7\u5904\u7406\u3002",
            "title": "2. \u6570\u636e\u7684\u524d\u671f\u5904\u7406"
        },
        {
            "location": "/chapter_10/02_comparative-analysis-Ban-genomes/#21-qc",
            "text": "\u9996\u5148\u5bf9\u57fa\u56e0\u7ec4 GC \u542b\u91cf\u548c Q \u503c\u8fdb\u884c\u521d\u6b65\u7b5b\u9009\uff0c\u5bf9\u4e8e\u504f\u5dee\u8f83\u5927\u7684\u6570\u636e\u8003\u8651\u76f4\u63a5\u5254\u9664\uff08\u6216\u8005\u7528\u5176\u4ed6\u8f6f\u4ef6\u9a8c\u8bc1\u770b\u662f\u5426\u662f\u9519\u8bef\u7269\u79cd\uff09\u3002\u8fd9\u91cc\u4f7f\u7528\u7684\u5de5\u5177\u4e3a  bioawk  \u6216  parallel \u3002  # \u56e0\u4e3a reads \u8986\u76d6\u5ea6\u53ef\u80fd\u5e76\u4e0d\u5747\u4e00\uff0c\u9ad8\u8986\u76d6\u5ea6\u7684\u533a\u57df GC \u542b\u91cf\u6bd4\u91cd\u4f1a\u7565\u9ad8\u3002\u4f46\u662f\u5927\u90e8\u5206\u60c5\u51b5\u4e0b\uff0c\u6b63\u5e38\u6d4b\u5e8f\u7684\u57fa\u56e0\u7ec4\u8fd9\u79cd\u533a\u57df\u76f8\u5bf9\u6765\u8bf4\u4e0d\u591a\uff0c\u5e73\u5747\u5230\u57fa\u56e0\u7ec4\u540e\u4f1a\u6574\u4f53 GC \u542b\u91cf\u5f71\u54cd\u4e0d\u5927\u3002 \n$  for  i in *.fastq.gz ;   do  bioawk -c fastx  'BEGIN{n=0;q=0}{n+=gc($seq);q+=meanqual($seq)}END{print $name,n/NR,q/NR}'   $i  >> result.txt ;   done  # awk \u7c7b\u5de5\u5177\u662f\u5355\u8fdb\u7a0b\u7684\uff0c\u4e3a\u4e86\u52a0\u901f\u53ef\u4ee5\u4f7f\u7528 parallel \u6765\u5e76\u884c\u8ba1\u7b97 \n$ parallel  \"bioawk -c fastx 'BEGIN{n=0;q=0}{n+=gc(\\$seq);q+=meanqual(\\$seq)}END{print \\$name,n/NR,q/NR}' >> result.txt\"  ::: *.fastq.gz # \u6309\u7167 GC \u542b\u91cf\u6392\u5e8f \n$ cat result.txt  |  sort -n -k3  R \u7ed8\u5236 gc \u5206\u5e03\u56fe\uff0c\u5982\u679c gc \u542b\u91cf\u504f\u5dee\u8d85\u8fc7 10% \u65f6\u5c31\u5254\u9664\u8be5\u57fa\u56e0\u7ec4\u6570\u636e\u3002  >   library ( ggplot2 )  >  data <- read.table ( \"result.txt\" )  >  qplot ( v2 ,  v3 ,  data = data )   \u7ed3\u679c\u663e\u793a\u6709\u4e00\u4e2a\u9ed1\u70b9\u7684GC\u542b\u91cf\u7279\u522b\u4f4e\uff0c\u4e14Q\u503c\u7279\u522b\u9ad8\u3002\u7ed3\u679c\u663e\u793a\u6d4b\u5e8f\u5b9e\u9a8c SRR2155551 \u548c SRR2164197 \u7684 GC \u542b\u91cf\u4ec5\u4e3a22%\uff0c\u800c\u5176\u4ed6\u6837\u672c GC \u542b\u91cf\u8303\u56f4\u572834%\uff5e41%\u3002\u4e14\u8fd92\u4e2a\u5b9e\u9a8c\u7684\u6837\u672c\u5747\u4e3a\u540c\u4e00\u4e2a\uff0c\u662f1\u4e2a\u6837\u672c\u76842\u6b64\u6d4b\u5e8f\uff08\u6216\u8005\u6570\u636e\u4e0a\u4f20\u4e862\u6b21\uff09\uff0c\u56e0\u6b64\u5c06\u5176\u5254\u9664\u3002",
            "title": "2.1 \u6570\u636e QC"
        },
        {
            "location": "/chapter_10/02_comparative-analysis-Ban-genomes/#22",
            "text": "\u5176\u6b21\u8981\u53bb\u9664\u63a5\u5934\u7684\u6c61\u67d3\u3002\u56e0\u4e3a\u5206\u6790\u6d41\u7a0b\u4e2d\u4e0d\u4ec5\u5305\u62ec mapping \u7684\u65b9\u5f0f\uff0c\u8fd8\u5305\u542b de novo assembly\uff0c\u4e3a\u4e86\u907f\u514d\u63a5\u5934\u5e8f\u5217\u5bf9\u57fa\u56e0\u7ec4\u62fc\u63a5\u7684\u5f71\u54cd\uff0c\u8fd9\u91cc\u6700\u597d\u8fdb\u884c\u3002\u8fd9\u91cc\u4f7f\u7528\u7684\u5de5\u5177\u662f  FastQC  \u548c  fadapa  # \u4f7f\u7528\u811a\u672c scan_adaptors.py \u6765\u626b\u63cf\u4e0b\u8f7d\u7684\u9ad8\u901a\u91cf\u57fa\u56e0\u7ec4\u6d4b\u5e8f\u6570\u636e\u662f\u5426\u6709\u63a5\u5934\u6c61\u67d3\u7684\u60c5\u51b5\u3002 \n$ fastqc -t  40  -q --extract *.fastq.gz\n$ python scan_fastqc_report.py -d qc  \u63a5\u5934\u53bb\u9664\u8f6f\u4ef6\u5f88\u591a\uff0c\u4f46\u662f\u8981\u81ea\u52a8\u5224\u65ad\u5e76\u4e14\u6279\u91cf\u5904\u7406\u6700\u597d\u81ea\u5df1\u5199\u811a\u672c\u6bd4\u8f83\u65b9\u4fbf\u3002\u8fd9\u91cc\u7528 python \u5199\u4e00\u4e2a\u6279\u91cf\u79fb\u9664\u7684\u811a\u672c\u3002  #!usr/bin/env python  # -*- coding: utf-8 -*-  # scripts name: scan_fastqc_report.py  import   os  from   Bio.Seq   import   Seq  from   Bio   import   SeqIO  from   Bio.SeqRecord   import   SeqRecord  from   Bio.Alphabet   import   generic_nucleotide  from   fadapa   import   Fadapa  import   argparse  parser   =   argparse . ArgumentParser ()  parser . add_argument ( '-i' ,   '--input' ,   action = 'store' ,   dest = 'qcfile' ,   type = str ,   help = \"fastqc extract data file\" )  parser . add_argument ( '-o' ,   '--output' ,   action = 'store' ,   dest = 'adaptor' ,   type = str ,   help = \"adaptors file\" )  args   =   parser . parse_args ()  qc_file   =   Fadapa ( args . qcfile )  if   qc_file . summary ()[ - 3 ][ 0 ]   ==   'fail' : \n     adaptors   =   [] \n     ors   =   qc_file . clean_data ( \"Overrepresented sequences\" ) \n     ors . pop ( 0 ) \n\n     for   ( index ,   seq )   in   enumerate ( ors ): \n         if   'NNNNNN'   in   seq [ 0 ]: \n             continue \n         adaptors . append ( SeqRecord ( Seq ( seq [ 0 ],   generic_nucleotide ),   id = \"adaptor_ %d \"   %   ( index + 1 ))) \n\n     if   not   os . path . exists ( args . adaptor ): \n         os . makedirs ( args . adaptor ) \n     SeqIO . write ( adaptors ,   \" %s /adaptor.fasta\"   %   args . adaptor ,   \"fasta\" ) \n     print   \"Overrepresented sequences has been save to adaptors.fasta\"  else : \n     print   \"No Overrepresented sequences\"",
            "title": "2.2 \u53bb\u9664\u63a5\u5934"
        },
        {
            "location": "/chapter_10/02_comparative-analysis-Ban-genomes/#3-pangenome",
            "text": "\u5e38\u7528\u7684 Pangenome \u5206\u6790\u5305\u62ec\u57fa\u56e0\u7ec4\u7ec4\u88c5\u6ce8\u91ca\u540e\u5bf9\u57fa\u56e0",
            "title": "3. Pangenome \u5206\u6790"
        },
        {
            "location": "/chapter_10/02_comparative-analysis-Ban-genomes/#31",
            "text": "\u7ec4\u88c5\u7ec6\u83cc\u57fa\u56e0\u7ec4\u6700\u5e38\u7528\u7684\u5de5\u5177\u662f  spades \uff0c\u5b83\u53ef\u4ee5\u5206\u6279\u5bf9\u591a\u4e2akmer\u8fdb\u884c\u7ec4\u88c5\u3002  # spades \u7ec4\u88c5 \n$  for  i in  $( awk -F '_'   '!a[$1]++{print}' ) ;   do  spades.py --careful  \\ \n> -k  21 ,33,55,77,99,121 -1  $i_1 .fastq.gz -2  $i_2 .fastq.gz -T  40  -o  $i ;   done   \u4f46\u662f\u7531\u4e8e\u4e0b\u8f7d\u7684\u6279\u91cf\u6570\u636e\u91c7\u7528\u4e0d\u540c\u5e73\u53f0\uff0c\u5728\u4e0d\u540c\u65f6\u95f4\u8fdb\u884c\u7684\u6d4b\u5e8f\uff0c\u8bfb\u957f\u5f7c\u6b64\u5dee\u5f02\u8fd8\u662f\u6bd4\u8f83\u5927\u7684\u3002\u6bd4\u598210K\u75c5\u539f\u57fa\u56e0\u7ec4\u8ba1\u5212\u91cc\uff0c\u5f88\u591a\u6837\u672c\u9002\u7528 miseq \u8fdb\u884c\u6d4b\u5e8f\u7684\uff0c\u8bfb\u957f\u53ef\u8fbe250\u4ee5\u4e0a\uff0c\u800c\u5f88\u591a\u5546\u4e1a\u516c\u53f8\u6216\u8005\u79d1\u7814\u9662\u6821\u5219\u7528 hiseq \u6d4b\u5e8f\uff0c\u8bfb\u957f\u4e00\u822c\u5728100\uff5e150\u3002\u7528\u540c\u4e00\u4e2a\u53c2\u6570\u6765\u7ec4\u88c5\u53ef\u80fd\u4e0d\u4f1a\u83b7\u5f97\u8f83\u597d\u7684\u7ed3\u679c\u3002 shovill \u5de5\u5177\u53ef\u4ee5\u5e2e\u6211\u4eec\u81ea\u52a8\u5316\u6700\u4f73kmer\u9009\u62e9\uff0c\u53bb\u9664\u4f4e\u8986\u76d6contigs\u7b49\u64cd\u4f5c\uff0c\u4e00\u6b65\u8fbe\u5230\u8f83\u597d\u7684\u7ec4\u88c5\u5e8f\u5217\u3002  # shovill \u7ec4\u88c5 \n$  for  i in  $( awk -F '_'   '!a[$1]++{print}' ) ;   do  shovill -R1  $i_1 .fastq.gz -R2  $i_2 .fastq.gz -o  $i ;   done",
            "title": "3.1 \u57fa\u56e0\u7ec4\u7ec4\u88c5"
        },
        {
            "location": "/chapter_10/02_comparative-analysis-Ban-genomes/#32",
            "text": "$  for  i in  $( awk -F '_'   '!a[$1]++{print}' ) ;   do  prokka --prefix prokka_ $i   $i /contigs.fa ;   done",
            "title": "3.2 \u57fa\u56e0\u7ec4\u6ce8\u91ca"
        },
        {
            "location": "/chapter_10/02_comparative-analysis-Ban-genomes/#33-roary",
            "text": "$ cp prokka_*/ $i .gff gff/  &&   cd  gff\n$ roary -p -e mafft *.gff",
            "title": "3.3 \u7528 Roary \u8fdb\u884c\u5206\u6790"
        },
        {
            "location": "/chapter_10/02_comparative-analysis-Ban-genomes/#34-harvest",
            "text": "$ parsnp",
            "title": "3.4 Harvest"
        },
        {
            "location": "/chapter_10/02_comparative-analysis-Ban-genomes/#4-snps",
            "text": "$ raxml -f a -x  12345  -p  12345  -#100 -n ban -T  40  -s snp -m GTRGAMMA",
            "title": "4. SNPs \u6784\u5efa\u8fdb\u5316\u6811"
        },
        {
            "location": "/chapter_10/02_comparative-analysis-Ban-genomes/#41-mapping",
            "text": "Snippy  # snippy mapping \n$  for  i in *.fastq.gz  |  sort  |  uniq ;   \\ \n>  do  snippy --cpus  40  --outdir  $i  -ref reference.fa  \\ \n> --R1  $i *_1*.fastq.gz --R2  $i *_2*.fastq.gz ;   done  # snippy-core \u6c47\u96c6 snps \n$ snippy-core --prefix core-snps SRR* DRR* ERR* # raxml \u7ed8\u5236\u8fdb\u5316\u6811 \n$ raxml -f a -x  12345  -p  12345  -#  100  -m GTRGAMMA -s core-snps.aln -n ex -T  40  # \u5c06 raxml \u8fdb\u5316\u6811\u7ed3\u679c\u6587\u4ef6\u4ece\u670d\u52a1\u5668\u4f20\u5230\u672c\u5730\u7535\u8111\uff0c\u7528 figtree \u751f\u6210\u56fe\u7247 \n$ scp user@server-ip:/path/RAxML_bestTree.ex .\n$ figtree RAxML_bestTree.ex  &   Tools",
            "title": "4.1 \u57fa\u4e8e\u53c2\u8003\u57fa\u56e0\u7ec4 Mapping \u7684\u65b9\u6cd5"
        },
        {
            "location": "/chapter_10/02_comparative-analysis-Ban-genomes/#5",
            "text": "",
            "title": "5. \u6838\u5fc3\u57fa\u56e0\u5206\u6790"
        },
        {
            "location": "/chapter_10/02_comparative-analysis-Ban-genomes/#51-get_homologues",
            "text": "",
            "title": "5.1 get_homologues"
        },
        {
            "location": "/chapter_10/02_comparative-analysis-Ban-genomes/#6",
            "text": "edirect  $ wget ftp://ftp.ncbi.nlm.nih.gov/entrez/entrezdirect/edirect.tar.gz\n$ sudo tar zxf edirect.tar.gz -C /opt\n$ sudo chown -R root:root /opt/edirect\n$  cd  /opt/edirect  &&  sudo ./setup.sh\n$ sudo ln -s /opt/edirect/* /usr/local/sbin/  sra-tools  $ wget http://ftp-trace.ncbi.nlm.nih.gov/sra/sdk/2.7.0/sratoolkit.2.7.0-ubuntu64.tar.gz\n$ sudo tar zxf sratoolkit.2.7.0-ubuntu64.tar.gz -C /opt/sratoolkit\n$ sudo chown -R root:root /opt/sratoolkit  &&   cd  /opt/sratoolkit\n$ sudo ln -s  ` pwd ` /bin/* /usr/local/sbin/  bio-awk  $ sudo apt-get install bison\n$ git clone https://github.com/lh3/bioawk\n$  cd  bioawk  &&  make\n$ sudo cp bioawk /usr/local/sbin  parallel  $ sudo apt install parallel  gplot  $ sudo apt install gnuplot\n$ git clone https://github.com/RhysU/gplot\n$ sudo cp gplot/gplot /usr/local/sbin  FastQC  $ wget http://www.bioinformatics.babraham.ac.uk/projects/fastqc/fastqc_v0.11.5.zip\n$ sudo unzip fastqc_v0.11.5.zip\n$ sudo mv fastqc_v0.11.5 /opt/fastqc  &&  sudo chown -R root:root /opt/fastqc\n$ sudo cp /opt/fastqc/fastqc /usr/local/sbin  Fadapa  $ sudo pip install fadapa  snippy  $ git clone https://github.com/tseemann/snippy\n$ sudo cp snippy/bin/* /usr/local/sbin\n$ sudo cp snippy/binaries/linux/* /usr/local/sbin  RAxML  $ wget https://github.com/stamatak/standard-RAxML/archive/v8.1.17.tar.gz\n$ sudo tar zxf v8.1.17.tar.gz -C /opt/raxml\n$ sudo chown -R root:root /opt/raxml  &&   cd  /opt/raxml\n$ sudo make -f Makefile.SSE3.PTHREADS.gcc\n$ sudo ln -s  ` pwd ` /raxmlHPC-PTHREADS-SSE3 /usr/local/raxml",
            "title": "6. \u76f8\u5173\u8f6f\u4ef6\u5b89\u88c5"
        },
        {
            "location": "/chapter_10/02_comparative-analysis-Ban-genomes/#7-reference",
            "text": "edirect help book:  http://www.ncbi.nlm.nih.gov/books/NBK179288/  sra-tools wiki:  https://github.com/ncbi/sra-tools/wiki  parallel tutorial:  https://www.biostars.org/p/63816/  gnuplot tutorial:  http://lzz5235.github.io/2016/01/12/gnuplot.html  gplot usage:  https://github.com/RhysU/gplot/blob/master/README.md",
            "title": "7. Reference"
        }
    ]
}